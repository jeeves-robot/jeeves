(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*! @license Firebase v2.4.2
    License: https://www.firebase.com/terms/terms-of-service.html */
(function() {var h,n=this;function p(a){return void 0!==a}function aa(){}function ba(a){a.yb=function(){return a.zf?a.zf:a.zf=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function r(a){return"function"==ca(a)}function ga(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function u(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return u.apply(null,arguments)}var ja=Date.now||function(){return+new Date};
function ka(a,b){function c(){}c.prototype=b.prototype;a.ph=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.lh=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function la(a){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ka(la,Error);la.prototype.name="CustomError";function v(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ma(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function na(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function oa(a){var b=0,c;for(c in a)b++;return b}function pa(a){for(var b in a)return b}function qa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ra(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function sa(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function ta(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function ua(a,b){var c=ta(a,b,void 0);return c&&a[c]}function va(a){for(var b in a)return!1;return!0}function wa(a){var b={},c;for(c in a)b[c]=a[c];return b}var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function ya(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<xa.length;f++)c=xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function za(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Aa(){this.Vd=void 0}
function Ba(a,b,c){switch(typeof b){case "string":Ca(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ba(a,a.Vd?a.Vd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Ca(f,c),
c.push(":"),Ba(a,a.Vd?a.Vd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Ca(a,b){b.push('"',a.replace(Ea,function(a){if(a in Da)return Da[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Da[a]=e+b.toString(16)}),'"')};function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)};var w;a:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break a}}w=""};function Ia(){this.Ya=-1};function Ja(){this.Ya=-1;this.Ya=64;this.P=[];this.pe=[];this.eg=[];this.Od=[];this.Od[0]=128;for(var a=1;a<this.Ya;++a)this.Od[a]=0;this.ge=this.ec=0;this.reset()}ka(Ja,Ia);Ja.prototype.reset=function(){this.P[0]=1732584193;this.P[1]=4023233417;this.P[2]=2562383102;this.P[3]=271733878;this.P[4]=3285377520;this.ge=this.ec=0};
function Ka(a,b,c){c||(c=0);var d=a.eg;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.P[0];c=a.P[1];for(var g=a.P[2],k=a.P[3],m=a.P[4],l,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),l=1518500249):(f=c^g^k,l=1859775393):60>e?(f=c&g|k&(c|g),l=2400959708):(f=c^g^k,l=3395469782),f=(b<<
5|b>>>27)+f+m+l+d[e]&4294967295,m=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.P[0]=a.P[0]+b&4294967295;a.P[1]=a.P[1]+c&4294967295;a.P[2]=a.P[2]+g&4294967295;a.P[3]=a.P[3]+k&4294967295;a.P[4]=a.P[4]+m&4294967295}
Ja.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.Ya,d=0,e=this.pe,f=this.ec;d<b;){if(0==f)for(;d<=c;)Ka(this,a,d),d+=this.Ya;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ya){Ka(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ya){Ka(this,e);f=0;break}}this.ec=f;this.ge+=b}};var x=Array.prototype,La=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Na=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Oa=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Pa=x.reduce?function(a,b,c,d){for(var e=[],f=1,g=arguments.length;f<g;f++)e.push(arguments[f]);d&&(e[0]=u(b,d));return x.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ma(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Qa=x.every?function(a,b,
c){return x.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ra(a,b){var c=Sa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Sa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ta(a,b){var c=La(a,b);0<=c&&x.splice.call(a,c,1)}function Ua(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)}
function Va(a,b){a.sort(b||Wa)}function Wa(a,b){return a>b?1:a<b?-1:0};function Xa(a){n.setTimeout(function(){throw a;},0)}var Ya;
function Za(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=u(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.hb;c.hb=null;a()}};return function(a){d.next={hb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=
document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function $a(a,b){ab||bb();cb||(ab(),cb=!0);db.push(new eb(a,b))}var ab;function bb(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve();ab=function(){a.then(fb)}}else ab=function(){var a=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(a)):n.setImmediate(a)}}var cb=!1,db=[];[].push(function(){cb=!1;db=[]});
function fb(){for(;db.length;){var a=db;db=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.yg.call(c.scope)}catch(d){Xa(d)}}}cb=!1}function eb(a,b){this.yg=a;this.scope=b};var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(gb&&n.opera)return a=n.opera.version,r(a)?a():a;ib?b=/rv\:([^\);]+)(\)|;)/:hb?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(w))?a[1]:"");return hb&&(b=(b=n.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var kb=null,lb=null,mb=null;function nb(a,b){if(!ea(a))throw Error("encodeByteArray takes an array as a parameter");ob();for(var c=b?lb:kb,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,m=e+2<a.length,l=m?a[e+2]:0,t=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|l>>6,l=l&63;m||(l=64,g||(k=64));d.push(c[t],c[f],c[k],c[l])}return d.join("")}
function ob(){if(!kb){kb={};lb={};mb={};for(var a=0;65>a;a++)kb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),lb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),mb[lb[a]]=a,62<=a&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}};function pb(a,b){this.N=qb;this.Rf=void 0;this.Ba=this.Ha=null;this.yd=this.ye=!1;if(a==rb)sb(this,tb,b);else try{var c=this;a.call(b,function(a){sb(c,tb,a)},function(a){if(!(a instanceof ub))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}sb(c,vb,a)})}catch(d){sb(this,vb,d)}}var qb=0,tb=2,vb=3;function rb(){}pb.prototype.then=function(a,b,c){return wb(this,r(a)?a:null,r(b)?b:null,c)};pb.prototype.then=pb.prototype.then;pb.prototype.$goog_Thenable=!0;h=pb.prototype;
h.gh=function(a,b){return wb(this,null,a,b)};h.cancel=function(a){this.N==qb&&$a(function(){var b=new ub(a);xb(this,b)},this)};function xb(a,b){if(a.N==qb)if(a.Ha){var c=a.Ha;if(c.Ba){for(var d=0,e=-1,f=0,g;g=c.Ba[f];f++)if(g=g.o)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.N==qb&&1==d?xb(c,b):(d=c.Ba.splice(e,1)[0],yb(c,d,vb,b)))}a.Ha=null}else sb(a,vb,b)}function zb(a,b){a.Ba&&a.Ba.length||a.N!=tb&&a.N!=vb||Ab(a);a.Ba||(a.Ba=[]);a.Ba.push(b)}
function wb(a,b,c,d){var e={o:null,Hf:null,Jf:null};e.o=new pb(function(a,g){e.Hf=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.Jf=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof ub?g(b):a(e)}catch(l){g(l)}}:g});e.o.Ha=a;zb(a,e);return e.o}h.Yf=function(a){this.N=qb;sb(this,tb,a)};h.Zf=function(a){this.N=qb;sb(this,vb,a)};
function sb(a,b,c){if(a.N==qb){if(a==c)b=vb,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.N=1;c.then(a.Yf,a.Zf,a);return}if(ga(c))try{var f=c.then;if(r(f)){Bb(a,c,f);return}}catch(g){b=vb,c=g}}a.Rf=c;a.N=b;a.Ha=null;Ab(a);b!=vb||c instanceof ub||Cb(a,c)}}function Bb(a,b,c){function d(b){f||(f=!0,a.Zf(b))}function e(b){f||(f=!0,a.Yf(b))}a.N=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}
function Ab(a){a.ye||(a.ye=!0,$a(a.wg,a))}h.wg=function(){for(;this.Ba&&this.Ba.length;){var a=this.Ba;this.Ba=null;for(var b=0;b<a.length;b++)yb(this,a[b],this.N,this.Rf)}this.ye=!1};function yb(a,b,c,d){if(c==tb)b.Hf(d);else{if(b.o)for(;a&&a.yd;a=a.Ha)a.yd=!1;b.Jf(d)}}function Cb(a,b){a.yd=!0;$a(function(){a.yd&&Db.call(null,b)})}var Db=Xa;function ub(a){la.call(this,a)}ka(ub,la);ub.prototype.name="cancel";var Eb=Eb||"2.4.2";function y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function z(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Fb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function Gb(a){var b={};Fb(a,function(a,d){b[a]=d});return b}function Hb(a){return"object"===typeof a&&null!==a};function Ib(a){var b=[];Fb(a,function(a,d){da(d)?Ma(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function Jb(a){var b={};a=a.replace(/^\?/,"").split("&");Ma(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function Kb(a,b){if(!a)throw Lb(b);}function Lb(a){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+a)};var Mb=n.Promise||pb;pb.prototype["catch"]=pb.prototype.gh;function B(){var a=this;this.reject=this.resolve=null;this.D=new Mb(function(b,c){a.resolve=b;a.reject=c})}function C(a,b){return function(c,d){c?a.reject(c):a.resolve(d);r(b)&&(Nb(a.D),1===b.length?b(c):b(c,d))}}function Nb(a){a.then(void 0,aa)};function Ob(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,Kb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function Pb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function D(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function E(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function F(a,b,c,d){if((!d||p(c))&&!r(c))throw Error(E(a,b,d)+"must be a valid function.");}function Qb(a,b,c){if(p(c)&&(!ga(c)||null===c))throw Error(E(a,b,!0)+"must be a valid context object.");};function Rb(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):za(a)}function G(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ba(new Aa,a,b);a=b.join("")}return a};function Sb(){this.Zd=H}Sb.prototype.j=function(a){return this.Zd.S(a)};Sb.prototype.toString=function(){return this.Zd.toString()};function Tb(){}Tb.prototype.uf=function(){return null};Tb.prototype.Ce=function(){return null};var Ub=new Tb;function Vb(a,b,c){this.bg=a;this.Oa=b;this.Nd=c}Vb.prototype.uf=function(a){var b=this.Oa.Q;if(Wb(b,a))return b.j().T(a);b=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w();return this.bg.Bc(a,b)};Vb.prototype.Ce=function(a,b,c){var d=null!=this.Nd?this.Nd:Yb(this.Oa);a=this.bg.qe(d,b,1,c,a);return 0===a.length?null:a[0]};function Zb(){this.xb=[]}function $b(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.cc();null===c||f.ea(c.cc())||(a.xb.push(c),c=null);null===c&&(c=new ac(f));c.add(e)}c&&a.xb.push(c)}function bc(a,b,c){$b(a,c);cc(a,function(a){return a.ea(b)})}function dc(a,b,c){$b(a,c);cc(a,function(a){return a.contains(b)||b.contains(a)})}
function cc(a,b){for(var c=!0,d=0;d<a.xb.length;d++){var e=a.xb[d];if(e)if(e=e.cc(),b(e)){for(var e=a.xb[d],f=0;f<e.xd.length;f++){var g=e.xd[f];if(null!==g){e.xd[f]=null;var k=g.Zb();ec&&fc("event: "+g.toString());gc(k)}}a.xb[d]=null}else c=!1}c&&(a.xb=[])}function ac(a){this.ta=a;this.xd=[]}ac.prototype.add=function(a){this.xd.push(a)};ac.prototype.cc=function(){return this.ta};function J(a,b,c,d){this.type=a;this.Na=b;this.Za=c;this.Oe=d;this.Td=void 0}function hc(a){return new J(ic,a)}var ic="value";function jc(a,b,c,d){this.xe=b;this.be=c;this.Td=d;this.wd=a}jc.prototype.cc=function(){var a=this.be.Mb();return"value"===this.wd?a.path:a.parent().path};jc.prototype.De=function(){return this.wd};jc.prototype.Zb=function(){return this.xe.Zb(this)};jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())};function kc(a,b,c){this.xe=a;this.error=b;this.path=c}kc.prototype.cc=function(){return this.path};kc.prototype.De=function(){return"cancel"};
kc.prototype.Zb=function(){return this.xe.Zb(this)};kc.prototype.toString=function(){return this.path.toString()+":cancel"};function Xb(a,b,c){this.A=a;this.ga=b;this.Yb=c}function lc(a){return a.ga}function mc(a){return a.Yb}function nc(a,b){return b.e()?a.ga&&!a.Yb:Wb(a,K(b))}function Wb(a,b){return a.ga&&!a.Yb||a.A.Fa(b)}Xb.prototype.j=function(){return this.A};function oc(a){this.pg=a;this.Gd=null}oc.prototype.get=function(){var a=this.pg.get(),b=wa(a);if(this.Gd)for(var c in this.Gd)b[c]-=this.Gd[c];this.Gd=a;return b};function pc(a,b){this.Vf={};this.hd=new oc(a);this.da=b;var c=1E4+2E4*Math.random();setTimeout(u(this.Of,this),Math.floor(c))}pc.prototype.Of=function(){var a=this.hd.get(),b={},c=!1,d;for(d in a)0<a[d]&&y(this.Vf,d)&&(b[d]=a[d],c=!0);c&&this.da.Ye(b);setTimeout(u(this.Of,this),Math.floor(6E5*Math.random()))};function qc(){this.Hc={}}function rc(a,b,c){p(c)||(c=1);y(a.Hc,b)||(a.Hc[b]=0);a.Hc[b]+=c}qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};function uc(a){a=a.toString();sc[a]||(sc[a]=new qc);return sc[a]}function vc(a,b){var c=a.toString();tc[c]||(tc[c]=b());return tc[c]};function L(a,b){this.name=a;this.U=b}function wc(a,b){return new L(a,b)};function xc(a,b){return yc(a.name,b.name)}function zc(a,b){return yc(a,b)};function Ac(a,b,c){this.type=Bc;this.source=a;this.path=b;this.Ja=c}Ac.prototype.$c=function(a){return this.path.e()?new Ac(this.source,M,this.Ja.T(a)):new Ac(this.source,N(this.path),this.Ja)};Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"};function Cc(a,b){this.type=Dc;this.source=a;this.path=b}Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))};Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function Ec(a,b){this.Pa=a;this.xa=b?b:Fc}h=Ec.prototype;h.Sa=function(a,b){return new Ec(this.Pa,this.xa.Sa(a,b,this.Pa).$(null,null,!1,null,null))};h.remove=function(a){return new Ec(this.Pa,this.xa.remove(a,this.Pa).$(null,null,!1,null,null))};h.get=function(a){for(var b,c=this.xa;!c.e();){b=this.Pa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Gc(a,b){for(var c,d=a.xa,e=null;!d.e();){c=a.Pa(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.e=function(){return this.xa.e()};h.count=function(){return this.xa.count()};h.Vc=function(){return this.xa.Vc()};h.jc=function(){return this.xa.jc()};h.ka=function(a){return this.xa.ka(a)};
h.ac=function(a){return new Hc(this.xa,null,this.Pa,!1,a)};h.bc=function(a,b){return new Hc(this.xa,a,this.Pa,!1,b)};h.dc=function(a,b){return new Hc(this.xa,a,this.Pa,!0,b)};h.xf=function(a){return new Hc(this.xa,null,this.Pa,!0,a)};function Hc(a,b,c,d,e){this.Xd=e||null;this.Je=d;this.Ta=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Je?a.left:a.right;else if(0===e){this.Ta.push(a);break}else this.Ta.push(a),a=this.Je?a.right:a.left}
function Ic(a){if(0===a.Ta.length)return null;var b=a.Ta.pop(),c;c=a.Xd?a.Xd(b.key,b.value):{key:b.key,value:b.value};if(a.Je)for(b=b.left;!b.e();)a.Ta.push(b),b=b.right;else for(b=b.right;!b.e();)a.Ta.push(b),b=b.left;return c}function Jc(a){if(0===a.Ta.length)return null;var b;b=a.Ta;b=b[b.length-1];return a.Xd?a.Xd(b.key,b.value):{key:b.key,value:b.value}}function Kc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Fc;this.right=null!=e?e:Fc}h=Kc.prototype;
h.$=function(a,b,c,d,e){return new Kc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.e=function(){return!1};h.ka=function(a){return this.left.ka(a)||a(this.key,this.value)||this.right.ka(a)};function Lc(a){return a.left.e()?a:Lc(a.left)}h.Vc=function(){return Lc(this).key};h.jc=function(){return this.right.e()?this.key:this.right.jc()};
h.Sa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.$(null,null,null,e.left.Sa(a,b,c),null):0===d?e.$(null,b,null,null,null):e.$(null,null,null,null,e.right.Sa(a,b,c));return Mc(e)};function Nc(a){if(a.left.e())return Fc;a.left.ha()||a.left.left.ha()||(a=Oc(a));a=a.$(null,null,null,Nc(a.left),null);return Mc(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.ha()||c.left.left.ha()||(c=Oc(c)),c=c.$(null,null,null,c.left.remove(a,b),null);else{c.left.ha()&&(c=Pc(c));c.right.e()||c.right.ha()||c.right.left.ha()||(c=Qc(c),c.left.left.ha()&&(c=Pc(c),c=Qc(c)));if(0===b(a,c.key)){if(c.right.e())return Fc;d=Lc(c.right);c=c.$(d.key,d.value,null,null,Nc(c.right))}c=c.$(null,null,null,null,c.right.remove(a,b))}return Mc(c)};h.ha=function(){return this.color};
function Mc(a){a.right.ha()&&!a.left.ha()&&(a=Rc(a));a.left.ha()&&a.left.left.ha()&&(a=Pc(a));a.left.ha()&&a.right.ha()&&(a=Qc(a));return a}function Oc(a){a=Qc(a);a.right.left.ha()&&(a=a.$(null,null,null,null,Pc(a.right)),a=Rc(a),a=Qc(a));return a}function Rc(a){return a.right.$(null,null,a.color,a.$(null,null,!0,null,a.right.left),null)}function Pc(a){return a.left.$(null,null,a.color,null,a.$(null,null,!0,a.left.right,null))}
function Qc(a){return a.$(null,null,!a.color,a.left.$(null,null,!a.left.color,null,null),a.right.$(null,null,!a.right.color,null,null))}function Sc(){}h=Sc.prototype;h.$=function(){return this};h.Sa=function(a,b){return new Kc(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.e=function(){return!0};h.ka=function(){return!1};h.Vc=function(){return null};h.jc=function(){return null};h.ha=function(){return!1};var Fc=new Sc;function Tc(a,b){return a&&"object"===typeof a?(O(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Uc(a,b){var c=new Vc;Wc(a,new P(""),function(a,e){c.rc(a,Xc(e,b))});return c}function Xc(a,b){var c=a.C().J(),c=Tc(c,b),d;if(a.L()){var e=Tc(a.Ea(),b);return e!==a.Ea()||c!==a.C().J()?new Yc(e,Q(c)):a}d=a;c!==a.C().J()&&(d=d.ia(new Yc(c)));a.R(R,function(a,c){var e=Xc(c,b);e!==c&&(d=d.W(a,e))});return d};function Zc(){this.Ac={}}Zc.prototype.set=function(a,b){null==b?delete this.Ac[a]:this.Ac[a]=b};Zc.prototype.get=function(a){return y(this.Ac,a)?this.Ac[a]:null};Zc.prototype.remove=function(a){delete this.Ac[a]};Zc.prototype.Af=!0;function $c(a){this.Ic=a;this.Sd="firebase:"}h=$c.prototype;h.set=function(a,b){null==b?this.Ic.removeItem(this.Sd+a):this.Ic.setItem(this.Sd+a,G(b))};h.get=function(a){a=this.Ic.getItem(this.Sd+a);return null==a?null:Rb(a)};h.remove=function(a){this.Ic.removeItem(this.Sd+a)};h.Af=!1;h.toString=function(){return this.Ic.toString()};function ad(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new $c(b)}}catch(c){}return new Zc}var bd=ad("localStorage"),cd=ad("sessionStorage");function dd(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.ob=b;this.lc=c;this.jh=d;this.Rd=e||"";this.ab=bd.get("host:"+a)||this.host}function ed(a,b){b!==a.ab&&(a.ab=b,"s-"===a.ab.substr(0,2)&&bd.set("host:"+a.host,a.ab))}
function fd(a,b,c){O("string"===typeof b,"typeof type must == string");O("object"===typeof c,"typeof params must == object");if(b===gd)b=(a.ob?"wss://":"ws://")+a.ab+"/.ws?";else if(b===hd)b=(a.ob?"https://":"http://")+a.ab+"/.lp?";else throw Error("Unknown connection type: "+b);a.host!==a.ab&&(c.ns=a.lc);var d=[];v(c,function(a,b){d.push(b+"="+a)});return b+d.join("&")}dd.prototype.toString=function(){var a=(this.ob?"https://":"http://")+this.host;this.Rd&&(a+="<"+this.Rd+">");return a};var id=function(){var a=1;return function(){return a++}}(),O=Kb,jd=Lb;
function kd(a){try{var b;if("undefined"!==typeof atob)b=atob(a);else{ob();for(var c=mb,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var m=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==g||null==k||null==m)throw Error();d.push(f<<2|g>>4);64!=k&&(d.push(g<<4&240|k>>2),64!=m&&d.push(k<<6&192|m))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ua(d,c,
c+8192));b=a}}return b}catch(l){fc("base64Decode failed: ",l)}return null}function ld(a){var b=Ob(a);a=new Ja;a.update(b);var b=[],c=8*a.ge;56>a.ec?a.update(a.Od,56-a.ec):a.update(a.Od,a.Ya-(a.ec-56));for(var d=a.Ya-1;56<=d;d--)a.pe[d]=c&255,c/=256;Ka(a,a.pe);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.P[d]>>e&255,++c;return nb(b)}
function md(a){for(var b="",c=0;c<arguments.length;c++)b=ea(arguments[c])?b+md.apply(null,arguments[c]):"object"===typeof arguments[c]?b+G(arguments[c]):b+arguments[c],b+=" ";return b}var ec=null,nd=!0;
function od(a,b){Kb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?ec=u(console.log,console):"object"===typeof console.log&&(ec=function(a){console.log(a)})),b&&cd.set("logging_enabled",!0)):r(a)?ec=a:(ec=null,cd.remove("logging_enabled"))}function fc(a){!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0));if(ec){var b=md.apply(null,arguments);ec(b)}}
function pd(a){return function(){fc(a,arguments)}}function qd(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function rd(a){var b=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}function S(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+md.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function sd(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(q(a)){var m=a.indexOf("//");0<=m&&(g=a.substring(0,m-1),a=a.substring(m+2));m=a.indexOf("/");-1===m&&(m=a.length);b=a.substring(0,m);e="";a=a.substring(m).split("/");for(m=0;m<a.length;m++)if(0<a[m].length){var l=a[m];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(t){}e+="/"+l}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);m=b.indexOf(":");0<=m&&(f="https"===g||"wss"===g,k=b.substring(m+1),isFinite(k)&&
(k=String(k)),k=q(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,fh:d,ob:f,scheme:g,bd:e}}function td(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function ud(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}
function yc(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=vd(a),d=vd(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function wd(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+G(b));}
function xd(a){if("object"!==typeof a||null===a)return G(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=G(b[d]),c+=":",c+=xd(a[b[d]]);return c+"}"}function yd(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function zd(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else v(a,b)}
function Ad(a){O(!td(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Bd=/^-?\d{1,10}$/;function vd(a){return Bd.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function gc(a){try{a()}catch(b){setTimeout(function(){S("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function T(a,b){if(r(a)){var c=Array.prototype.slice.call(arguments,1).slice();gc(function(){a.apply(null,c)})}};function Cd(a){var b={},c={},d={},e="";try{var f=a.split("."),b=Rb(kd(f[0])||""),c=Rb(kd(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{mh:b,Ec:c,data:d,bh:e}}function Dd(a){a=Cd(a).Ec;return"object"===typeof a&&a.hasOwnProperty("iat")?z(a,"iat"):null}function Ed(a){a=Cd(a);var b=a.Ec;return!!a.bh&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function Fd(a){this.Y=a;this.g=a.n.g}function Gd(a,b,c,d){var e=[],f=[];Ma(b,function(b){"child_changed"===b.type&&a.g.Dd(b.Oe,b.Na)&&f.push(new J("child_moved",b.Na,b.Za))});Hd(a,e,"child_removed",b,d,c);Hd(a,e,"child_added",b,d,c);Hd(a,e,"child_moved",f,d,c);Hd(a,e,"child_changed",b,d,c);Hd(a,e,ic,b,d,c);return e}function Hd(a,b,c,d,e,f){d=Na(d,function(a){return a.type===c});Va(d,u(a.qg,a));Ma(d,function(c){var d=Id(a,c,f);Ma(e,function(e){e.Qf(c.type)&&b.push(e.createEvent(d,a.Y))})})}
function Id(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Td=c.wf(b.Za,b.Na,a.g));return b}Fd.prototype.qg=function(a,b){if(null==a.Za||null==b.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(a.Za,a.Na),new L(b.Za,b.Na))};function Jd(){this.ib={}}
function Kd(a,b){var c=b.type,d=b.Za;O("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");O(".priority"!==d,"Only non-priority child changes can be tracked.");var e=z(a.ib,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.ib[d]=new J("child_changed",b.Na,d,e.Na);else if("child_removed"==c&&"child_added"==f)delete a.ib[d];else if("child_removed"==c&&"child_changed"==f)a.ib[d]=new J("child_removed",e.Oe,d);else if("child_changed"==c&&
"child_added"==f)a.ib[d]=new J("child_added",b.Na,d);else if("child_changed"==c&&"child_changed"==f)a.ib[d]=new J("child_changed",b.Na,d,e.Oe);else throw jd("Illegal combination of changes: "+b+" occurred after "+e);}else a.ib[d]=b};function Ld(a){this.g=a}h=Ld.prototype;h.H=function(a,b,c,d,e,f){O(a.Mc(this.g),"A node must be indexed if only a child is updated");e=a.T(b);if(e.S(d).ea(c.S(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Fa(b)?Kd(f,new J("child_removed",e,b)):O(a.L(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Kd(f,new J("child_added",c,b)):Kd(f,new J("child_changed",c,b,e)));return a.L()&&c.e()?a:a.W(b,c).pb(this.g)};
h.ya=function(a,b,c){null!=c&&(a.L()||a.R(R,function(a,e){b.Fa(a)||Kd(c,new J("child_removed",e,a))}),b.L()||b.R(R,function(b,e){if(a.Fa(b)){var f=a.T(b);f.ea(e)||Kd(c,new J("child_changed",e,b,f))}else Kd(c,new J("child_added",e,b))}));return b.pb(this.g)};h.ia=function(a,b){return a.e()?H:a.ia(b)};h.Ra=function(){return!1};h.$b=function(){return this};function Md(a){this.Fe=new Ld(a.g);this.g=a.g;var b;a.oa?(b=Nd(a),b=a.g.Sc(Od(a),b)):b=a.g.Wc();this.gd=b;a.ra?(b=Pd(a),a=a.g.Sc(Rd(a),b)):a=a.g.Tc();this.Jc=a}h=Md.prototype;h.matches=function(a){return 0>=this.g.compare(this.gd,a)&&0>=this.g.compare(a,this.Jc)};h.H=function(a,b,c,d,e,f){this.matches(new L(b,c))||(c=H);return this.Fe.H(a,b,c,d,e,f)};
h.ya=function(a,b,c){b.L()&&(b=H);var d=b.pb(this.g),d=d.ia(H),e=this;b.R(R,function(a,b){e.matches(new L(a,b))||(d=d.W(a,H))});return this.Fe.ya(a,d,c)};h.ia=function(a){return a};h.Ra=function(){return!0};h.$b=function(){return this.Fe};function Sd(a){this.ua=new Md(a);this.g=a.g;O(a.la,"Only valid if limit has been set");this.ma=a.ma;this.Nb=!Td(a)}h=Sd.prototype;h.H=function(a,b,c,d,e,f){this.ua.matches(new L(b,c))||(c=H);return a.T(b).ea(c)?a:a.Hb()<this.ma?this.ua.$b().H(a,b,c,d,e,f):Ud(this,a,b,c,e,f)};
h.ya=function(a,b,c){var d;if(b.L()||b.e())d=H.pb(this.g);else if(2*this.ma<b.Hb()&&b.Mc(this.g)){d=H.pb(this.g);b=this.Nb?b.dc(this.ua.Jc,this.g):b.bc(this.ua.gd,this.g);for(var e=0;0<b.Ta.length&&e<this.ma;){var f=Ic(b),g;if(g=this.Nb?0>=this.g.compare(this.ua.gd,f):0>=this.g.compare(f,this.ua.Jc))d=d.W(f.name,f.U),e++;else break}}else{d=b.pb(this.g);d=d.ia(H);var k,m,l;if(this.Nb){b=d.xf(this.g);k=this.ua.Jc;m=this.ua.gd;var t=Vd(this.g);l=function(a,b){return t(b,a)}}else b=d.ac(this.g),k=this.ua.gd,
m=this.ua.Jc,l=Vd(this.g);for(var e=0,A=!1;0<b.Ta.length;)f=Ic(b),!A&&0>=l(k,f)&&(A=!0),(g=A&&e<this.ma&&0>=l(f,m))?e++:d=d.W(f.name,H)}return this.ua.$b().ya(a,d,c)};h.ia=function(a){return a};h.Ra=function(){return!0};h.$b=function(){return this.ua.$b()};
function Ud(a,b,c,d,e,f){var g;if(a.Nb){var k=Vd(a.g);g=function(a,b){return k(b,a)}}else g=Vd(a.g);O(b.Hb()==a.ma,"");var m=new L(c,d),l=a.Nb?Wd(b,a.g):Xd(b,a.g),t=a.ua.matches(m);if(b.Fa(c)){for(var A=b.T(c),l=e.Ce(a.g,l,a.Nb);null!=l&&(l.name==c||b.Fa(l.name));)l=e.Ce(a.g,l,a.Nb);e=null==l?1:g(l,m);if(t&&!d.e()&&0<=e)return null!=f&&Kd(f,new J("child_changed",d,c,A)),b.W(c,d);null!=f&&Kd(f,new J("child_removed",A,c));b=b.W(c,H);return null!=l&&a.ua.matches(l)?(null!=f&&Kd(f,new J("child_added",
l.U,l.name)),b.W(l.name,l.U)):b}return d.e()?b:t&&0<=g(l,m)?(null!=f&&(Kd(f,new J("child_removed",l.U,l.name)),Kd(f,new J("child_added",d,c))),b.W(c,d).W(l.name,H)):b};function Yd(a,b){this.me=a;this.og=b}function Zd(a){this.X=a}
Zd.prototype.gb=function(a,b,c,d){var e=new Jd,f;if(b.type===Bc)b.source.Ae?c=$d(this,a,b.path,b.Ja,c,d,e):(O(b.source.tf,"Unknown source."),f=b.source.ef||mc(a.w())&&!b.path.e(),c=ae(this,a,b.path,b.Ja,c,d,f,e));else if(b.type===be)b.source.Ae?c=ce(this,a,b.path,b.children,c,d,e):(O(b.source.tf,"Unknown source."),f=b.source.ef||mc(a.w()),c=de(this,a,b.path,b.children,c,d,f,e));else if(b.type===ee)if(b.Yd)if(b=b.path,null!=c.xc(b))c=a;else{f=new Vb(c,a,d);d=a.Q.j();if(b.e()||".priority"===K(b))lc(a.w())?
b=c.Aa(Yb(a)):(b=a.w().j(),O(b instanceof fe,"serverChildren would be complete if leaf node"),b=c.Cc(b)),b=this.X.ya(d,b,e);else{var g=K(b),k=c.Bc(g,a.w());null==k&&Wb(a.w(),g)&&(k=d.T(g));b=null!=k?this.X.H(d,g,k,N(b),f,e):a.Q.j().Fa(g)?this.X.H(d,g,H,N(b),f,e):d;b.e()&&lc(a.w())&&(d=c.Aa(Yb(a)),d.L()&&(b=this.X.ya(b,d,e)))}d=lc(a.w())||null!=c.xc(M);c=ge(a,b,d,this.X.Ra())}else c=he(this,a,b.path,b.Ub,c,d,e);else if(b.type===Dc)d=b.path,b=a.w(),f=b.j(),g=b.ga||d.e(),c=ie(this,new je(a.Q,new Xb(f,
g,b.Yb)),d,c,Ub,e);else throw jd("Unknown operation type: "+b.type);e=qa(e.ib);d=c;b=d.Q;b.ga&&(f=b.j().L()||b.j().e(),g=ke(a),(0<e.length||!a.Q.ga||f&&!b.j().ea(g)||!b.j().C().ea(g.C()))&&e.push(hc(ke(d))));return new Yd(c,e)};
function ie(a,b,c,d,e,f){var g=b.Q;if(null!=d.xc(c))return b;var k;if(c.e())O(lc(b.w()),"If change path is empty, we must have complete server data"),mc(b.w())?(e=Yb(b),d=d.Cc(e instanceof fe?e:H)):d=d.Aa(Yb(b)),f=a.X.ya(b.Q.j(),d,f);else{var m=K(c);if(".priority"==m)O(1==le(c),"Can't have a priority with additional path components"),f=g.j(),k=b.w().j(),d=d.nd(c,f,k),f=null!=d?a.X.ia(f,d):g.j();else{var l=N(c);Wb(g,m)?(k=b.w().j(),d=d.nd(c,g.j(),k),d=null!=d?g.j().T(m).H(l,d):g.j().T(m)):d=d.Bc(m,
b.w());f=null!=d?a.X.H(g.j(),m,d,l,e,f):g.j()}}return ge(b,f,g.ga||c.e(),a.X.Ra())}function ae(a,b,c,d,e,f,g,k){var m=b.w();g=g?a.X:a.X.$b();if(c.e())d=g.ya(m.j(),d,null);else if(g.Ra()&&!m.Yb)d=m.j().H(c,d),d=g.ya(m.j(),d,null);else{var l=K(c);if(!nc(m,c)&&1<le(c))return b;var t=N(c);d=m.j().T(l).H(t,d);d=".priority"==l?g.ia(m.j(),d):g.H(m.j(),l,d,t,Ub,null)}m=m.ga||c.e();b=new je(b.Q,new Xb(d,m,g.Ra()));return ie(a,b,c,e,new Vb(e,b,f),k)}
function $d(a,b,c,d,e,f,g){var k=b.Q;e=new Vb(e,b,f);if(c.e())g=a.X.ya(b.Q.j(),d,g),a=ge(b,g,!0,a.X.Ra());else if(f=K(c),".priority"===f)g=a.X.ia(b.Q.j(),d),a=ge(b,g,k.ga,k.Yb);else{c=N(c);var m=k.j().T(f);if(!c.e()){var l=e.uf(f);d=null!=l?".priority"===me(c)&&l.S(c.parent()).e()?l:l.H(c,d):H}m.ea(d)?a=b:(g=a.X.H(k.j(),f,d,c,e,g),a=ge(b,g,k.ga,a.X.Ra()))}return a}
function ce(a,b,c,d,e,f,g){var k=b;ne(d,function(d,l){var t=c.o(d);Wb(b.Q,K(t))&&(k=$d(a,k,t,l,e,f,g))});ne(d,function(d,l){var t=c.o(d);Wb(b.Q,K(t))||(k=$d(a,k,t,l,e,f,g))});return k}function oe(a,b){ne(b,function(b,d){a=a.H(b,d)});return a}
function de(a,b,c,d,e,f,g,k){if(b.w().j().e()&&!lc(b.w()))return b;var m=b;c=c.e()?d:pe(qe,c,d);var l=b.w().j();c.children.ka(function(c,d){if(l.Fa(c)){var I=b.w().j().T(c),I=oe(I,d);m=ae(a,m,new P(c),I,e,f,g,k)}});c.children.ka(function(c,d){var I=!Wb(b.w(),c)&&null==d.value;l.Fa(c)||I||(I=b.w().j().T(c),I=oe(I,d),m=ae(a,m,new P(c),I,e,f,g,k))});return m}
function he(a,b,c,d,e,f,g){if(null!=e.xc(c))return b;var k=mc(b.w()),m=b.w();if(null!=d.value){if(c.e()&&m.ga||nc(m,c))return ae(a,b,c,m.j().S(c),e,f,k,g);if(c.e()){var l=qe;m.j().R(re,function(a,b){l=l.set(new P(a),b)});return de(a,b,c,l,e,f,k,g)}return b}l=qe;ne(d,function(a){var b=c.o(a);nc(m,b)&&(l=l.set(a,m.j().S(b)))});return de(a,b,c,l,e,f,k,g)};function se(){}var te={};function Vd(a){return u(a.compare,a)}se.prototype.Dd=function(a,b){return 0!==this.compare(new L("[MIN_NAME]",a),new L("[MIN_NAME]",b))};se.prototype.Wc=function(){return ue};function ve(a){O(!a.e()&&".priority"!==K(a),"Can't create PathIndex with empty path or .priority key");this.gc=a}ka(ve,se);h=ve.prototype;h.Lc=function(a){return!a.S(this.gc).e()};h.compare=function(a,b){var c=a.U.S(this.gc),d=b.U.S(this.gc),c=c.Gc(d);return 0===c?yc(a.name,b.name):c};
h.Sc=function(a,b){var c=Q(a),c=H.H(this.gc,c);return new L(b,c)};h.Tc=function(){var a=H.H(this.gc,we);return new L("[MAX_NAME]",a)};h.toString=function(){return this.gc.slice().join("/")};function xe(){}ka(xe,se);h=xe.prototype;h.compare=function(a,b){var c=a.U.C(),d=b.U.C(),c=c.Gc(d);return 0===c?yc(a.name,b.name):c};h.Lc=function(a){return!a.C().e()};h.Dd=function(a,b){return!a.C().ea(b.C())};h.Wc=function(){return ue};h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))};
h.Sc=function(a,b){var c=Q(a);return new L(b,new Yc("[PRIORITY-POST]",c))};h.toString=function(){return".priority"};var R=new xe;function ye(){}ka(ye,se);h=ye.prototype;h.compare=function(a,b){return yc(a.name,b.name)};h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.");};h.Dd=function(){return!1};h.Wc=function(){return ue};h.Tc=function(){return new L("[MAX_NAME]",H)};h.Sc=function(a){O(q(a),"KeyIndex indexValue must always be a string.");return new L(a,H)};h.toString=function(){return".key"};
var re=new ye;function ze(){}ka(ze,se);h=ze.prototype;h.compare=function(a,b){var c=a.U.Gc(b.U);return 0===c?yc(a.name,b.name):c};h.Lc=function(){return!0};h.Dd=function(a,b){return!a.ea(b)};h.Wc=function(){return ue};h.Tc=function(){return Ae};h.Sc=function(a,b){var c=Q(a);return new L(b,c)};h.toString=function(){return".value"};var Be=new ze;function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1;this.ma=0;this.Rb="";this.ic=null;this.Bb="";this.fc=null;this.zb="";this.g=R}var De=new Ce;function Td(a){return""===a.Rb?a.oa:"l"===a.Rb}function Od(a){O(a.oa,"Only valid if start has been set");return a.ic}function Nd(a){O(a.oa,"Only valid if start has been set");return a.Pb?a.Bb:"[MIN_NAME]"}function Rd(a){O(a.ra,"Only valid if end has been set");return a.fc}
function Pd(a){O(a.ra,"Only valid if end has been set");return a.Xb?a.zb:"[MAX_NAME]"}function Ee(a){var b=new Ce;b.la=a.la;b.ma=a.ma;b.oa=a.oa;b.ic=a.ic;b.Pb=a.Pb;b.Bb=a.Bb;b.ra=a.ra;b.fc=a.fc;b.Xb=a.Xb;b.zb=a.zb;b.g=a.g;return b}h=Ce.prototype;h.Le=function(a){var b=Ee(this);b.la=!0;b.ma=a;b.Rb="";return b};h.Me=function(a){var b=Ee(this);b.la=!0;b.ma=a;b.Rb="l";return b};h.Ne=function(a){var b=Ee(this);b.la=!0;b.ma=a;b.Rb="r";return b};
h.ce=function(a,b){var c=Ee(this);c.oa=!0;p(a)||(a=null);c.ic=a;null!=b?(c.Pb=!0,c.Bb=b):(c.Pb=!1,c.Bb="");return c};h.vd=function(a,b){var c=Ee(this);c.ra=!0;p(a)||(a=null);c.fc=a;p(b)?(c.Xb=!0,c.zb=b):(c.oh=!1,c.zb="");return c};function Fe(a,b){var c=Ee(a);c.g=b;return c}function Ge(a){var b={};a.oa&&(b.sp=a.ic,a.Pb&&(b.sn=a.Bb));a.ra&&(b.ep=a.fc,a.Xb&&(b.en=a.zb));if(a.la){b.l=a.ma;var c=a.Rb;""===c&&(c=Td(a)?"l":"r");b.vf=c}a.g!==R&&(b.i=a.g.toString());return b}
function He(a){return!(a.oa||a.ra||a.la)}function Ie(a){return He(a)&&a.g==R}function Je(a){var b={};if(Ie(a))return b;var c;a.g===R?c="$priority":a.g===Be?c="$value":a.g===re?c="$key":(O(a.g instanceof ve,"Unrecognized index type!"),c=a.g.toString());b.orderBy=G(c);a.oa&&(b.startAt=G(a.ic),a.Pb&&(b.startAt+=","+G(a.Bb)));a.ra&&(b.endAt=G(a.fc),a.Xb&&(b.endAt+=","+G(a.zb)));a.la&&(Td(a)?b.limitToFirst=a.ma:b.limitToLast=a.ma);return b}h.toString=function(){return G(Ge(this))};function Ke(a,b){this.Ed=a;this.hc=b}Ke.prototype.get=function(a){var b=z(this.Ed,a);if(!b)throw Error("No index defined for "+a);return b===te?null:b};function Le(a,b,c){var d=ma(a.Ed,function(d,f){var g=z(a.hc,f);O(g,"Missing index implementation for "+f);if(d===te){if(g.Lc(b.U)){for(var k=[],m=c.ac(wc),l=Ic(m);l;)l.name!=b.name&&k.push(l),l=Ic(m);k.push(b);return Me(k,Vd(g))}return te}g=c.get(b.name);k=d;g&&(k=k.remove(new L(b.name,g)));return k.Sa(b,b.U)});return new Ke(d,a.hc)}
function Ne(a,b,c){var d=ma(a.Ed,function(a){if(a===te)return a;var d=c.get(b.name);return d?a.remove(new L(b.name,d)):a});return new Ke(d,a.hc)}var Oe=new Ke({".priority":te},{".priority":R});function Yc(a,b){this.B=a;O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value.");this.ca=b||H;Pe(this.ca);this.Gb=null}var Qe=["object","boolean","number","string"];h=Yc.prototype;h.L=function(){return!0};h.C=function(){return this.ca};h.ia=function(a){return new Yc(this.B,a)};h.T=function(a){return".priority"===a?this.ca:H};h.S=function(a){return a.e()?this:".priority"===K(a)?this.ca:H};h.Fa=function(){return!1};h.wf=function(){return null};
h.W=function(a,b){return".priority"===a?this.ia(b):b.e()&&".priority"!==a?this:H.W(a,b).ia(this.ca)};h.H=function(a,b){var c=K(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;O(".priority"!==c||1===le(a),".priority must be the last token in a path");return this.W(c,H.H(N(a),b))};h.e=function(){return!1};h.Hb=function(){return 0};h.R=function(){return!1};h.J=function(a){return a&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()};
h.hash=function(){if(null===this.Gb){var a="";this.ca.e()||(a+="priority:"+Re(this.ca.J())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+Ad(this.B):a+this.B;this.Gb=ld(a)}return this.Gb};h.Ea=function(){return this.B};h.Gc=function(a){if(a===H)return 1;if(a instanceof fe)return-1;O(a.L(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=La(Qe,b),e=La(Qe,c);O(0<=d,"Unknown leaf type: "+b);O(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};
h.pb=function(){return this};h.Mc=function(){return!0};h.ea=function(a){return a===this?!0:a.L()?this.B===a.B&&this.ca.ea(a.ca):!1};h.toString=function(){return G(this.J(!0))};function fe(a,b,c){this.m=a;(this.ca=b)&&Pe(this.ca);a.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority");this.Ab=c;this.Gb=null}h=fe.prototype;h.L=function(){return!1};h.C=function(){return this.ca||H};h.ia=function(a){return this.m.e()?this:new fe(this.m,a,this.Ab)};h.T=function(a){if(".priority"===a)return this.C();a=this.m.get(a);return null===a?H:a};h.S=function(a){var b=K(a);return null===b?this:this.T(b).S(N(a))};h.Fa=function(a){return null!==this.m.get(a)};
h.W=function(a,b){O(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ia(b);var c=new L(a,b),d,e;b.e()?(d=this.m.remove(a),c=Ne(this.Ab,c,this.m)):(d=this.m.Sa(a,b),c=Le(this.Ab,c,this.m));e=d.e()?H:this.ca;return new fe(d,e,c)};h.H=function(a,b){var c=K(a);if(null===c)return b;O(".priority"!==K(a)||1===le(a),".priority must be the last token in a path");var d=this.T(c).H(N(a),b);return this.W(c,d)};h.e=function(){return this.m.e()};h.Hb=function(){return this.m.count()};
var Se=/^(0|[1-9]\d*)$/;h=fe.prototype;h.J=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.R(R,function(f,g){b[f]=g.J(a);c++;e&&Se.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.C().e()&&(b[".priority"]=this.C().J());return b};h.hash=function(){if(null===this.Gb){var a="";this.C().e()||(a+="priority:"+Re(this.C().J())+":");this.R(R,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Gb=""===a?"":ld(a)}return this.Gb};
h.wf=function(a,b,c){return(c=Te(this,c))?(a=Gc(c,new L(a,b)))?a.name:null:Gc(this.m,a)};function Wd(a,b){var c;c=(c=Te(a,b))?(c=c.Vc())&&c.name:a.m.Vc();return c?new L(c,a.m.get(c)):null}function Xd(a,b){var c;c=(c=Te(a,b))?(c=c.jc())&&c.name:a.m.jc();return c?new L(c,a.m.get(c)):null}h.R=function(a,b){var c=Te(this,a);return c?c.ka(function(a){return b(a.name,a.U)}):this.m.ka(b)};h.ac=function(a){return this.bc(a.Wc(),a)};
h.bc=function(a,b){var c=Te(this,b);if(c)return c.bc(a,function(a){return a});for(var c=this.m.bc(a.name,wc),d=Jc(c);null!=d&&0>b.compare(d,a);)Ic(c),d=Jc(c);return c};h.xf=function(a){return this.dc(a.Tc(),a)};h.dc=function(a,b){var c=Te(this,b);if(c)return c.dc(a,function(a){return a});for(var c=this.m.dc(a.name,wc),d=Jc(c);null!=d&&0<b.compare(d,a);)Ic(c),d=Jc(c);return c};h.Gc=function(a){return this.e()?a.e()?0:-1:a.L()||a.e()?1:a===we?-1:0};
h.pb=function(a){if(a===re||sa(this.Ab.hc,a.toString()))return this;var b=this.Ab,c=this.m;O(a!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.ac(wc),f=Ic(c);f;)e=e||a.Lc(f.U),d.push(f),f=Ic(c);d=e?Me(d,Vd(a)):te;e=a.toString();c=wa(b.hc);c[e]=a;a=wa(b.Ed);a[e]=d;return new fe(this.m,this.ca,new Ke(a,c))};h.Mc=function(a){return a===re||sa(this.Ab.hc,a.toString())};
h.ea=function(a){if(a===this)return!0;if(a.L())return!1;if(this.C().ea(a.C())&&this.m.count()===a.m.count()){var b=this.ac(R);a=a.ac(R);for(var c=Ic(b),d=Ic(a);c&&d;){if(c.name!==d.name||!c.U.ea(d.U))return!1;c=Ic(b);d=Ic(a)}return null===c&&null===d}return!1};function Te(a,b){return b===re?null:a.Ab.get(b.toString())}h.toString=function(){return G(this.J(!0))};function Q(a,b){if(null===a)return H;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);O(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Yc(a,Q(c));if(a instanceof Array){var d=H,e=a;v(e,function(a,b){if(y(e,b)&&"."!==b.substring(0,1)){var c=Q(a);if(c.L()||!c.e())d=
d.W(b,c)}});return d.ia(Q(c))}var f=[],g=!1,k=a;Fb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=Q(k[a]);b.e()||(g=g||!b.C().e(),f.push(new L(a,b)))}});if(0==f.length)return H;var m=Me(f,xc,function(a){return a.name},zc);if(g){var l=Me(f,Vd(R));return new fe(m,Q(c),new Ke({".priority":l},{".priority":R}))}return new fe(m,Q(c),Oe)}var Ue=Math.log(2);
function Ve(a){this.count=parseInt(Math.log(a+1)/Ue,10);this.nf=this.count-1;this.ng=a+1&parseInt(Array(this.count+1).join("1"),2)}function We(a){var b=!(a.ng&1<<a.nf);a.nf--;return b}
function Me(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var l=a[b],t=c?c(l):l;return new Kc(t,l.U,!1,null,null)}var l=parseInt(f/2,10)+b,f=e(b,l),A=e(l+1,d),l=a[l],t=c?c(l):l;return new Kc(t,l.U,!1,f,A)}a.sort(b);var f=function(b){function d(b,g){var k=t-b,A=t;t-=b;var A=e(k+1,A),k=a[k],I=c?c(k):k,A=new Kc(I,k.U,g,null,A);f?f.left=A:l=A;f=A}for(var f=null,l=null,t=a.length,A=0;A<b.count;++A){var I=We(b),Qd=Math.pow(2,b.count-(A+1));I?d(Qd,!1):(d(Qd,!1),d(Qd,!0))}return l}(new Ve(a.length));
return null!==f?new Ec(d||b,f):new Ec(d||b)}function Re(a){return"number"===typeof a?"number:"+Ad(a):"string:"+a}function Pe(a){if(a.L()){var b=a.J();O("string"===typeof b||"number"===typeof b||"object"===typeof b&&y(b,".sv"),"Priority must be a string or number.")}else O(a===we||a.e(),"priority of unexpected type.");O(a===we||a.C().e(),"Priority nodes can't have a priority of their own.")}var H=new fe(new Ec(zc),null,Oe);function Xe(){fe.call(this,new Ec(zc),H,Oe)}ka(Xe,fe);h=Xe.prototype;
h.Gc=function(a){return a===this?0:1};h.ea=function(a){return a===this};h.C=function(){return this};h.T=function(){return H};h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);function je(a,b){this.Q=a;this.ae=b}function ge(a,b,c,d){return new je(new Xb(b,c,d),a.ae)}function ke(a){return a.Q.ga?a.Q.j():null}je.prototype.w=function(){return this.ae};function Yb(a){return a.ae.ga?a.ae.j():null};function Ye(a,b){this.Y=a;var c=a.n,d=new Ld(c.g),c=He(c)?new Ld(c.g):c.la?new Sd(c):new Md(c);this.Nf=new Zd(c);var e=b.w(),f=b.Q,g=d.ya(H,e.j(),null),k=c.ya(H,f.j(),null);this.Oa=new je(new Xb(k,f.ga,c.Ra()),new Xb(g,e.ga,d.Ra()));this.$a=[];this.ug=new Fd(a)}function Ze(a){return a.Y}h=Ye.prototype;h.w=function(){return this.Oa.w().j()};h.kb=function(a){var b=Yb(this.Oa);return b&&(He(this.Y.n)||!a.e()&&!b.T(K(a)).e())?b.S(a):null};h.e=function(){return 0===this.$a.length};h.Tb=function(a){this.$a.push(a)};
h.nb=function(a,b){var c=[];if(b){O(null==a,"A cancel should cancel all event registrations.");var d=this.Y.path;Ma(this.$a,function(a){(a=a.lf(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.$a.length;++f){var g=this.$a[f];if(!g.matches(a))e.push(g);else if(a.yf()){e=e.concat(this.$a.slice(f+1));break}}this.$a=e}else this.$a=[];return c};
h.gb=function(a,b,c){a.type===be&&null!==a.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var d=this.Oa;a=this.Nf.gb(d,a,b,c);b=this.Nf;c=a.me;O(c.Q.j().Mc(b.X.g),"Event snap not indexed");O(c.w().j().Mc(b.X.g),"Server snap not indexed");O(lc(a.me.w())||!lc(d.w()),"Once a server snap is complete, it should never go back");this.Oa=a.me;return $e(this,a.og,a.me.Q.j(),null)};
function af(a,b){var c=a.Oa.Q,d=[];c.j().L()||c.j().R(R,function(a,b){d.push(new J("child_added",b,a))});c.ga&&d.push(hc(c.j()));return $e(a,d,c.j(),b)}function $e(a,b,c,d){return Gd(a.ug,b,c,d?[d]:a.$a)};function bf(a,b,c){this.type=be;this.source=a;this.path=b;this.children=c}bf.prototype.$c=function(a){if(this.path.e())return a=this.children.subtree(new P(a)),a.e()?null:a.value?new Ac(this.source,M,a.value):new bf(this.source,M,a);O(K(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new bf(this.source,N(this.path),this.children)};bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function cf(a,b){this.f=pd("p:rest:");this.G=a;this.Kb=b;this.Ca=null;this.ba={}}function df(a,b){if(p(b))return"tag$"+b;O(Ie(a.n),"should have a tag if it's not a default query.");return a.path.toString()}h=cf.prototype;
h.Cf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.wa());var f=df(a,c),g={};this.ba[f]=g;a=Je(a.n);var k=this;ef(this,e+".json",a,function(a,b){var t=b;404===a&&(a=t=null);null===a&&k.Kb(e,t,!1,c);z(k.ba,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};h.$f=function(a,b){var c=df(a,b);delete this.ba[c]};h.O=function(a,b){this.Ca=a;var c=Cd(a),d=c.data,c=c.Ec&&c.Ec.exp;b&&b("ok",{auth:d,expires:c})};h.je=function(a){this.Ca=null;a("ok",null)};
h.Qe=function(){};h.Gf=function(){};h.Md=function(){};h.put=function(){};h.Df=function(){};h.Ye=function(){};
function ef(a,b,c,d){c=c||{};c.format="export";a.Ca&&(c.auth=a.Ca);var e=(a.G.ob?"https://":"http://")+a.G.host+b+"?"+Ib(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=Rb(f.responseText)}catch(c){S("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==
f.status&&S("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function ff(a){O(da(a)&&0<a.length,"Requires a non-empty array");this.fg=a;this.Rc={}}ff.prototype.ie=function(a,b){var c;c=this.Rc[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].Dc.apply(c[d].Qa,Array.prototype.slice.call(arguments,1))};ff.prototype.Ib=function(a,b,c){gf(this,a);this.Rc[a]=this.Rc[a]||[];this.Rc[a].push({Dc:b,Qa:c});(a=this.Ee(a))&&b.apply(c,a)};
ff.prototype.mc=function(a,b,c){gf(this,a);a=this.Rc[a]||[];for(var d=0;d<a.length;d++)if(a[d].Dc===b&&(!c||c===a[d].Qa)){a.splice(d,1);break}};function gf(a,b){O(Ra(a.fg,function(a){return a===b}),"Unknown event: "+b)};var hf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);O(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);O(20===c.length,"nextPushId: Length should be 20.");
return c}}();function jf(){ff.call(this,["online"]);this.oc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.oc||(a.oc=!0,a.ie("online",!0))},!1);window.addEventListener("offline",function(){a.oc&&(a.oc=!1,a.ie("online",!1))},!1)}}ka(jf,ff);jf.prototype.Ee=function(a){O("online"===a,"Unknown event type: "+a);return[this.oc]};ba(jf);function kf(){ff.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Sb=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.Sb&&(c.Sb=b,c.ie("visible",b))},!1)}}ka(kf,ff);kf.prototype.Ee=function(a){O("visible"===a,"Unknown event type: "+a);return[this.Sb]};ba(kf);function P(a,b){if(1==arguments.length){this.u=a.split("/");for(var c=0,d=0;d<this.u.length;d++)0<this.u[d].length&&(this.u[c]=this.u[d],c++);this.u.length=c;this.aa=0}else this.u=a,this.aa=b}function lf(a,b){var c=K(a);if(null===c)return b;if(c===K(b))return lf(N(a),N(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}
function mf(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=yc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function K(a){return a.aa>=a.u.length?null:a.u[a.aa]}function le(a){return a.u.length-a.aa}function N(a){var b=a.aa;b<a.u.length&&b++;return new P(a.u,b)}function me(a){return a.aa<a.u.length?a.u[a.u.length-1]:null}h=P.prototype;
h.toString=function(){for(var a="",b=this.aa;b<this.u.length;b++)""!==this.u[b]&&(a+="/"+this.u[b]);return a||"/"};h.slice=function(a){return this.u.slice(this.aa+(a||0))};h.parent=function(){if(this.aa>=this.u.length)return null;for(var a=[],b=this.aa;b<this.u.length-1;b++)a.push(this.u[b]);return new P(a,0)};
h.o=function(a){for(var b=[],c=this.aa;c<this.u.length;c++)b.push(this.u[c]);if(a instanceof P)for(c=a.aa;c<a.u.length;c++)b.push(a.u[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new P(b,0)};h.e=function(){return this.aa>=this.u.length};h.ea=function(a){if(le(this)!==le(a))return!1;for(var b=this.aa,c=a.aa;b<=this.u.length;b++,c++)if(this.u[b]!==a.u[c])return!1;return!0};
h.contains=function(a){var b=this.aa,c=a.aa;if(le(this)>le(a))return!1;for(;b<this.u.length;){if(this.u[b]!==a.u[c])return!1;++b;++c}return!0};var M=new P("");function nf(a,b){this.Ua=a.slice();this.Ka=Math.max(1,this.Ua.length);this.pf=b;for(var c=0;c<this.Ua.length;c++)this.Ka+=Pb(this.Ua[c]);of(this)}nf.prototype.push=function(a){0<this.Ua.length&&(this.Ka+=1);this.Ua.push(a);this.Ka+=Pb(a);of(this)};nf.prototype.pop=function(){var a=this.Ua.pop();this.Ka-=Pb(a);0<this.Ua.length&&--this.Ka};
function of(a){if(768<a.Ka)throw Error(a.pf+"has a key path longer than 768 bytes ("+a.Ka+").");if(32<a.Ua.length)throw Error(a.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(a));}function pf(a){return 0==a.Ua.length?"":"in property '"+a.Ua.join(".")+"'"};function qf(a,b){this.value=a;this.children=b||rf}var rf=new Ec(function(a,b){return a===b?0:a<b?-1:1});function sf(a){var b=qe;v(a,function(a,d){b=b.set(new P(d),a)});return b}h=qf.prototype;h.e=function(){return null===this.value&&this.children.e()};function tf(a,b,c){if(null!=a.value&&c(a.value))return{path:M,value:a.value};if(b.e())return null;var d=K(b);a=a.children.get(d);return null!==a?(b=tf(a,N(b),c),null!=b?{path:(new P(d)).o(b.path),value:b.value}:null):null}
function uf(a,b){return tf(a,b,function(){return!0})}h.subtree=function(a){if(a.e())return this;var b=this.children.get(K(a));return null!==b?b.subtree(N(a)):qe};h.set=function(a,b){if(a.e())return new qf(b,this.children);var c=K(a),d=(this.children.get(c)||qe).set(N(a),b),c=this.children.Sa(c,d);return new qf(this.value,c)};
h.remove=function(a){if(a.e())return this.children.e()?qe:new qf(null,this.children);var b=K(a),c=this.children.get(b);return c?(a=c.remove(N(a)),b=a.e()?this.children.remove(b):this.children.Sa(b,a),null===this.value&&b.e()?qe:new qf(this.value,b)):this};h.get=function(a){if(a.e())return this.value;var b=this.children.get(K(a));return b?b.get(N(a)):null};
function pe(a,b,c){if(b.e())return c;var d=K(b);b=pe(a.children.get(d)||qe,N(b),c);d=b.e()?a.children.remove(d):a.children.Sa(d,b);return new qf(a.value,d)}function vf(a,b){return wf(a,M,b)}function wf(a,b,c){var d={};a.children.ka(function(a,f){d[a]=wf(f,b.o(a),c)});return c(b,a.value,d)}function xf(a,b,c){return yf(a,b,M,c)}function yf(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=K(b);return(a=a.children.get(e))?yf(a,N(b),c.o(e),d):null}
function zf(a,b,c){Af(a,b,M,c)}function Af(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=K(b);return(a=a.children.get(e))?Af(a,N(b),c.o(e),d):qe}function ne(a,b){Bf(a,M,b)}function Bf(a,b,c){a.children.ka(function(a,e){Bf(e,b.o(a),c)});a.value&&c(b,a.value)}function Cf(a,b){a.children.ka(function(a,d){d.value&&b(a,d.value)})}var qe=new qf(null);qf.prototype.toString=function(){var a={};ne(this,function(b,c){a[b.toString()]=c.toString()});return G(a)};function Df(a,b,c){this.type=ee;this.source=Ef;this.path=a;this.Ub=b;this.Yd=c}Df.prototype.$c=function(a){if(this.path.e()){if(null!=this.Ub.value)return O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Ub.subtree(new P(a));return new Df(M,a,this.Yd)}O(K(this.path)===a,"operationForChild called for unrelated child.");return new Df(N(this.path),this.Ub,this.Yd)};
Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3;function Ff(a,b,c,d){this.Ae=a;this.tf=b;this.Lb=c;this.ef=d;O(!d||b,"Tagged queries must be from server.")}var Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};function Hf(a){this.Z=a}var If=new Hf(new qf(null));function Jf(a,b,c){if(b.e())return new Hf(new qf(c));var d=uf(a.Z,b);if(null!=d){var e=d.path,d=d.value;b=lf(e,b);d=d.H(b,c);return new Hf(a.Z.set(e,d))}a=pe(a.Z,b,new qf(c));return new Hf(a)}function Kf(a,b,c){var d=a;Fb(c,function(a,c){d=Jf(d,b.o(a),c)});return d}Hf.prototype.Ud=function(a){if(a.e())return If;a=pe(this.Z,a,qe);return new Hf(a)};function Lf(a,b){var c=uf(a.Z,b);return null!=c?a.Z.get(c.path).S(lf(c.path,b)):null}
function Mf(a){var b=[],c=a.Z.value;null!=c?c.L()||c.R(R,function(a,c){b.push(new L(a,c))}):a.Z.children.ka(function(a,c){null!=c.value&&b.push(new L(a,c.value))});return b}function Nf(a,b){if(b.e())return a;var c=Lf(a,b);return null!=c?new Hf(new qf(c)):new Hf(a.Z.subtree(b))}Hf.prototype.e=function(){return this.Z.e()};Hf.prototype.apply=function(a){return Of(M,this.Z,a)};
function Of(a,b,c){if(null!=b.value)return c.H(a,b.value);var d=null;b.children.ka(function(b,f){".priority"===b?(O(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Of(a.o(b),f,c)});c.S(a).e()||null===d||(c=c.H(a.o(".priority"),d));return c};function Pf(){this.V=If;this.pa=[];this.Pc=-1}function Qf(a,b){for(var c=0;c<a.pa.length;c++){var d=a.pa[c];if(d.md===b)return d}return null}h=Pf.prototype;
h.Ud=function(a){var b=Sa(this.pa,function(b){return b.md===a});O(0<=b,"removeWrite called with nonexistent writeId.");var c=this.pa[b];this.pa.splice(b,1);for(var d=c.visible,e=!1,f=this.pa.length-1;d&&0<=f;){var g=this.pa[f];g.visible&&(f>=b&&Rf(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(c.Ja)this.V=this.V.Ud(c.path);else{var k=this;v(c.children,function(a,b){k.V=k.V.Ud(c.path.o(b))})}return!0}return!1};
h.Aa=function(a,b,c,d){if(c||d){var e=Nf(this.V,a);return!d&&e.e()?b:d||null!=b||null!=Lf(e,M)?(e=Sf(this.pa,function(b){return(b.visible||d)&&(!c||!(0<=La(c,b.md)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||H,e.apply(b)):null}e=Lf(this.V,a);if(null!=e)return e;e=Nf(this.V,a);return e.e()?b:null!=b||null!=Lf(e,M)?(b=b||H,e.apply(b)):null};
h.Cc=function(a,b){var c=H,d=Lf(this.V,a);if(d)d.L()||d.R(R,function(a,b){c=c.W(a,b)});else if(b){var e=Nf(this.V,a);b.R(R,function(a,b){var d=Nf(e,new P(a)).apply(b);c=c.W(a,d)});Ma(Mf(e),function(a){c=c.W(a.name,a.U)})}else e=Nf(this.V,a),Ma(Mf(e),function(a){c=c.W(a.name,a.U)});return c};h.nd=function(a,b,c,d){O(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.o(b);if(null!=Lf(this.V,a))return null;a=Nf(this.V,a);return a.e()?d.S(b):a.apply(d.S(b))};
h.Bc=function(a,b,c){a=a.o(b);var d=Lf(this.V,a);return null!=d?d:Wb(c,b)?Nf(this.V,a).apply(c.j().T(b)):null};h.xc=function(a){return Lf(this.V,a)};h.qe=function(a,b,c,d,e,f){var g;a=Nf(this.V,a);g=Lf(a,M);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.pb(f);if(g.e()||g.L())return[];b=[];a=Vd(f);e=e?g.dc(c,f):g.bc(c,f);for(f=Ic(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=Ic(e);return b};
function Rf(a,b){return a.Ja?a.path.contains(b):!!ta(a.children,function(c,d){return a.path.o(d).contains(b)})}function Tf(a){return a.visible}
function Sf(a,b,c){for(var d=If,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ja)c.contains(g)?(g=lf(c,g),d=Jf(d,g,f.Ja)):g.contains(c)&&(g=lf(g,c),d=Jf(d,M,f.Ja.S(g)));else if(f.children)if(c.contains(g))g=lf(c,g),d=Kf(d,g,f.children);else{if(g.contains(c))if(g=lf(g,c),g.e())d=Kf(d,M,f.children);else if(f=z(f.children,K(g)))f=f.S(N(g)),d=Jf(d,M,f)}else throw jd("WriteRecord should have .snap or .children");}}return d}function Uf(a,b){this.Qb=a;this.Z=b}h=Uf.prototype;
h.Aa=function(a,b,c){return this.Z.Aa(this.Qb,a,b,c)};h.Cc=function(a){return this.Z.Cc(this.Qb,a)};h.nd=function(a,b,c){return this.Z.nd(this.Qb,a,b,c)};h.xc=function(a){return this.Z.xc(this.Qb.o(a))};h.qe=function(a,b,c,d,e){return this.Z.qe(this.Qb,a,b,c,d,e)};h.Bc=function(a,b){return this.Z.Bc(this.Qb,a,b)};h.o=function(a){return new Uf(this.Qb.o(a),this.Z)};function Vf(){this.children={};this.pd=0;this.value=null}function Wf(a,b,c){this.Jd=a?a:"";this.Ha=b?b:null;this.A=c?c:new Vf}function Xf(a,b){for(var c=b instanceof P?b:new P(b),d=a,e;null!==(e=K(c));)d=new Wf(e,d,z(d.A.children,e)||new Vf),c=N(c);return d}h=Wf.prototype;h.Ea=function(){return this.A.value};function Yf(a,b){O("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;Zf(a)}h.clear=function(){this.A.value=null;this.A.children={};this.A.pd=0;Zf(this)};
h.zd=function(){return 0<this.A.pd};h.e=function(){return null===this.Ea()&&!this.zd()};h.R=function(a){var b=this;v(this.A.children,function(c,d){a(new Wf(d,b,c))})};function $f(a,b,c,d){c&&!d&&b(a);a.R(function(a){$f(a,b,!0,d)});c&&d&&b(a)}function ag(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)};h.name=function(){return this.Jd};h.parent=function(){return this.Ha};
function Zf(a){if(null!==a.Ha){var b=a.Ha,c=a.Jd,d=a.e(),e=y(b.A.children,c);d&&e?(delete b.A.children[c],b.A.pd--,Zf(b)):d||e||(b.A.children[c]=a.A,b.A.pd++,Zf(b))}};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;function eg(a){return q(a)&&0!==a.length&&!bg.test(a)}function fg(a){return null===a||q(a)||fa(a)&&!td(a)||ga(a)&&y(a,".sv")}function gg(a,b,c,d){d&&!p(b)||hg(E(a,1,d),b,c)}
function hg(a,b,c){c instanceof P&&(c=new nf(c,a));if(!p(b))throw Error(a+"contains undefined "+pf(c));if(r(b))throw Error(a+"contains a function "+pf(c)+" with contents: "+b.toString());if(td(b))throw Error(a+"contains "+b.toString()+" "+pf(c));if(q(b)&&b.length>10485760/3&&10485760<Pb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+pf(c)+" ('"+b.substring(0,50)+"...')");if(ga(b)){var d=!1,e=!1;Fb(b,function(b,g){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!eg(b)))throw Error(a+" contains an invalid key ("+b+") "+pf(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);hg(a,g,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+pf(c)+" in addition to actual children.");}}
function ig(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!eg(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(mf);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}
function jg(a,b,c){var d=E(a,1,!1);if(!ga(b)||da(b))throw Error(d+" must be an object containing the children to replace.");var e=[];Fb(b,function(a,b){var k=new P(a);hg(d,b,c.o(k));if(".priority"===me(k)&&!fg(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});ig(d,e)}
function kg(a,b,c){if(td(c))throw Error(E(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(c))throw Error(E(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function lg(a,b,c){if(!c||p(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(E(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function mg(a,b){if(p(b)&&!eg(b))throw Error(E(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function ng(a,b){if(!q(b)||0===b.length||cg.test(b))throw Error(E(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function og(a,b){if(".info"===K(b))throw Error(a+" failed: Can't modify data under /.info/");}function pg(a,b){if(!q(b))throw Error(E(a,1,!1)+"must be a valid credential (a string).");}function qg(a,b,c){if(!q(c))throw Error(E(a,b,!1)+"must be a valid string.");}
function rg(a,b){qg(a,1,b);if(!dg.test(b))throw Error(E(a,1,!1)+"'"+b+"' is not a valid authentication provider.");}function sg(a,b,c,d){if(!d||p(c))if(!ga(c)||null===c)throw Error(E(a,b,d)+"must be a valid object.");}function tg(a,b,c){if(!ga(b)||!y(b,c))throw Error(E(a,1,!1)+'must contain the key "'+c+'"');if(!q(z(b,c)))throw Error(E(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function ug(){this.set={}}h=ug.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return y(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.e=function(){return va(this.set)};h.count=function(){return oa(this.set)};function vg(a,b){v(a.set,function(a,d){b(d,a)})}h.keys=function(){var a=[];v(this.set,function(b,c){a.push(c)});return a};function Vc(){this.m=this.B=null}Vc.prototype.find=function(a){if(null!=this.B)return this.B.S(a);if(a.e()||null==this.m)return null;var b=K(a);a=N(a);return this.m.contains(b)?this.m.get(b).find(a):null};Vc.prototype.rc=function(a,b){if(a.e())this.B=b,this.m=null;else if(null!==this.B)this.B=this.B.H(a,b);else{null==this.m&&(this.m=new ug);var c=K(a);this.m.contains(c)||this.m.add(c,new Vc);c=this.m.get(c);a=N(a);c.rc(a,b)}};
function wg(a,b){if(b.e())return a.B=null,a.m=null,!0;if(null!==a.B){if(a.B.L())return!1;var c=a.B;a.B=null;c.R(R,function(b,c){a.rc(new P(b),c)});return wg(a,b)}return null!==a.m?(c=K(b),b=N(b),a.m.contains(c)&&wg(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function Wc(a,b,c){null!==a.B?c(b,a.B):a.R(function(a,e){var f=new P(b.toString()+"/"+a);Wc(e,f,c)})}Vc.prototype.R=function(a){null!==this.m&&vg(this.m,function(b,c){a(b,c)})};var xg="auth.firebase.com";function yg(a,b,c){this.qd=a||{};this.he=b||{};this.fb=c||{};this.qd.remember||(this.qd.remember="default")}var zg=["remember","redirectTo"];function Ag(a){var b={},c={};Fb(a||{},function(a,e){0<=La(zg,a)?b[a]=e:c[a]=e});return new yg(b,{},c)};function Bg(a,b){this.Ue=["session",a.Rd,a.lc].join(":");this.ee=b}Bg.prototype.set=function(a,b){if(!b)if(this.ee.length)b=this.ee[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Ue,a)};Bg.prototype.get=function(){var a=Oa(this.ee,u(this.Bg,this)),a=Na(a,function(a){return null!==a});Va(a,function(a,c){return Dd(c.token)-Dd(a.token)});return 0<a.length?a.shift():null};Bg.prototype.Bg=function(a){try{var b=a.get(this.Ue);if(b&&b.token)return b}catch(c){}return null};
Bg.prototype.clear=function(){var a=this;Ma(this.ee,function(b){b.remove(a.Ue)})};function Cg(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!==typeof location&&/^file:\//.test(location.href)}
function Fg(a){var b=Cg();if(""===b)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((b=b.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a}else if(-1<b.indexOf("Trident")&&(b=b.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a;return!1};function Gg(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function Hg(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function Ig(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function Jg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function Kg(a){var b="";try{a=a.replace(/.*\?/,"");var c=Jb(a);c&&y(c,"__firebase_request_key")&&(b=z(c,"__firebase_request_key"))}catch(d){}return b}function Lg(){try{var a=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,""),a=a.replace(/\?$/,""),a=a.replace(/^#+$/,"");document.location.hash=a}catch(b){}}
function Mg(){var a=sd(xg);return a.scheme+"://"+a.host+"/v2"}function Ng(a){return Mg()+"/"+a+"/auth/channel"};function Og(a){var b=this;this.hb=a;this.fe="*";Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window);if(!b.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this));Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(c){Hg(this.Uc,"load",function(){Pg(b,{a:"ready"})})}Hg(window,"unload",u(this.Ng,this))}function Pg(a,b){b=G(b);Fg(8)?a.Uc.doPost(b,a.fe):a.Uc.postMessage(b,a.fe)}
Og.prototype.nc=function(a){var b=this,c;try{c=Rb(a.data)}catch(d){}c&&"request"===c.a&&(Ig(window,"message",this.nc),this.fe=a.origin,this.hb&&setTimeout(function(){b.hb(b.fe,c.d,function(a,c){b.mg=!c;b.hb=void 0;Pg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};Og.prototype.Ng=function(){try{Ig(this.Cd,"message",this.Ff)}catch(a){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(b){}};Og.prototype.Ff=function(a){if(this.mg&&"die"===a.data)try{window.close()}catch(b){}};function Qg(a){this.tc=Fa()+Fa()+Fa();this.Kf=a}Qg.prototype.open=function(a,b){cd.set("redirect_request_id",this.tc);cd.set("redirect_request_id",this.tc);b.requestId=this.tc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+Ib(b);window.location=a};Qg.isAvailable=function(){return!Eg()&&!Dg()};Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function Sg(a){var b=Error(z(Rg,a),a);b.code=a;return b};function Tg(a){var b;(b=!a.window_features)||(b=Cg(),b=-1!==b.indexOf("Fennec/")||-1!==b.indexOf("Firefox/")&&-1!==b.indexOf("Android"));b&&(a.window_features=void 0);a.window_name||(a.window_name="_blank");this.options=a}
Tg.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);t&&(t=clearInterval(t));Ig(window,"message",e);Ig(window,"unload",d);if(l&&!a)try{l.close()}catch(b){k.postMessage("die",m)}l=k=void 0}function e(a){if(a.origin===m)try{var b=Rb(a.data);"ready"===b.a?k.postMessage(A,m):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=Fg(8),g,k;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var m=Jg(a);if(m!==Jg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+Ib(b);var l=window.open(a,this.options.window_name,this.options.window_features);k||(k=l);var t=setInterval(function(){l&&l.closed&&
(d(!1),c&&(c(Sg("USER_CANCELLED")),c=null))},500),A=G({a:"request",d:b});Hg(window,"unload",d);Hg(window,"message",e)}};
Tg.isAvailable=function(){var a;if(a="postMessage"in window&&!Eg())(a=Dg()||"undefined"!==typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(a=Cg(),a="undefined"!==typeof navigator&&"undefined"!==typeof window&&!!(a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||a.match(/CriOS/)||a.match(/Twitter for iPhone/)||a.match(/FBAN\/FBIOS/)||window.navigator.standalone)),a=!a;return a&&!Cg().match(/PhantomJS/)};Tg.prototype.Fc=function(){return"popup"};function Ug(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Ug.prototype.open=function(a,b,c){function d(){c&&(c(Sg("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;Hg(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=Rb(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(Sg("SERVER_ERROR")):c(Sg("NETWORK_ERROR"));c=null;Ig(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+Ib(b),g=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(g=G(b));"application/x-www-form-urlencoded"===k&&(g=Ib(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};ya(a,this.options.headers);for(var m in a)e.setRequestHeader(m,a[m]);e.send(g)};Ug.isAvailable=function(){var a;if(a=!!window.XMLHttpRequest)a=Cg(),a=!(a.match(/MSIE/)||a.match(/Trident/))||Fg(10);return a};Ug.prototype.Fc=function(){return"json"};function Vg(a){this.tc=Fa()+Fa()+Fa();this.Kf=a}
Vg.prototype.open=function(a,b,c){function d(){c&&(c(Sg("USER_CANCELLED")),c=null)}var e=this,f=sd(xg),g;b.requestId=this.tc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=Ib(b);(g=window.open(a,"_blank","location=no"))&&r(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var l=document.createElement("a");l.href=a.url;b=l.host===f.host&&"/blank/page.html"===l.pathname;break a}catch(t){}b=!1}b&&(a=Kg(a.url),g.removeEventListener("exit",
d),g.close(),a=new yg(null,null,{requestId:e.tc,requestKey:a}),e.Kf.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(Sg("TRANSPORT_UNAVAILABLE"))};Vg.isAvailable=function(){return Dg()};Vg.prototype.Fc=function(){return"redirect"};function Wg(a){a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
Wg.prototype.open=function(a,b,c){function d(){c&&(c(Sg("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);Ig(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+Ib(b);
Hg(window,"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Xg(f,a,c)};
function Xg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(Sg("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(Sg("NETWORK_ERROR"))}},0)}Wg.isAvailable=function(){return"undefined"!==typeof document&&null!=document.createElement};
Wg.prototype.Fc=function(){return"json"};function Yg(a,b,c,d){ff.call(this,["auth_status"]);this.G=a;this.hf=b;this.ih=c;this.Pe=d;this.wc=new Bg(a,[bd,cd]);this.qb=null;this.We=!1;Zg(this)}ka(Yg,ff);h=Yg.prototype;h.Be=function(){return this.qb||null};function Zg(a){cd.get("redirect_request_id")&&$g(a);var b=a.wc.get();b&&b.token?(ah(a,b),a.hf(b.token,function(c,d){bh(a,c,d,!1,b.token,b)},function(b,d){ch(a,"resumeSession()",b,d)})):ah(a,null)}
function dh(a,b,c,d,e,f){"firebaseio-demo.com"===a.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");a.hf(b,function(f,k){bh(a,f,k,!0,b,c,d||{},e)},function(b,c){ch(a,"auth()",b,c,f)})}function eh(a,b){a.wc.clear();ah(a,null);a.ih(function(a,d){if("ok"===a)T(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;T(b,f)}})}
function bh(a,b,c,d,e,f,g,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Ed(e)?e:"",c=null,b&&y(b,"uid")?c=z(b,"uid"):y(f,"uid")&&(c=z(f,"uid")),f.uid=c,c="custom",b&&y(b,"provider")?c=z(b,"provider"):y(f,"provider")&&(c=z(f,"provider")),f.provider=c,a.wc.clear(),Ed(e)&&(g=g||{},c=bd,"sessionOnly"===g.remember&&(c=cd),"none"!==g.remember&&a.wc.set(f,c)),ah(a,f)),T(k,null,f)):(a.wc.clear(),ah(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,T(k,f))}
function ch(a,b,c,d,e){S(b+" was canceled: "+d);a.wc.clear();ah(a,null);a=Error(d);a.code=c.toUpperCase();T(e,a)}function fh(a,b,c,d,e){gh(a);c=new yg(d||{},{},c||{});hh(a,[Ug,Wg],"/auth/"+b,c,e)}
function ih(a,b,c,d){gh(a);var e=[Tg,Vg];c=Ag(c);var f=625;"anonymous"===b||"password"===b?setTimeout(function(){T(d,Sg("TRANSPORT_UNAVAILABLE"))},0):("github"===b&&(f=1025),c.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width="+f+",top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-f):0),c.he.relay_url=Ng(a.G.lc),c.he.requestWithCredential=u(a.uc,a),hh(a,e,"/auth/"+
b,c,d))}function $g(a){var b=cd.get("redirect_request_id");if(b){var c=cd.get("redirect_client_options");cd.remove("redirect_request_id");cd.remove("redirect_client_options");var d=[Ug,Wg],b={requestId:b,requestKey:Kg(document.location.hash)},c=new yg(c,{},b);a.We=!0;Lg();hh(a,d,"/auth/session",c,function(){this.We=!1}.bind(a))}}h.ve=function(a,b){gh(this);var c=Ag(a);c.fb._method="POST";this.uc("/users",c,function(a,c){a?T(b,a):T(b,a,c)})};
h.Xe=function(a,b){var c=this;gh(this);var d="/users/"+encodeURIComponent(a.email),e=Ag(a);e.fb._method="DELETE";this.uc(d,e,function(a,d){!a&&d&&d.uid&&c.qb&&c.qb.uid&&c.qb.uid===d.uid&&eh(c);T(b,a)})};h.se=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=Ag(a);d.fb._method="PUT";d.fb.password=a.newPassword;this.uc(c,d,function(a){T(b,a)})};
h.re=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=Ag(a);d.fb._method="PUT";d.fb.email=a.newEmail;d.fb.password=a.password;this.uc(c,d,function(a){T(b,a)})};h.Ze=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=Ag(a);d.fb._method="POST";this.uc(c,d,function(a){T(b,a)})};h.uc=function(a,b,c){jh(this,[Ug,Wg],a,b,c)};
function hh(a,b,c,d,e){jh(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?dh(a,c.token,c,d.qd,function(a,b){a?T(e,a):T(e,null,b)}):T(e,b||Sg("UNKNOWN_ERROR"))})}
function jh(a,b,c,d,e){b=Na(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){T(e,Sg("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.he),d=Gb(d.fb),d.v="js-"+Eb,d.transport=b.Fc(),d.suppress_status_codes=!0,a=Mg()+"/"+a.G.lc+c,b.open(a,d,function(a,b){if(a)T(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;T(e,c)}else T(e,null,b)}))}
function ah(a,b){var c=null!==a.qb||null!==b;a.qb=b;c&&a.ie("auth_status",b);a.Pe(null!==b)}h.Ee=function(a){O("auth_status"===a,'initial event must be of type "auth_status"');return this.We?null:[this.qb]};function gh(a){var b=a.G;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+a.G.domain+"') does not support delegated login.");};var gd="websocket",hd="long_polling";function kh(a){this.nc=a;this.Qd=[];this.Wb=0;this.te=-1;this.Jb=null}function lh(a,b,c){a.te=b;a.Jb=c;a.te<a.Wb&&(a.Jb(),a.Jb=null)}function mh(a,b,c){for(a.Qd[b]=c;a.Qd[a.Wb];){var d=a.Qd[a.Wb];delete a.Qd[a.Wb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;gc(function(){f.nc(d[e])})}if(a.Wb===a.te){a.Jb&&(clearTimeout(a.Jb),a.Jb(),a.Jb=null);break}a.Wb++}};function nh(a,b,c,d){this.ue=a;this.f=pd(a);this.rb=this.sb=0;this.Xa=uc(b);this.Xf=c;this.Kc=!1;this.Fb=d;this.ld=function(a){return fd(b,hd,a)}}var oh,ph;
nh.prototype.open=function(a,b){this.mf=0;this.na=b;this.Ef=new kh(a);this.Db=!1;var c=this;this.ub=setTimeout(function(){c.f("Timed out trying to connect.");c.bb();c.ub=null},Math.floor(3E4));ud(function(){if(!c.Db){c.Wa=new qh(function(a,b,d,k,m){rh(c,arguments);if(c.Wa)if(c.ub&&(clearTimeout(c.ub),c.ub=null),c.Kc=!0,"start"==a)c.id=b,c.Mf=d;else if("close"===a)b?(c.Wa.$d=!1,lh(c.Ef,b,function(){c.bb()})):c.bb();else throw Error("Unrecognized command received: "+a);},function(a,b){rh(c,arguments);
mh(c.Ef,a,b)},function(){c.bb()},c.ld);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Wa.ke&&(a.cb=c.Wa.ke);a.v="5";c.Xf&&(a.s=c.Xf);c.Fb&&(a.ls=c.Fb);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.ld(a);c.f("Connecting via long-poll to "+a);sh(c.Wa,a,function(){})}})};
nh.prototype.start=function(){var a=this.Wa,b=this.Mf;a.Gg=this.id;a.Hg=b;for(a.oe=!0;th(a););a=this.id;b=this.Mf;this.kc=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.kc.src=this.ld(c);this.kc.style.display="none";document.body.appendChild(this.kc)};
nh.isAvailable=function(){return oh||!ph&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.kh)&&!0};h=nh.prototype;h.Hd=function(){};h.fd=function(){this.Db=!0;this.Wa&&(this.Wa.close(),this.Wa=null);this.kc&&(document.body.removeChild(this.kc),this.kc=null);this.ub&&(clearTimeout(this.ub),this.ub=null)};
h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))};h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())};h.send=function(a){a=G(a);this.sb+=a.length;rc(this.Xa,"bytes_sent",a.length);a=Ob(a);a=nb(a,!0);a=yd(a,1840);for(var b=0;b<a.length;b++){var c=this.Wa;c.cd.push({Yg:this.mf,hh:a.length,of:a[b]});c.oe&&th(c);this.mf++}};function rh(a,b){var c=G(b).length;a.rb+=c;rc(a.Xa,"bytes_received",c)}
function qh(a,b,c,d){this.ld=d;this.lb=c;this.Te=new ug;this.cd=[];this.we=Math.floor(1E8*Math.random());this.$d=!0;this.ke=id();window["pLPCommand"+this.ke]=a;window["pRTLPCB"+this.ke]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||fc("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
a.contentDocument?a.jb=a.contentDocument:a.contentWindow?a.jb=a.contentWindow.document:a.document&&(a.jb=a.document);this.Ga=a;a="";this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";\x3c/script>');a="<html><body>"+a+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(a),this.Ga.jb.close()}catch(f){fc("frame writing exception"),f.stack&&fc(f.stack),fc(f)}}
qh.prototype.close=function(){this.oe=!1;if(this.Ga){this.Ga.jb.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ga&&(document.body.removeChild(a.Ga),a.Ga=null)},Math.floor(0))}var b=this.lb;b&&(this.lb=null,b())};
function th(a){if(a.oe&&a.$d&&a.Te.count()<(0<a.cd.length?2:1)){a.we++;var b={};b.id=a.Gg;b.pw=a.Hg;b.ser=a.we;for(var b=a.ld(b),c="",d=0;0<a.cd.length;)if(1870>=a.cd[0].of.length+30+c.length){var e=a.cd.shift(),c=c+"&seg"+d+"="+e.Yg+"&ts"+d+"="+e.hh+"&d"+d+"="+e.of;d++}else break;uh(a,b+c,a.we);return!0}return!1}function uh(a,b,c){function d(){a.Te.remove(c);th(a)}a.Te.add(c,1);var e=setTimeout(d,Math.floor(25E3));sh(a,b,function(){clearTimeout(e);d()})}
function sh(a,b,c){setTimeout(function(){try{if(a.$d){var d=a.Ga.jb.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){fc("Long-poll script failed to load: "+b);a.$d=!1;a.close()};a.Ga.jb.body.appendChild(d)}}catch(e){}},Math.floor(1))};var vh=null;"undefined"!==typeof MozWebSocket?vh=MozWebSocket:"undefined"!==typeof WebSocket&&(vh=WebSocket);function wh(a,b,c,d){this.ue=a;this.f=pd(this.ue);this.frames=this.Nc=null;this.rb=this.sb=this.ff=0;this.Xa=uc(b);a={v:"5"};"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");c&&(a.s=c);d&&(a.ls=d);this.jf=fd(b,gd,a)}var xh;
wh.prototype.open=function(a,b){this.lb=b;this.Lg=a;this.f("Websocket connecting to "+this.jf);this.Kc=!1;bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.bb();return}var e=this;this.La.onopen=function(){e.f("Websocket connected.");e.Kc=!0};this.La.onclose=function(){e.f("Websocket connection was disconnected.");e.La=null;e.bb()};this.La.onmessage=function(a){if(null!==e.La)if(a=a.data,e.rb+=
a.length,rc(e.Xa,"bytes_received",a.length),yh(e),null!==e.frames)zh(e,a);else{a:{O(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.ff=b;e.frames=[];a=null;break a}}e.ff=1;e.frames=[]}null!==a&&zh(e,a)}};this.La.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.bb()}};wh.prototype.start=function(){};
wh.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==vh&&!xh};wh.responsesRequiredToBeHealthy=2;wh.healthyTimeout=3E4;h=wh.prototype;h.Hd=function(){bd.remove("previous_websocket_failure")};function zh(a,b){a.frames.push(b);if(a.frames.length==a.ff){var c=a.frames.join("");a.frames=null;c=Rb(c);a.Lg(c)}}
h.send=function(a){yh(this);a=G(a);this.sb+=a.length;rc(this.Xa,"bytes_sent",a.length);a=yd(a,16384);1<a.length&&Ah(this,String(a.length));for(var b=0;b<a.length;b++)Ah(this,a[b])};h.fd=function(){this.Db=!0;this.Nc&&(clearInterval(this.Nc),this.Nc=null);this.La&&(this.La.close(),this.La=null)};h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))};h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};
function yh(a){clearInterval(a.Nc);a.Nc=setInterval(function(){a.La&&Ah(a,"0");yh(a)},Math.floor(45E3))}function Ah(a,b){try{a.La.send(b)}catch(c){a.f("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(u(a.bb,a),0)}};function Bh(a){Ch(this,a)}var Dh=[nh,wh];function Ch(a,b){var c=wh&&wh.isAvailable(),d=c&&!(bd.Af||!0===bd.get("previous_websocket_failure"));b.jh&&(c||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.jd=[wh];else{var e=a.jd=[];zd(Dh,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function Eh(a){if(0<a.jd.length)return a.jd[0];throw Error("No transports available");};function Fh(a,b,c,d,e,f,g){this.id=a;this.f=pd("c:"+this.id+":");this.nc=c;this.Zc=d;this.na=e;this.Re=f;this.G=b;this.Pd=[];this.kf=0;this.Wf=new Bh(b);this.N=0;this.Fb=g;this.f("Connection created");Gh(this)}
function Gh(a){var b=Eh(a.Wf);a.K=new b("c:"+a.id+":"+a.kf++,a.G,void 0,a.Fb);a.Ve=b.responsesRequiredToBeHealthy||0;var c=Hh(a,a.K),d=Ih(a,a.K);a.kd=a.K;a.ed=a.K;a.F=null;a.Eb=!1;setTimeout(function(){a.K&&a.K.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.Bd=setTimeout(function(){a.Bd=null;a.Eb||(a.K&&102400<a.K.rb?(a.f("Connection exceeded healthy timeout but has received "+a.K.rb+" bytes.  Marking connection healthy."),a.Eb=!0,a.K.Hd()):a.K&&10240<a.K.sb?a.f("Connection exceeded healthy timeout but has sent "+
a.K.sb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function Ih(a,b){return function(c){b===a.K?(a.K=null,c||0!==a.N?1===a.N&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.G.ab.substr(0,2)&&(bd.remove("host:"+a.G.host),a.G.ab=a.G.host)),a.close()):b===a.F?(a.f("Secondary connection lost."),c=a.F,a.F=null,a.kd!==c&&a.ed!==c||a.close()):a.f("closing an old connection")}}
function Hh(a,b){return function(c){if(2!=a.N)if(b===a.ed){var d=wd("t",c);c=wd("d",c);if("c"==d){if(d=wd("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Uf=c.s;ed(a.G,f);0==a.N&&(a.K.start(),Jh(a,a.K,d),"5"!==e&&S("Protocol version mismatch detected"),c=a.Wf,(c=1<c.jd.length?c.jd[1]:null)&&Kh(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.ed=a.F;for(c=0;c<a.Pd.length;++c)a.Ld(a.Pd[c]);a.Pd=[];Lh(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Re&&(a.Re(c),a.Re=null),a.na=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),ed(a.G,c),1===a.N?a.close():(Mh(a),Gh(a))):"e"===d?qd("Server Error: "+c):"o"===d?(a.f("got pong on primary."),Nh(a),Oh(a)):qd("Unknown control packet command: "+d)}else"d"==d&&a.Ld(c)}else if(b===a.F)if(d=wd("t",c),c=wd("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Ph(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.F.close(),a.kd!==a.F&&a.ed!==a.F||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.Tf--,Ph(a)));else if("d"==d)a.Pd.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}Fh.prototype.Ia=function(a){Qh(this,{t:"d",d:a})};function Lh(a){a.kd===a.F&&a.ed===a.F&&(a.f("cleaning up and promoting a connection: "+a.F.ue),a.K=a.F,a.F=null)}
function Ph(a){0>=a.Tf?(a.f("Secondary connection is healthy."),a.Eb=!0,a.F.Hd(),a.F.start(),a.f("sending client ack on secondary"),a.F.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.K.send({t:"c",d:{t:"n",d:{}}}),a.kd=a.F,Lh(a)):(a.f("sending ping on secondary."),a.F.send({t:"c",d:{t:"p",d:{}}}))}Fh.prototype.Ld=function(a){Nh(this);this.nc(a)};function Nh(a){a.Eb||(a.Ve--,0>=a.Ve&&(a.f("Primary connection is healthy."),a.Eb=!0,a.K.Hd()))}
function Kh(a,b){a.F=new b("c:"+a.id+":"+a.kf++,a.G,a.Uf);a.Tf=b.responsesRequiredToBeHealthy||0;a.F.open(Hh(a,a.F),Ih(a,a.F));setTimeout(function(){a.F&&(a.f("Timed out trying to upgrade."),a.F.close())},Math.floor(6E4))}function Jh(a,b,c){a.f("Realtime connection established.");a.K=b;a.N=1;a.Zc&&(a.Zc(c,a.Uf),a.Zc=null);0===a.Ve?(a.f("Primary connection is healthy."),a.Eb=!0):setTimeout(function(){Oh(a)},Math.floor(5E3))}
function Oh(a){a.Eb||1!==a.N||(a.f("sending ping on primary."),Qh(a,{t:"c",d:{t:"p",d:{}}}))}function Qh(a,b){if(1!==a.N)throw"Connection is not connected";a.kd.send(b)}Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};function Mh(a){a.f("Shutting down all connections");a.K&&(a.K.close(),a.K=null);a.F&&(a.F.close(),a.F=null);a.Bd&&(clearTimeout(a.Bd),a.Bd=null)};function Rh(a,b,c,d){this.id=Sh++;this.f=pd("p:"+this.id+":");this.Bf=this.Ie=!1;this.ba={};this.sa=[];this.ad=0;this.Yc=[];this.qa=!1;this.eb=1E3;this.Id=3E5;this.Kb=b;this.Xc=c;this.Se=d;this.G=a;this.wb=this.Ca=this.Ma=this.Fb=this.$e=null;this.Sb=!1;this.Wd={};this.Xg=0;this.rf=!0;this.Oc=this.Ke=null;Th(this,0);kf.yb().Ib("visible",this.Og,this);-1===a.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Mg,this)}var Sh=0,Uh=0;h=Rh.prototype;
h.Ia=function(a,b,c){var d=++this.Xg;a={r:d,a:a,b:b};this.f(G(a));O(this.qa,"sendRequest call when we're not connected not allowed.");this.Ma.Ia(a);c&&(this.Wd[d]=c)};h.Cf=function(a,b,c,d){var e=a.wa(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.ba[f]=this.ba[f]||{};O(Ie(a.n)||!He(a.n),"listen() called for non-default but complete query");O(!this.ba[f][e],"listen() called twice for same path/queryId.");a={I:d,Ad:b,Ug:a,tag:c};this.ba[f][e]=a;this.qa&&Vh(this,a)};
function Vh(a,b){var c=b.Ug,d=c.path.toString(),e=c.wa();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=Ge(c.n),f.t=b.tag);f.h=b.Ad();a.Ia("q",f,function(f){var k=f.d,m=f.s;if(k&&"object"===typeof k&&y(k,"w")){var l=z(k,"w");da(l)&&0<=La(l,"no_index")&&S("Using an unspecified index. Consider adding "+('".indexOn": "'+c.n.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.ba[d]&&a.ba[d][e])===b&&(a.f("listen response",f),"ok"!==m&&Wh(a,d,e),b.I&&
b.I(m,k))})}h.O=function(a,b,c){this.Ca={rg:a,sf:!1,Dc:b,od:c};this.f("Authenticating using credential: "+a);Xh(this);(b=40==a.length)||(a=Cd(a).Ec,b="object"===typeof a&&!0===z(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3E4)};h.je=function(a){this.Ca=null;this.qa&&this.Ia("unauth",{},function(b){a(b.s,b.d)})};
function Xh(a){var b=a.Ca;a.qa&&b&&a.Ia("auth",{cred:b.rg},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Ca===b&&(a.Ca=null);b.sf?"ok"!==d&&b.od&&b.od(d,c):(b.sf=!0,b.Dc&&b.Dc(d,c))})}h.$f=function(a,b){var c=a.path.toString(),d=a.wa();this.f("Unlisten called for "+c+" "+d);O(Ie(a.n)||!He(a.n),"unlisten() called for non-default but complete query");if(Wh(this,c,d)&&this.qa){var e=Ge(a.n);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.Ia("n",c)}};
h.Qe=function(a,b,c){this.qa?Yh(this,"o",a,b,c):this.Yc.push({bd:a,action:"o",data:b,I:c})};h.Gf=function(a,b,c){this.qa?Yh(this,"om",a,b,c):this.Yc.push({bd:a,action:"om",data:b,I:c})};h.Md=function(a,b){this.qa?Yh(this,"oc",a,null,b):this.Yc.push({bd:a,action:"oc",data:null,I:b})};function Yh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.Ia(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.put=function(a,b,c,d){Zh(this,"p",a,b,c,d)};
h.Df=function(a,b,c,d){Zh(this,"m",a,b,c,d)};function Zh(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.sa.push({action:b,Pf:d,I:e});a.ad++;b=a.sa.length-1;a.qa?$h(a,b):a.f("Buffering put: "+c)}function $h(a,b){var c=a.sa[b].action,d=a.sa[b].Pf,e=a.sa[b].I;a.sa[b].Vg=a.qa;a.Ia(c,d,function(d){a.f(c+" response",d);delete a.sa[b];a.ad--;0===a.ad&&(a.sa=[]);e&&e(d.s,d.d)})}
h.Ye=function(a){this.qa&&(a={c:a},this.f("reportStats",a),this.Ia("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
h.Ld=function(a){if("r"in a){this.f("from server: "+G(a));var b=a.r,c=this.Wd[b];c&&(delete this.Wd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Kb(c.p,c.d,!1,c.t):"m"===b?this.Kb(c.p,c.d,!0,c.t):"c"===b?ai(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Ca,this.Ca=null,c&&c.od&&c.od(a,b)):"sd"===b?this.$e?this.$e(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(b)+"\nAre you using the latest client?"))}};h.Zc=function(a,b){this.f("connection ready");this.qa=!0;this.Oc=(new Date).getTime();this.Se({serverTimeOffset:a-(new Date).getTime()});this.Fb=b;if(this.rf){var c={};c["sdk.js."+Eb.replace(/\./g,"-")]=1;Dg()?c["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1);this.Ye(c)}bi(this);this.rf=!1;this.Xc(!0)};
function Th(a,b){O(!a.Ma,"Scheduling a connect when we're already connected/ing?");a.wb&&clearTimeout(a.wb);a.wb=setTimeout(function(){a.wb=null;ci(a)},Math.floor(b))}h.Og=function(a){a&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1E3,this.Ma||Th(this,0));this.Sb=a};h.Mg=function(a){a?(this.f("Browser went online."),this.eb=1E3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())};
h.If=function(){this.f("data client disconnected");this.qa=!1;this.Ma=null;for(var a=0;a<this.sa.length;a++){var b=this.sa[a];b&&"h"in b.Pf&&b.Vg&&(b.I&&b.I("disconnect"),delete this.sa[a],this.ad--)}0===this.ad&&(this.sa=[]);this.Wd={};di(this)&&(this.Sb?this.Oc&&(3E4<(new Date).getTime()-this.Oc&&(this.eb=1E3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),a=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),Th(this,a),this.eb=Math.min(this.Id,1.3*this.eb));this.Xc(!1)};function ci(a){if(di(a)){a.f("Making a connection attempt");a.Ke=(new Date).getTime();a.Oc=null;var b=u(a.Ld,a),c=u(a.Zc,a),d=u(a.If,a),e=a.id+":"+Uh++;a.Ma=new Fh(e,a.G,b,c,d,function(b){S(b+" ("+a.G.toString()+")");a.Bf=!0},a.Fb)}}h.Cb=function(){this.Ie=!0;this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())};h.vc=function(){this.Ie=!1;this.eb=1E3;this.Ma||Th(this,0)};
function ai(a,b,c){c=c?Oa(c,function(a){return xd(a)}).join("$"):"default";(a=Wh(a,b,c))&&a.I&&a.I("permission_denied")}function Wh(a,b,c){b=(new P(b)).toString();var d;p(a.ba[b])?(d=a.ba[b][c],delete a.ba[b][c],0===oa(a.ba[b])&&delete a.ba[b]):d=void 0;return d}function bi(a){Xh(a);v(a.ba,function(b){v(b,function(b){Vh(a,b)})});for(var b=0;b<a.sa.length;b++)a.sa[b]&&$h(a,b);for(;a.Yc.length;)b=a.Yc.shift(),Yh(a,b.action,b.bd,b.data,b.I)}function di(a){var b;b=jf.yb().oc;return!a.Bf&&!a.Ie&&b};var U={zg:function(){oh=xh=!0}};U.forceLongPolling=U.zg;U.Ag=function(){ph=!0};U.forceWebSockets=U.Ag;U.Eg=function(){return wh.isAvailable()};U.isWebSocketsAvailable=U.Eg;U.ah=function(a,b){a.k.Va.$e=b};U.setSecurityDebugCallback=U.ah;U.bf=function(a,b){a.k.bf(b)};U.stats=U.bf;U.cf=function(a,b){a.k.cf(b)};U.statsIncrementCounter=U.cf;U.ud=function(a){return a.k.ud};U.dataUpdateCount=U.ud;U.Dg=function(a,b){a.k.He=b};U.interceptServerData=U.Dg;U.Kg=function(a){new Og(a)};U.onPopupOpen=U.Kg;
U.Zg=function(a){xg=a};U.setAuthenticationServer=U.Zg;function ei(a,b){this.committed=a;this.snapshot=b};function V(a,b){this.dd=a;this.ta=b}V.prototype.cancel=function(a){D("Firebase.onDisconnect().cancel",0,1,arguments.length);F("Firebase.onDisconnect().cancel",1,a,!0);var b=new B;this.dd.Md(this.ta,C(b,a));return b.D};V.prototype.cancel=V.prototype.cancel;V.prototype.remove=function(a){D("Firebase.onDisconnect().remove",0,1,arguments.length);og("Firebase.onDisconnect().remove",this.ta);F("Firebase.onDisconnect().remove",1,a,!0);var b=new B;fi(this.dd,this.ta,null,C(b,a));return b.D};
V.prototype.remove=V.prototype.remove;V.prototype.set=function(a,b){D("Firebase.onDisconnect().set",1,2,arguments.length);og("Firebase.onDisconnect().set",this.ta);gg("Firebase.onDisconnect().set",a,this.ta,!1);F("Firebase.onDisconnect().set",2,b,!0);var c=new B;fi(this.dd,this.ta,a,C(c,b));return c.D};V.prototype.set=V.prototype.set;
V.prototype.Ob=function(a,b,c){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);og("Firebase.onDisconnect().setWithPriority",this.ta);gg("Firebase.onDisconnect().setWithPriority",a,this.ta,!1);kg("Firebase.onDisconnect().setWithPriority",2,b);F("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new B;gi(this.dd,this.ta,a,b,C(d,c));return d.D};V.prototype.setWithPriority=V.prototype.Ob;
V.prototype.update=function(a,b){D("Firebase.onDisconnect().update",1,2,arguments.length);og("Firebase.onDisconnect().update",this.ta);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jg("Firebase.onDisconnect().update",a,this.ta);F("Firebase.onDisconnect().update",2,b,!0);
c=new B;hi(this.dd,this.ta,a,C(c,b));return c.D};V.prototype.update=V.prototype.update;function W(a,b,c){this.A=a;this.Y=b;this.g=c}W.prototype.J=function(){D("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.J()};W.prototype.val=W.prototype.J;W.prototype.qf=function(){D("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.J(!0)};W.prototype.exportVal=W.prototype.qf;W.prototype.xg=function(){D("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.A.e()};W.prototype.exists=W.prototype.xg;
W.prototype.o=function(a){D("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));ng("Firebase.DataSnapshot.child",a);var b=new P(a),c=this.Y.o(b);return new W(this.A.S(b),c,R)};W.prototype.child=W.prototype.o;W.prototype.Fa=function(a){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length);ng("Firebase.DataSnapshot.hasChild",a);var b=new P(a);return!this.A.S(b).e()};W.prototype.hasChild=W.prototype.Fa;
W.prototype.C=function(){D("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.C().J()};W.prototype.getPriority=W.prototype.C;W.prototype.forEach=function(a){D("Firebase.DataSnapshot.forEach",1,1,arguments.length);F("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.L())return!1;var b=this;return!!this.A.R(this.g,function(c,d){return a(new W(d,b.Y.o(c),R))})};W.prototype.forEach=W.prototype.forEach;
W.prototype.zd=function(){D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.L()?!1:!this.A.e()};W.prototype.hasChildren=W.prototype.zd;W.prototype.name=function(){S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.");D("Firebase.DataSnapshot.name",0,0,arguments.length);return this.key()};W.prototype.name=W.prototype.name;W.prototype.key=function(){D("Firebase.DataSnapshot.key",0,0,arguments.length);return this.Y.key()};
W.prototype.key=W.prototype.key;W.prototype.Hb=function(){D("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.Hb()};W.prototype.numChildren=W.prototype.Hb;W.prototype.Mb=function(){D("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.Y};W.prototype.ref=W.prototype.Mb;function ii(a,b,c){this.Vb=a;this.tb=b;this.vb=c||null}h=ii.prototype;h.Qf=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.n.g;return new jc("value",this,new W(a.Na,b.Mb(),c))};h.Zb=function(a){var b=this.vb;if("cancel"===a.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var c=this.tb;return function(){c.call(b,a.error)}}var d=this.Vb;return function(){d.call(b,a.be)}};h.lf=function(a,b){return this.tb?new kc(this,a,b):null};
h.matches=function(a){return a instanceof ii?a.Vb&&this.Vb?a.Vb===this.Vb&&a.vb===this.vb:!0:!1};h.yf=function(){return null!==this.Vb};function ji(a,b,c){this.ja=a;this.tb=b;this.vb=c}h=ji.prototype;h.Qf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ja};h.lf=function(a,b){return this.tb?new kc(this,a,b):null};
h.createEvent=function(a,b){O(null!=a.Za,"Child events should have a childName.");var c=b.Mb().o(a.Za);return new jc(a.type,this,new W(a.Na,c,b.n.g),a.Td)};h.Zb=function(a){var b=this.vb;if("cancel"===a.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var c=this.tb;return function(){c.call(b,a.error)}}var d=this.ja[a.wd];return function(){d.call(b,a.be,a.Td)}};
h.matches=function(a){if(a instanceof ji){if(!this.ja||!a.ja)return!0;if(this.vb===a.vb){var b=oa(a.ja);if(b===oa(this.ja)){if(1===b){var b=pa(a.ja),c=pa(this.ja);return c===b&&(!a.ja[b]||!this.ja[c]||a.ja[b]===this.ja[c])}return na(this.ja,function(b,c){return a.ja[c]===b})}}}return!1};h.yf=function(){return null!==this.ja};function ki(){this.za={}}h=ki.prototype;h.e=function(){return va(this.za)};h.gb=function(a,b,c){var d=a.source.Lb;if(null!==d)return d=z(this.za,d),O(null!=d,"SyncTree gave us an op for an invalid query."),d.gb(a,b,c);var e=[];v(this.za,function(d){e=e.concat(d.gb(a,b,c))});return e};h.Tb=function(a,b,c,d,e){var f=a.wa(),g=z(this.za,f);if(!g){var g=c.Aa(e?d:null),k=!1;g?k=!0:(g=d instanceof fe?c.Cc(d):H,k=!1);g=new Ye(a,new je(new Xb(g,k,!1),new Xb(d,e,!1)));this.za[f]=g}g.Tb(b);return af(g,b)};
h.nb=function(a,b,c){var d=a.wa(),e=[],f=[],g=null!=li(this);if("default"===d){var k=this;v(this.za,function(a,d){f=f.concat(a.nb(b,c));a.e()&&(delete k.za[d],He(a.Y.n)||e.push(a.Y))})}else{var m=z(this.za,d);m&&(f=f.concat(m.nb(b,c)),m.e()&&(delete this.za[d],He(m.Y.n)||e.push(m.Y)))}g&&null==li(this)&&e.push(new X(a.k,a.path));return{Wg:e,vg:f}};function mi(a){return Na(qa(a.za),function(a){return!He(a.Y.n)})}h.kb=function(a){var b=null;v(this.za,function(c){b=b||c.kb(a)});return b};
function ni(a,b){if(He(b.n))return li(a);var c=b.wa();return z(a.za,c)}function li(a){return ua(a.za,function(a){return He(a.Y.n)})||null};function oi(a){this.va=qe;this.mb=new Pf;this.df={};this.qc={};this.Qc=a}function pi(a,b,c,d,e){var f=a.mb,g=e;O(d>f.Pc,"Stacking an older write on top of newer ones");p(g)||(g=!0);f.pa.push({path:b,Ja:c,md:d,visible:g});g&&(f.V=Jf(f.V,b,c));f.Pc=d;return e?qi(a,new Ac(Ef,b,c)):[]}function ri(a,b,c,d){var e=a.mb;O(d>e.Pc,"Stacking an older merge on top of newer ones");e.pa.push({path:b,children:c,md:d,visible:!0});e.V=Kf(e.V,b,c);e.Pc=d;c=sf(c);return qi(a,new bf(Ef,b,c))}
function si(a,b,c){c=c||!1;var d=Qf(a.mb,b);if(a.mb.Ud(b)){var e=qe;null!=d.Ja?e=e.set(M,!0):Fb(d.children,function(a,b){e=e.set(new P(a),b)});return qi(a,new Df(d.path,e,c))}return[]}function ti(a,b,c){c=sf(c);return qi(a,new bf(Gf,b,c))}function ui(a,b,c,d){d=vi(a,d);if(null!=d){var e=wi(d);d=e.path;e=e.Lb;b=lf(d,b);c=new Ac(new Ff(!1,!0,e,!0),b,c);return xi(a,d,c)}return[]}
function yi(a,b,c,d){if(d=vi(a,d)){var e=wi(d);d=e.path;e=e.Lb;b=lf(d,b);c=sf(c);c=new bf(new Ff(!1,!0,e,!0),b,c);return xi(a,d,c)}return[]}
oi.prototype.Tb=function(a,b){var c=a.path,d=null,e=!1;zf(this.va,c,function(a,b){var f=lf(a,c);d=d||b.kb(f);e=e||null!=li(b)});var f=this.va.get(c);f?(e=e||null!=li(f),d=d||f.kb(M)):(f=new ki,this.va=this.va.set(c,f));var g;null!=d?g=!0:(g=!1,d=H,Cf(this.va.subtree(c),function(a,b){var c=b.kb(M);c&&(d=d.W(a,c))}));var k=null!=ni(f,a);if(!k&&!He(a.n)){var m=zi(a);O(!(m in this.qc),"View does not exist, but we have a tag");var l=Ai++;this.qc[m]=l;this.df["_"+l]=m}g=f.Tb(a,b,new Uf(c,this.mb),d,g);
k||e||(f=ni(f,a),g=g.concat(Bi(this,a,f)));return g};
oi.prototype.nb=function(a,b,c){var d=a.path,e=this.va.get(d),f=[];if(e&&("default"===a.wa()||null!=ni(e,a))){f=e.nb(a,b,c);e.e()&&(this.va=this.va.remove(d));e=f.Wg;f=f.vg;b=-1!==Sa(e,function(a){return He(a.n)});var g=xf(this.va,d,function(a,b){return null!=li(b)});if(b&&!g&&(d=this.va.subtree(d),!d.e()))for(var d=Ci(d),k=0;k<d.length;++k){var m=d[k],l=m.Y,m=Di(this,m);this.Qc.af(Ei(l),Fi(this,l),m.Ad,m.I)}if(!g&&0<e.length&&!c)if(b)this.Qc.de(Ei(a),null);else{var t=this;Ma(e,function(a){a.wa();
var b=t.qc[zi(a)];t.Qc.de(Ei(a),b)})}Gi(this,e)}return f};oi.prototype.Aa=function(a,b){var c=this.mb,d=xf(this.va,a,function(b,c){var d=lf(b,a);if(d=c.kb(d))return d});return c.Aa(a,d,b,!0)};function Ci(a){return vf(a,function(a,c,d){if(c&&null!=li(c))return[li(c)];var e=[];c&&(e=mi(c));v(d,function(a){e=e.concat(a)});return e})}function Gi(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!He(d.n)){var d=zi(d),e=a.qc[d];delete a.qc[d];delete a.df["_"+e]}}}
function Ei(a){return He(a.n)&&!Ie(a.n)?a.Mb():a}function Bi(a,b,c){var d=b.path,e=Fi(a,b);c=Di(a,c);b=a.Qc.af(Ei(b),e,c.Ad,c.I);d=a.va.subtree(d);if(e)O(null==li(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=vf(d,function(a,b,c){if(!a.e()&&b&&null!=li(b))return[Ze(li(b))];var d=[];b&&(d=d.concat(Oa(mi(b),function(a){return a.Y})));v(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Qc.de(Ei(c),Fi(a,c));return b}
function Di(a,b){var c=b.Y,d=Fi(a,c);return{Ad:function(){return(b.w()||H).hash()},I:function(b){if("ok"===b){if(d){var f=c.path;if(b=vi(a,d)){var g=wi(b);b=g.path;g=g.Lb;f=lf(b,f);f=new Cc(new Ff(!1,!0,g,!0),f);b=xi(a,b,f)}else b=[]}else b=qi(a,new Cc(Gf,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+" at "+c.path.toString()+": "+f);f.code=b.toUpperCase();return a.nb(c,null,f)}}}function zi(a){return a.path.toString()+"$"+a.wa()}function wi(a){var b=a.indexOf("$");O(-1!==b&&b<a.length-1,"Bad queryKey.");return{Lb:a.substr(b+1),path:new P(a.substr(0,b))}}function vi(a,b){var c=a.df,d="_"+b;return d in c?c[d]:void 0}function Fi(a,b){var c=zi(b);return z(a.qc,c)}var Ai=1;
function xi(a,b,c){var d=a.va.get(b);O(d,"Missing sync point for query tag that we're tracking");return d.gb(c,new Uf(b,a.mb),null)}function qi(a,b){return Hi(a,b,a.va,null,new Uf(M,a.mb))}function Hi(a,b,c,d,e){if(b.path.e())return Ii(a,b,c,d,e);var f=c.get(M);null==d&&null!=f&&(d=f.kb(M));var g=[],k=K(b.path),m=b.$c(k);if((c=c.children.get(k))&&m)var l=d?d.T(k):null,k=e.o(k),g=g.concat(Hi(a,m,c,l,k));f&&(g=g.concat(f.gb(b,e,d)));return g}
function Ii(a,b,c,d,e){var f=c.get(M);null==d&&null!=f&&(d=f.kb(M));var g=[];c.children.ka(function(c,f){var l=d?d.T(c):null,t=e.o(c),A=b.$c(c);A&&(g=g.concat(Ii(a,A,f,l,t)))});f&&(g=g.concat(f.gb(b,e,d)));return g};function Ji(a,b){this.G=a;this.Xa=uc(a);this.hd=null;this.fa=new Zb;this.Kd=1;this.Va=null;b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this));this.eh=vc(a,u(function(){return new pc(this.Xa,this.da)},this));this.yc=new Wf;
this.Ge=new Sb;var c=this;this.Fd=new oi({af:function(a,b,f,g){b=[];f=c.Ge.j(a.path);f.e()||(b=qi(c.Fd,new Ac(Gf,a.path,f)),setTimeout(function(){g("ok")},0));return b},de:aa});Ki(this,"connected",!1);this.na=new Vc;this.O=new Yg(a,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this));this.ud=0;this.He=null;this.M=new oi({af:function(a,b,f,g){c.da.Cf(a,f,b,function(b,e){var f=g(b,e);dc(c.fa,a.path,f)});return[]},de:function(a,b){c.da.$f(a,b)}})}h=Ji.prototype;
h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host};h.name=function(){return this.G.lc};function Li(a){a=a.Ge.j(new P(".info/serverTimeOffset")).J()||0;return(new Date).getTime()+a}function Mi(a){a=a={timestamp:Li(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
h.Kb=function(a,b,c,d){this.ud++;var e=new P(a);b=this.He?this.He(a,b):b;a=[];d?c?(b=ma(b,function(a){return Q(a)}),a=yi(this.M,e,b,d)):(b=Q(b),a=ui(this.M,e,b,d)):c?(d=ma(b,function(a){return Q(a)}),a=ti(this.M,e,d)):(d=Q(b),a=qi(this.M,new Ac(Gf,e,d)));d=e;0<a.length&&(d=Ni(this,e));dc(this.fa,d,a)};h.Xc=function(a){Ki(this,"connected",a);!1===a&&Oi(this)};h.Se=function(a){var b=this;zd(a,function(a,d){Ki(b,d,a)})};h.Pe=function(a){Ki(this,"authenticated",a)};
function Ki(a,b,c){b=new P("/.info/"+b);c=Q(c);var d=a.Ge;d.Zd=d.Zd.H(b,c);c=qi(a.Fd,new Ac(Gf,b,c));dc(a.fa,b,c)}h.Ob=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,nh:c});var e=Mi(this);b=Q(b,c);var e=Xc(b,e),f=this.Kd++,e=pi(this.M,a,e,f,!0);$b(this.fa,e);var g=this;this.da.put(a.toString(),b.J(!0),function(b,c){var e="ok"===b;e||S("set at "+a+" failed: "+b);e=si(g.M,f,!e);dc(g.fa,a,e);Pi(d,b,c)});e=Qi(this,a);Ni(this,e);dc(this.fa,e,[])};
h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Mi(this),f={};v(b,function(a,b){d=!1;var c=Q(a);f[b]=Xc(c,e)});if(d)fc("update() called with empty data.  Don't do anything."),Pi(c,"ok");else{var g=this.Kd++,k=ri(this.M,a,f,g);$b(this.fa,k);var m=this;this.da.Df(a.toString(),b,function(b,d){var e="ok"===b;e||S("update at "+a+" failed: "+b);var e=si(m.M,g,!e),f=a;0<e.length&&(f=Ni(m,a));dc(m.fa,f,e);Pi(c,b,d)});b=Qi(this,a);Ni(this,b);dc(this.fa,a,[])}};
function Oi(a){a.f("onDisconnectEvents");var b=Mi(a),c=[];Wc(Uc(a.na,b),M,function(b,e){c=c.concat(qi(a.M,new Ac(Gf,b,e)));var f=Qi(a,b);Ni(a,f)});a.na=new Vc;dc(a.fa,M,c)}h.Md=function(a,b){var c=this;this.da.Md(a.toString(),function(d,e){"ok"===d&&wg(c.na,a);Pi(b,d,e)})};function fi(a,b,c,d){var e=Q(c);a.da.Qe(b.toString(),e.J(!0),function(c,g){"ok"===c&&a.na.rc(b,e);Pi(d,c,g)})}function gi(a,b,c,d,e){var f=Q(c,d);a.da.Qe(b.toString(),f.J(!0),function(c,d){"ok"===c&&a.na.rc(b,f);Pi(e,c,d)})}
function hi(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(d,"ok")):a.da.Gf(b.toString(),c,function(e,f){if("ok"===e)for(var m in c){var l=Q(c[m]);a.na.rc(b.o(m),l)}Pi(d,e,f)})}function Ri(a,b,c){c=".info"===K(b.path)?a.Fd.Tb(b,c):a.M.Tb(b,c);bc(a.fa,b.path,c)}h.Cb=function(){this.Va&&this.Va.Cb()};h.vc=function(){this.Va&&this.Va.vc()};
h.bf=function(a){if("undefined"!==typeof console){a?(this.hd||(this.hd=new oc(this.Xa)),a=this.hd.get()):a=this.Xa.get();var b=Pa(ra(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.cf=function(a){rc(this.Xa,a);this.eh.Vf[a]=!0};h.f=function(a){var b="";this.Va&&(b=this.Va.id+":");fc(b,arguments)};
function Pi(a,b,c){a&&gc(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Si(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new X(a,b);g.Ib("value",f);c={path:b,update:c,I:d,status:null,Lf:id(),gf:e,Sf:0,le:function(){g.mc("value",f)},ne:null,Da:null,rd:null,sd:null,td:null};d=a.M.Aa(b,void 0)||H;c.rd=d;d=c.update(d.J());if(p(d)){hg("transaction failed: Data returned ",d,c.path);c.status=1;e=Xf(a.yc,b);var k=e.Ea()||[];k.push(c);Yf(e,k);"object"===typeof d&&null!==d&&y(d,".priority")?(k=z(d,".priority"),O(fg(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.M.Aa(b)||H).C().J();e=Mi(a);d=Q(d,k);e=Xc(d,e);c.sd=d;c.td=e;c.Da=a.Kd++;c=pi(a.M,b,e,c.Da,c.gf);dc(a.fa,b,c);Ti(a)}else c.le(),c.sd=null,c.td=null,c.I&&(a=new W(c.rd,new X(a,c.path),R),c.I(null,!1,a))}function Ti(a,b){var c=b||a.yc;b||Ui(a,c);if(null!==c.Ea()){var d=Vi(a,c);O(0<d.length,"Sending zero length transaction queue");Qa(d,function(a){return 1===a.status})&&Wi(a,c.path(),d)}else c.zd()&&c.R(function(b){Ti(a,b)})}
function Wi(a,b,c){for(var d=Oa(c,function(a){return a.Da}),e=a.M.Aa(b,d)||H,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];O(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.Sf++;var k=lf(b,g.path),d=d.H(k,g.sd)}d=d.J(!0);a.da.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(si(a.M,c[f].Da));if(c[f].I){var g=c[f].td,k=new X(a,c[f].path);d.push(u(c[f].I,
null,null,!0,new W(g,k,R)))}c[f].le()}Ui(a,Xf(a.yc,b));Ti(a);dc(a.fa,b,e);for(f=0;f<d.length;f++)gc(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(S("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].ne=d;Ni(a,b)}},e)}function Ni(a,b){var c=Xi(a,b),d=c.path(),c=Vi(a,c);Yi(a,c,d);return d}
function Yi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Na(b,function(a){return 1===a.status}),f=Oa(f,function(a){return a.Da}),g=0;g<b.length;g++){var k=b[g],m=lf(c,k.path),l=!1,t;O(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)l=!0,t=k.ne,e=e.concat(si(a.M,k.Da,!0));else if(1===k.status)if(25<=k.Sf)l=!0,t="maxretry",e=e.concat(si(a.M,k.Da,!0));else{var A=a.M.Aa(k.path,f)||H;k.rd=A;var I=b[g].update(A.J());p(I)?(hg("transaction failed: Data returned ",
I,k.path),m=Q(I),"object"===typeof I&&null!=I&&y(I,".priority")||(m=m.ia(A.C())),A=k.Da,I=Mi(a),I=Xc(m,I),k.sd=m,k.td=I,k.Da=a.Kd++,Ta(f,A),e=e.concat(pi(a.M,k.path,I,k.Da,k.gf)),e=e.concat(si(a.M,A,!0))):(l=!0,t="nodata",e=e.concat(si(a.M,k.Da,!0)))}dc(a.fa,c,e);e=[];l&&(b[g].status=3,setTimeout(b[g].le,Math.floor(0)),b[g].I&&("nodata"===t?(k=new X(a,b[g].path),d.push(u(b[g].I,null,null,!1,new W(b[g].rd,k,R)))):d.push(u(b[g].I,null,Error(t),!1,null))))}Ui(a,a.yc);for(g=0;g<d.length;g++)gc(d[g]);
Ti(a)}}function Xi(a,b){for(var c,d=a.yc;null!==(c=K(b))&&null===d.Ea();)d=Xf(d,c),b=N(b);return d}function Vi(a,b){var c=[];Zi(a,b,c);c.sort(function(a,b){return a.Lf-b.Lf});return c}function Zi(a,b,c){var d=b.Ea();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.R(function(b){Zi(a,b,c)})}function Ui(a,b){var c=b.Ea();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Yf(b,0<c.length?c:null)}b.R(function(b){Ui(a,b)})}
function Qi(a,b){var c=Xi(a,b).path(),d=Xf(a.yc,b);ag(d,function(b){$i(a,b)});$i(a,d);$f(d,function(b){$i(a,b)});return c}
function $i(a,b){var c=b.Ea();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(O(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].ne="set"):(O(1===c[g].status,"Unexpected transaction status in abort"),c[g].le(),e=e.concat(si(a.M,c[g].Da,!0)),c[g].I&&d.push(u(c[g].I,null,Error("set"),!1,null))));-1===f?Yf(b,null):c.length=f+1;dc(a.fa,b.path(),e);for(g=0;g<d.length;g++)gc(d[g])}};function aj(){this.sc={};this.ag=!1}aj.prototype.Cb=function(){for(var a in this.sc)this.sc[a].Cb()};aj.prototype.vc=function(){for(var a in this.sc)this.sc[a].vc()};aj.prototype.ze=function(){this.ag=!0};ba(aj);aj.prototype.interrupt=aj.prototype.Cb;aj.prototype.resume=aj.prototype.vc;function Y(a,b,c,d){this.k=a;this.path=b;this.n=c;this.pc=d}
function bj(a){var b=null,c=null;a.oa&&(b=Od(a));a.ra&&(c=Rd(a));if(a.g===re){if(a.oa){if("[MIN_NAME]"!=Nd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.ra){if("[MAX_NAME]"!=Pd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===R){if(null!=b&&!fg(b)||null!=c&&!fg(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(O(a.g instanceof ve||a.g===Be,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function cj(a){if(a.oa&&a.ra&&a.la&&(!a.la||""===a.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function dj(a,b){if(!0===a.pc)throw Error(b+": You can't combine multiple orderBy calls.");}h=Y.prototype;h.Mb=function(){D("Query.ref",0,0,arguments.length);return new X(this.k,this.path)};
h.Ib=function(a,b,c,d){D("Query.on",2,4,arguments.length);lg("Query.on",a,!1);F("Query.on",2,b,!1);var e=ej("Query.on",c,d);if("value"===a)Ri(this.k,this,new ii(b,e.cancel||null,e.Qa||null));else{var f={};f[a]=b;Ri(this.k,this,new ji(f,e.cancel,e.Qa))}return b};
h.mc=function(a,b,c){D("Query.off",0,3,arguments.length);lg("Query.off",a,!0);F("Query.off",2,b,!0);Qb("Query.off",3,c);var d=null,e=null;"value"===a?d=new ii(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new ji(e,null,c||null));e=this.k;d=".info"===K(this.path)?e.Fd.nb(this,d):e.M.nb(this,d);bc(e.fa,this.path,d)};
h.Pg=function(a,b){function c(k){f&&(f=!1,e.mc(a,c),b&&b.call(d.Qa,k),g.resolve(k))}D("Query.once",1,4,arguments.length);lg("Query.once",a,!1);F("Query.once",2,b,!0);var d=ej("Query.once",arguments[2],arguments[3]),e=this,f=!0,g=new B;Nb(g.D);this.Ib(a,c,function(b){e.mc(a,c);d.cancel&&d.cancel.call(d.Qa,b);g.reject(b)});return g.D};
h.Le=function(a){S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");D("Query.limit",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.n.Le(a);cj(b);return new Y(this.k,this.path,b,this.pc)};
h.Me=function(a){D("Query.limitToFirst",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(a),this.pc)};
h.Ne=function(a){D("Query.limitToLast",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(a),this.pc)};
h.Qg=function(a){D("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",a);dj(this,"Query.orderByChild");var b=new P(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");
b=new ve(b);b=Fe(this.n,b);bj(b);return new Y(this.k,this.path,b,!0)};h.Rg=function(){D("Query.orderByKey",0,0,arguments.length);dj(this,"Query.orderByKey");var a=Fe(this.n,re);bj(a);return new Y(this.k,this.path,a,!0)};h.Sg=function(){D("Query.orderByPriority",0,0,arguments.length);dj(this,"Query.orderByPriority");var a=Fe(this.n,R);bj(a);return new Y(this.k,this.path,a,!0)};
h.Tg=function(){D("Query.orderByValue",0,0,arguments.length);dj(this,"Query.orderByValue");var a=Fe(this.n,Be);bj(a);return new Y(this.k,this.path,a,!0)};h.ce=function(a,b){D("Query.startAt",0,2,arguments.length);gg("Query.startAt",a,this.path,!0);mg("Query.startAt",b);var c=this.n.ce(a,b);cj(c);bj(c);if(this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new Y(this.k,this.path,c,this.pc)};
h.vd=function(a,b){D("Query.endAt",0,2,arguments.length);gg("Query.endAt",a,this.path,!0);mg("Query.endAt",b);var c=this.n.vd(a,b);cj(c);bj(c);if(this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,c,this.pc)};
h.tg=function(a,b){D("Query.equalTo",1,2,arguments.length);gg("Query.equalTo",a,this.path,!1);mg("Query.equalTo",b);if(this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(a,b).vd(a,b)};
h.toString=function(){D("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.aa;c<a.u.length;c++)""!==a.u[c]&&(b+="/"+encodeURIComponent(String(a.u[c])));return this.k.toString()+(b||"/")};h.wa=function(){var a=xd(Ge(this.n));return"{}"===a?"default":a};
function ej(a,b,c){var d={cancel:null,Qa:null};if(b&&c)d.cancel=b,F(a,3,d.cancel,!0),d.Qa=c,Qb(a,4,d.Qa);else if(b)if("object"===typeof b&&null!==b)d.Qa=b;else if("function"===typeof b)d.cancel=b;else throw Error(E(a,3,!0)+" must either be a cancel callback or a context object.");return d}Y.prototype.ref=Y.prototype.Mb;Y.prototype.on=Y.prototype.Ib;Y.prototype.off=Y.prototype.mc;Y.prototype.once=Y.prototype.Pg;Y.prototype.limit=Y.prototype.Le;Y.prototype.limitToFirst=Y.prototype.Me;
Y.prototype.limitToLast=Y.prototype.Ne;Y.prototype.orderByChild=Y.prototype.Qg;Y.prototype.orderByKey=Y.prototype.Rg;Y.prototype.orderByPriority=Y.prototype.Sg;Y.prototype.orderByValue=Y.prototype.Tg;Y.prototype.startAt=Y.prototype.ce;Y.prototype.endAt=Y.prototype.vd;Y.prototype.equalTo=Y.prototype.tg;Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Rh;Z.DataConnection=Z.zc;Rh.prototype.dh=function(a,b){this.Ia("q",{p:a},b)};Z.zc.prototype.simpleListen=Z.zc.prototype.dh;Rh.prototype.sg=function(a,b){this.Ia("echo",{d:a},b)};Z.zc.prototype.echo=Z.zc.prototype.sg;Rh.prototype.interrupt=Rh.prototype.Cb;Z.dg=Fh;Z.RealTimeConnection=Z.dg;Fh.prototype.sendRequest=Fh.prototype.Ia;Fh.prototype.close=Fh.prototype.close;
Z.Cg=function(a){var b=Rh.prototype.put;Rh.prototype.put=function(c,d,e,f){p(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Rh.prototype.put=b}};Z.hijackHash=Z.Cg;Z.cg=dd;Z.ConnectionTarget=Z.cg;Z.wa=function(a){return a.wa()};Z.queryIdentifier=Z.wa;Z.Fg=function(a){return a.k.Va.ba};Z.listens=Z.Fg;Z.ze=function(a){a.ze()};Z.forceRestClient=Z.ze;function X(a,b){var c,d,e;if(a instanceof Ji)c=a,d=b;else{D("new Firebase",1,2,arguments.length);d=sd(arguments[0]);c=d.fh;"firebase"===d.domain&&rd(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c&&"undefined"!=c||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.ob||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new dd(d.host,d.ob,c,"ws"===d.scheme||"wss"===d.scheme);d=new P(d.bd);e=d.toString();var f;!(f=!q(c.host)||0===c.host.length||!eg(c.lc))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(q(e)&&0!==e.length&&!cg.test(e)));if(f)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof aj)e=b;else if(q(b))e=aj.yb(),c.Rd=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=aj.yb();f=c.toString();var g=z(e.sc,f);g||(g=new Ji(c,e.ag),e.sc[f]=g);c=g}Y.call(this,c,d,De,!1);this.then=void 0;this["catch"]=void 0}ka(X,Y);var fj=X,gj=["Firebase"],hj=n;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(var ij;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length);aj.yb().Cb()};X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length);aj.yb().vc()};
X.enableLogging=od;X.ServerValue={TIMESTAMP:{".sv":"timestamp"}};X.SDK_VERSION=Eb;X.INTERNAL=U;X.Context=aj;X.TEST_ACCESS=Z;X.prototype.name=function(){S("Firebase.name() being deprecated. Please use Firebase.key() instead.");D("Firebase.name",0,0,arguments.length);return this.key()};X.prototype.name=X.prototype.name;X.prototype.key=function(){D("Firebase.key",0,0,arguments.length);return this.path.e()?null:me(this.path)};X.prototype.key=X.prototype.key;
X.prototype.o=function(a){D("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof P))if(null===K(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));ng("Firebase.child",b)}else ng("Firebase.child",a);return new X(this.k,this.path.o(a))};X.prototype.child=X.prototype.o;X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new X(this.k,a)};X.prototype.parent=X.prototype.parent;
X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};X.prototype.root=X.prototype.root;X.prototype.set=function(a,b){D("Firebase.set",1,2,arguments.length);og("Firebase.set",this.path);gg("Firebase.set",a,this.path,!1);F("Firebase.set",2,b,!0);var c=new B;this.k.Ob(this.path,a,null,C(c,b));return c.D};X.prototype.set=X.prototype.set;
X.prototype.update=function(a,b){D("Firebase.update",1,2,arguments.length);og("Firebase.update",this.path);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jg("Firebase.update",a,this.path);F("Firebase.update",2,b,!0);c=new B;this.k.update(this.path,a,C(c,b));return c.D};
X.prototype.update=X.prototype.update;X.prototype.Ob=function(a,b,c){D("Firebase.setWithPriority",2,3,arguments.length);og("Firebase.setWithPriority",this.path);gg("Firebase.setWithPriority",a,this.path,!1);kg("Firebase.setWithPriority",2,b);F("Firebase.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var d=new B;this.k.Ob(this.path,a,b,C(d,c));return d.D};X.prototype.setWithPriority=X.prototype.Ob;
X.prototype.remove=function(a){D("Firebase.remove",0,1,arguments.length);og("Firebase.remove",this.path);F("Firebase.remove",1,a,!0);return this.set(null,a)};X.prototype.remove=X.prototype.remove;
X.prototype.transaction=function(a,b,c){D("Firebase.transaction",1,3,arguments.length);og("Firebase.transaction",this.path);F("Firebase.transaction",1,a,!1);F("Firebase.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new B;r(b)&&Nb(d.D);Si(this.k,this.path,a,function(a,c,g){a?
d.reject(a):d.resolve(new ei(c,g));r(b)&&b(a,c,g)},c);return d.D};X.prototype.transaction=X.prototype.transaction;X.prototype.$g=function(a,b){D("Firebase.setPriority",1,2,arguments.length);og("Firebase.setPriority",this.path);kg("Firebase.setPriority",1,a);F("Firebase.setPriority",2,b,!0);var c=new B;this.k.Ob(this.path.o(".priority"),a,null,C(c,b));return c.D};X.prototype.setPriority=X.prototype.$g;
X.prototype.push=function(a,b){D("Firebase.push",0,2,arguments.length);og("Firebase.push",this.path);gg("Firebase.push",a,this.path,!0);F("Firebase.push",2,b,!0);var c=Li(this.k),d=hf(c),c=this.o(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.o(d)});c.then=u(f.then,f);c["catch"]=u(f.then,f,void 0);r(b)&&Nb(f)}return c};X.prototype.push=X.prototype.push;X.prototype.lb=function(){og("Firebase.onDisconnect",this.path);return new V(this.k,this.path)};X.prototype.onDisconnect=X.prototype.lb;
X.prototype.O=function(a,b,c){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");D("Firebase.auth",1,3,arguments.length);pg("Firebase.auth",a);F("Firebase.auth",2,b,!0);F("Firebase.auth",3,b,!0);var d=new B;dh(this.k.O,a,{},{remember:"none"},C(d,b),c);return d.D};X.prototype.auth=X.prototype.O;X.prototype.je=function(a){D("Firebase.unauth",0,1,arguments.length);F("Firebase.unauth",1,a,!0);var b=new B;eh(this.k.O,C(b,a));return b.D};X.prototype.unauth=X.prototype.je;
X.prototype.Be=function(){D("Firebase.getAuth",0,0,arguments.length);return this.k.O.Be()};X.prototype.getAuth=X.prototype.Be;X.prototype.Jg=function(a,b){D("Firebase.onAuth",1,2,arguments.length);F("Firebase.onAuth",1,a,!1);Qb("Firebase.onAuth",2,b);this.k.O.Ib("auth_status",a,b)};X.prototype.onAuth=X.prototype.Jg;X.prototype.Ig=function(a,b){D("Firebase.offAuth",1,2,arguments.length);F("Firebase.offAuth",1,a,!1);Qb("Firebase.offAuth",2,b);this.k.O.mc("auth_status",a,b)};X.prototype.offAuth=X.prototype.Ig;
X.prototype.hg=function(a,b,c){D("Firebase.authWithCustomToken",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);pg("Firebase.authWithCustomToken",a);F("Firebase.authWithCustomToken",2,b,!0);sg("Firebase.authWithCustomToken",3,c,!0);var d=new B;dh(this.k.O,a,{},c||{},C(d,b));return d.D};X.prototype.authWithCustomToken=X.prototype.hg;
X.prototype.ig=function(a,b,c){D("Firebase.authWithOAuthPopup",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);rg("Firebase.authWithOAuthPopup",a);F("Firebase.authWithOAuthPopup",2,b,!0);sg("Firebase.authWithOAuthPopup",3,c,!0);var d=new B;ih(this.k.O,a,c,C(d,b));return d.D};X.prototype.authWithOAuthPopup=X.prototype.ig;
X.prototype.jg=function(a,b,c){D("Firebase.authWithOAuthRedirect",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);rg("Firebase.authWithOAuthRedirect",a);F("Firebase.authWithOAuthRedirect",2,b,!1);sg("Firebase.authWithOAuthRedirect",3,c,!0);var d=new B,e=this.k.O,f=c,g=C(d,b);gh(e);var k=[Qg],f=Ag(f);"anonymous"===a||"firebase"===a?T(g,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",f.qd),hh(e,k,"/auth/"+a,f,g));return d.D};X.prototype.authWithOAuthRedirect=X.prototype.jg;
X.prototype.kg=function(a,b,c,d){D("Firebase.authWithOAuthToken",2,4,arguments.length);3===arguments.length&&Hb(c)&&(d=c,c=void 0);rg("Firebase.authWithOAuthToken",a);F("Firebase.authWithOAuthToken",3,c,!0);sg("Firebase.authWithOAuthToken",4,d,!0);var e=new B;q(b)?(qg("Firebase.authWithOAuthToken",2,b),fh(this.k.O,a+"/token",{access_token:b},d,C(e,c))):(sg("Firebase.authWithOAuthToken",2,b,!1),fh(this.k.O,a+"/token",b,d,C(e,c)));return e.D};X.prototype.authWithOAuthToken=X.prototype.kg;
X.prototype.gg=function(a,b){D("Firebase.authAnonymously",0,2,arguments.length);1===arguments.length&&Hb(a)&&(b=a,a=void 0);F("Firebase.authAnonymously",1,a,!0);sg("Firebase.authAnonymously",2,b,!0);var c=new B;fh(this.k.O,"anonymous",{},b,C(c,a));return c.D};X.prototype.authAnonymously=X.prototype.gg;
X.prototype.lg=function(a,b,c){D("Firebase.authWithPassword",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);sg("Firebase.authWithPassword",1,a,!1);tg("Firebase.authWithPassword",a,"email");tg("Firebase.authWithPassword",a,"password");F("Firebase.authWithPassword",2,b,!0);sg("Firebase.authWithPassword",3,c,!0);var d=new B;fh(this.k.O,"password",a,c,C(d,b));return d.D};X.prototype.authWithPassword=X.prototype.lg;
X.prototype.ve=function(a,b){D("Firebase.createUser",1,2,arguments.length);sg("Firebase.createUser",1,a,!1);tg("Firebase.createUser",a,"email");tg("Firebase.createUser",a,"password");F("Firebase.createUser",2,b,!0);var c=new B;this.k.O.ve(a,C(c,b));return c.D};X.prototype.createUser=X.prototype.ve;
X.prototype.Xe=function(a,b){D("Firebase.removeUser",1,2,arguments.length);sg("Firebase.removeUser",1,a,!1);tg("Firebase.removeUser",a,"email");tg("Firebase.removeUser",a,"password");F("Firebase.removeUser",2,b,!0);var c=new B;this.k.O.Xe(a,C(c,b));return c.D};X.prototype.removeUser=X.prototype.Xe;
X.prototype.se=function(a,b){D("Firebase.changePassword",1,2,arguments.length);sg("Firebase.changePassword",1,a,!1);tg("Firebase.changePassword",a,"email");tg("Firebase.changePassword",a,"oldPassword");tg("Firebase.changePassword",a,"newPassword");F("Firebase.changePassword",2,b,!0);var c=new B;this.k.O.se(a,C(c,b));return c.D};X.prototype.changePassword=X.prototype.se;
X.prototype.re=function(a,b){D("Firebase.changeEmail",1,2,arguments.length);sg("Firebase.changeEmail",1,a,!1);tg("Firebase.changeEmail",a,"oldEmail");tg("Firebase.changeEmail",a,"newEmail");tg("Firebase.changeEmail",a,"password");F("Firebase.changeEmail",2,b,!0);var c=new B;this.k.O.re(a,C(c,b));return c.D};X.prototype.changeEmail=X.prototype.re;
X.prototype.Ze=function(a,b){D("Firebase.resetPassword",1,2,arguments.length);sg("Firebase.resetPassword",1,a,!1);tg("Firebase.resetPassword",a,"email");F("Firebase.resetPassword",2,b,!0);var c=new B;this.k.O.Ze(a,C(c,b));return c.D};X.prototype.resetPassword=X.prototype.Ze;})();

module.exports = Firebase;

},{}],2:[function(require,module,exports){
var Firebase = require('firebase');

firebaseRef = new Firebase("https://jeeves-server.firebaseio.com/orders");

function getParameterByName(name, url) {
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
  if(!results || !results[2]) return '';
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}

function toggle_visibility(id) {
  var e = document.getElementById(id);
  if (e.style.display == 'none')
    e.style.display = 'block';
  else
    e.style.display = 'none';
}

function processOrder(){
  // TODO: what if there's an '?
  var url = document.location.href;
  var name = getParameterByName('name', url);
  var phoneNumber = getParameterByName('phone', url);
  var location = getParameterByName('location', url);
  var food = getParameterByName('food', url);

  console.log(name);
  console.log(location);
  console.log(food);


  var order = {
      name : name,
      phone_number : phoneNumber,
      location : location,
      food_type : food
  };
  firebaseRef.push(order);
  firebaseRef.off();

  //var orderData = [name, phoneNumber, location, food]
  //var payload = orderData.join()
  // new QRCode(document.getElementById("qrcode"), payload);
  // document.location.href='prepare.html';
  toggle_visibility("payment-form");
  toggle_visibility("thank-you");

}

var button = document.getElementById("placeOrder").onclick = processOrder;

},{"firebase":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvbGliL2ZpcmViYXNlLXdlYi5qcyIsIi9ob21lL2NzZS9kc2lsdmFfaGFnZ2VyX21hdGh1ci9qZWV2ZXMvc2NyaXB0cy9wYXltZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4UkEsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVuQyxXQUFXLEdBQUcsSUFBSSxRQUFRLENBQUMsNkNBQTZDLENBQUMsQ0FBQzs7QUFFMUUsU0FBUyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFO0VBQ3JDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztFQUN2QyxJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFHLG1CQUFtQixDQUFDO01BQ3ZELE9BQU8sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0VBQzlCLEdBQUcsQ0FBQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUM7RUFDdEMsT0FBTyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzVELENBQUM7O0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxFQUFFLEVBQUU7RUFDN0IsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUNwQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLE1BQU07QUFDL0IsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7O0lBRTFCLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztBQUM3QixDQUFDOztBQUVELFNBQVMsWUFBWSxFQUFFOztFQUVyQixJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztFQUNqQyxJQUFJLElBQUksR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7RUFDM0MsSUFBSSxXQUFXLEdBQUcsa0JBQWtCLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0VBQ25ELElBQUksUUFBUSxHQUFHLGtCQUFrQixDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNyRCxFQUFFLElBQUksSUFBSSxHQUFHLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQzs7RUFFM0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3hCLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNwQjs7RUFFRSxJQUFJLEtBQUssR0FBRztNQUNSLElBQUksR0FBRyxJQUFJO01BQ1gsWUFBWSxHQUFHLFdBQVc7TUFDMUIsUUFBUSxHQUFHLFFBQVE7TUFDbkIsU0FBUyxHQUFHLElBQUk7R0FDbkIsQ0FBQztFQUNGLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDMUIsRUFBRSxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0VBRUUsaUJBQWlCLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDcEMsRUFBRSxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQzs7QUFFakMsQ0FBQzs7QUFFRCxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sR0FBRyxZQUFZLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyohIEBsaWNlbnNlIEZpcmViYXNlIHYyLjQuMlxuICAgIExpY2Vuc2U6IGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS90ZXJtcy90ZXJtcy1vZi1zZXJ2aWNlLmh0bWwgKi9cbihmdW5jdGlvbigpIHt2YXIgaCxuPXRoaXM7ZnVuY3Rpb24gcChhKXtyZXR1cm4gdm9pZCAwIT09YX1mdW5jdGlvbiBhYSgpe31mdW5jdGlvbiBiYShhKXthLnliPWZ1bmN0aW9uKCl7cmV0dXJuIGEuemY/YS56ZjphLnpmPW5ldyBhfX1cbmZ1bmN0aW9uIGNhKGEpe3ZhciBiPXR5cGVvZiBhO2lmKFwib2JqZWN0XCI9PWIpaWYoYSl7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYXJyYXlcIjtpZihhIGluc3RhbmNlb2YgT2JqZWN0KXJldHVybiBiO3ZhciBjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtpZihcIltvYmplY3QgV2luZG93XVwiPT1jKXJldHVyblwib2JqZWN0XCI7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1jfHxcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnNwbGljZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtpZihcIltvYmplY3QgRnVuY3Rpb25dXCI9PWN8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgcmV0dXJuXCJudWxsXCI7XG5lbHNlIGlmKFwiZnVuY3Rpb25cIj09YiYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuY2FsbClyZXR1cm5cIm9iamVjdFwiO3JldHVybiBifWZ1bmN0aW9uIGRhKGEpe3JldHVyblwiYXJyYXlcIj09Y2EoYSl9ZnVuY3Rpb24gZWEoYSl7dmFyIGI9Y2EoYSk7cmV0dXJuXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9ZnVuY3Rpb24gcShhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX1mdW5jdGlvbiBmYShhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX1mdW5jdGlvbiByKGEpe3JldHVyblwiZnVuY3Rpb25cIj09Y2EoYSl9ZnVuY3Rpb24gZ2EoYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifWZ1bmN0aW9uIGhhKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfVxuZnVuY3Rpb24gaWEoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gdShhLGIsYyl7dT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2hhOmlhO3JldHVybiB1LmFwcGx5KG51bGwsYXJndW1lbnRzKX12YXIgamE9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfTtcbmZ1bmN0aW9uIGthKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLnBoPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5saD1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBnPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksaz0yO2s8YXJndW1lbnRzLmxlbmd0aDtrKyspZ1trLTJdPWFyZ3VtZW50c1trXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxnKX19O2Z1bmN0aW9uIGxhKGEpe2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsbGEpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9a2EobGEsRXJyb3IpO2xhLnByb3RvdHlwZS5uYW1lPVwiQ3VzdG9tRXJyb3JcIjtmdW5jdGlvbiB2KGEsYil7Zm9yKHZhciBjIGluIGEpYi5jYWxsKHZvaWQgMCxhW2NdLGMsYSl9ZnVuY3Rpb24gbWEoYSxiKXt2YXIgYz17fSxkO2ZvcihkIGluIGEpY1tkXT1iLmNhbGwodm9pZCAwLGFbZF0sZCxhKTtyZXR1cm4gY31mdW5jdGlvbiBuYShhLGIpe2Zvcih2YXIgYyBpbiBhKWlmKCFiLmNhbGwodm9pZCAwLGFbY10sYyxhKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBvYShhKXt2YXIgYj0wLGM7Zm9yKGMgaW4gYSliKys7cmV0dXJuIGJ9ZnVuY3Rpb24gcGEoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuIGJ9ZnVuY3Rpb24gcWEoYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn1mdW5jdGlvbiByYShhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIHNhKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoYVtjXT09YilyZXR1cm4hMDtyZXR1cm4hMX1cbmZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQgaW4gYSlpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gdWEoYSxiKXt2YXIgYz10YShhLGIsdm9pZCAwKTtyZXR1cm4gYyYmYVtjXX1mdW5jdGlvbiB2YShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB3YShhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifXZhciB4YT1cImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtcbmZ1bmN0aW9uIHlhKGEsYil7Zm9yKHZhciBjLGQsZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe2Q9YXJndW1lbnRzW2VdO2ZvcihjIGluIGQpYVtjXT1kW2NdO2Zvcih2YXIgZj0wO2Y8eGEubGVuZ3RoO2YrKyljPXhhW2ZdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGMpJiYoYVtjXT1kW2NdKX19O2Z1bmN0aW9uIHphKGEpe2E9U3RyaW5nKGEpO2lmKC9eXFxzKiQvLnRlc3QoYSk/MDovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvXCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csXCJdXCIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OltcXHNcXHUyMDI4XFx1MjAyOV0qXFxbKSsvZyxcIlwiKSkpdHJ5e3JldHVybiBldmFsKFwiKFwiK2ErXCIpXCIpfWNhdGNoKGIpe310aHJvdyBFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpO31mdW5jdGlvbiBBYSgpe3RoaXMuVmQ9dm9pZCAwfVxuZnVuY3Rpb24gQmEoYSxiLGMpe3N3aXRjaCh0eXBlb2YgYil7Y2FzZSBcInN0cmluZ1wiOkNhKGIsYyk7YnJlYWs7Y2FzZSBcIm51bWJlclwiOmMucHVzaChpc0Zpbml0ZShiKSYmIWlzTmFOKGIpP2I6XCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJib29sZWFuXCI6Yy5wdXNoKGIpO2JyZWFrO2Nhc2UgXCJ1bmRlZmluZWRcIjpjLnB1c2goXCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjppZihudWxsPT1iKXtjLnB1c2goXCJudWxsXCIpO2JyZWFrfWlmKGRhKGIpKXt2YXIgZD1iLmxlbmd0aDtjLnB1c2goXCJbXCIpO2Zvcih2YXIgZT1cIlwiLGY9MDtmPGQ7ZisrKWMucHVzaChlKSxlPWJbZl0sQmEoYSxhLlZkP2EuVmQuY2FsbChiLFN0cmluZyhmKSxlKTplLGMpLGU9XCIsXCI7Yy5wdXNoKFwiXVwiKTticmVha31jLnB1c2goXCJ7XCIpO2Q9XCJcIjtmb3IoZiBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGYpJiYoZT1iW2ZdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihjLnB1c2goZCksQ2EoZixjKSxcbmMucHVzaChcIjpcIiksQmEoYSxhLlZkP2EuVmQuY2FsbChiLGYsZSk6ZSxjKSxkPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0eXBlb2YgYik7fX12YXIgRGE9eydcIic6J1xcXFxcIicsXCJcXFxcXCI6XCJcXFxcXFxcXFwiLFwiL1wiOlwiXFxcXC9cIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxceDBCXCI6XCJcXFxcdTAwMGJcIn0sRWE9L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2c7XG5mdW5jdGlvbiBDYShhLGIpe2IucHVzaCgnXCInLGEucmVwbGFjZShFYSxmdW5jdGlvbihhKXtpZihhIGluIERhKXJldHVybiBEYVthXTt2YXIgYj1hLmNoYXJDb2RlQXQoMCksZT1cIlxcXFx1XCI7MTY+Yj9lKz1cIjAwMFwiOjI1Nj5iP2UrPVwiMDBcIjo0MDk2PmImJihlKz1cIjBcIik7cmV0dXJuIERhW2FdPWUrYi50b1N0cmluZygxNil9KSwnXCInKX07ZnVuY3Rpb24gRmEoKXtyZXR1cm4gTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSleamEoKSkudG9TdHJpbmcoMzYpfTt2YXIgdzthOnt2YXIgR2E9bi5uYXZpZ2F0b3I7aWYoR2Epe3ZhciBIYT1HYS51c2VyQWdlbnQ7aWYoSGEpe3c9SGE7YnJlYWsgYX19dz1cIlwifTtmdW5jdGlvbiBJYSgpe3RoaXMuWWE9LTF9O2Z1bmN0aW9uIEphKCl7dGhpcy5ZYT0tMTt0aGlzLllhPTY0O3RoaXMuUD1bXTt0aGlzLnBlPVtdO3RoaXMuZWc9W107dGhpcy5PZD1bXTt0aGlzLk9kWzBdPTEyODtmb3IodmFyIGE9MTthPHRoaXMuWWE7KythKXRoaXMuT2RbYV09MDt0aGlzLmdlPXRoaXMuZWM9MDt0aGlzLnJlc2V0KCl9a2EoSmEsSWEpO0phLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuUFswXT0xNzMyNTg0MTkzO3RoaXMuUFsxXT00MDIzMjMzNDE3O3RoaXMuUFsyXT0yNTYyMzgzMTAyO3RoaXMuUFszXT0yNzE3MzM4Nzg7dGhpcy5QWzRdPTMyODUzNzc1MjA7dGhpcy5nZT10aGlzLmVjPTB9O1xuZnVuY3Rpb24gS2EoYSxiLGMpe2N8fChjPTApO3ZhciBkPWEuZWc7aWYocShiKSlmb3IodmFyIGU9MDsxNj5lO2UrKylkW2VdPWIuY2hhckNvZGVBdChjKTw8MjR8Yi5jaGFyQ29kZUF0KGMrMSk8PDE2fGIuY2hhckNvZGVBdChjKzIpPDw4fGIuY2hhckNvZGVBdChjKzMpLGMrPTQ7ZWxzZSBmb3IoZT0wOzE2PmU7ZSsrKWRbZV09YltjXTw8MjR8YltjKzFdPDwxNnxiW2MrMl08PDh8YltjKzNdLGMrPTQ7Zm9yKGU9MTY7ODA+ZTtlKyspe3ZhciBmPWRbZS0zXV5kW2UtOF1eZFtlLTE0XV5kW2UtMTZdO2RbZV09KGY8PDF8Zj4+PjMxKSY0Mjk0OTY3Mjk1fWI9YS5QWzBdO2M9YS5QWzFdO2Zvcih2YXIgZz1hLlBbMl0saz1hLlBbM10sbT1hLlBbNF0sbCxlPTA7ODA+ZTtlKyspNDA+ZT8yMD5lPyhmPWteYyYoZ15rKSxsPTE1MTg1MDAyNDkpOihmPWNeZ15rLGw9MTg1OTc3NTM5Myk6NjA+ZT8oZj1jJmd8ayYoY3xnKSxsPTI0MDA5NTk3MDgpOihmPWNeZ15rLGw9MzM5NTQ2OTc4MiksZj0oYjw8XG41fGI+Pj4yNykrZittK2wrZFtlXSY0Mjk0OTY3Mjk1LG09ayxrPWcsZz0oYzw8MzB8Yz4+PjIpJjQyOTQ5NjcyOTUsYz1iLGI9ZjthLlBbMF09YS5QWzBdK2ImNDI5NDk2NzI5NTthLlBbMV09YS5QWzFdK2MmNDI5NDk2NzI5NTthLlBbMl09YS5QWzJdK2cmNDI5NDk2NzI5NTthLlBbM109YS5QWzNdK2smNDI5NDk2NzI5NTthLlBbNF09YS5QWzRdK20mNDI5NDk2NzI5NX1cbkphLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXtwKGIpfHwoYj1hLmxlbmd0aCk7Zm9yKHZhciBjPWItdGhpcy5ZYSxkPTAsZT10aGlzLnBlLGY9dGhpcy5lYztkPGI7KXtpZigwPT1mKWZvcig7ZDw9YzspS2EodGhpcyxhLGQpLGQrPXRoaXMuWWE7aWYocShhKSlmb3IoO2Q8Yjspe2lmKGVbZl09YS5jaGFyQ29kZUF0KGQpLCsrZiwrK2QsZj09dGhpcy5ZYSl7S2EodGhpcyxlKTtmPTA7YnJlYWt9fWVsc2UgZm9yKDtkPGI7KWlmKGVbZl09YVtkXSwrK2YsKytkLGY9PXRoaXMuWWEpe0thKHRoaXMsZSk7Zj0wO2JyZWFrfX10aGlzLmVjPWY7dGhpcy5nZSs9Yn19O3ZhciB4PUFycmF5LnByb3RvdHlwZSxMYT14LmluZGV4T2Y/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB4LmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKHEoYSkpcmV0dXJuIHEoYikmJjE9PWIubGVuZ3RoP2EuaW5kZXhPZihiLGMpOi0xO2Zvcig7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTWE9eC5mb3JFYWNoP2Z1bmN0aW9uKGEsYixjKXt4LmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1xKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0sTmE9eC5maWx0ZXI/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB4LmZpbHRlci5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxnPXEoYSk/XG5hLnNwbGl0KFwiXCIpOmEsaz0wO2s8ZDtrKyspaWYoayBpbiBnKXt2YXIgbT1nW2tdO2IuY2FsbChjLG0sayxhKSYmKGVbZisrXT1tKX1yZXR1cm4gZX0sT2E9eC5tYXA/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB4Lm1hcC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGY9cShhKT9hLnNwbGl0KFwiXCIpOmEsZz0wO2c8ZDtnKyspZyBpbiBmJiYoZVtnXT1iLmNhbGwoYyxmW2ddLGcsYSkpO3JldHVybiBlfSxQYT14LnJlZHVjZT9mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9W10sZj0xLGc9YXJndW1lbnRzLmxlbmd0aDtmPGc7ZisrKWUucHVzaChhcmd1bWVudHNbZl0pO2QmJihlWzBdPXUoYixkKSk7cmV0dXJuIHgucmVkdWNlLmFwcGx5KGEsZSl9OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWM7TWEoYSxmdW5jdGlvbihjLGcpe2U9Yi5jYWxsKGQsZSxjLGcsYSl9KTtyZXR1cm4gZX0sUWE9eC5ldmVyeT9mdW5jdGlvbihhLGIsXG5jKXtyZXR1cm4geC5ldmVyeS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXEoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmIWIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gUmEoYSxiKXt2YXIgYz1TYShhLGIsdm9pZCAwKTtyZXR1cm4gMD5jP251bGw6cShhKT9hLmNoYXJBdChjKTphW2NdfWZ1bmN0aW9uIFNhKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1xKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4gZjtyZXR1cm4tMX1mdW5jdGlvbiBUYShhLGIpe3ZhciBjPUxhKGEsYik7MDw9YyYmeC5zcGxpY2UuY2FsbChhLGMsMSl9ZnVuY3Rpb24gVWEoYSxiLGMpe3JldHVybiAyPj1hcmd1bWVudHMubGVuZ3RoP3guc2xpY2UuY2FsbChhLGIpOnguc2xpY2UuY2FsbChhLGIsYyl9XG5mdW5jdGlvbiBWYShhLGIpe2Euc29ydChifHxXYSl9ZnVuY3Rpb24gV2EoYSxiKXtyZXR1cm4gYT5iPzE6YTxiPy0xOjB9O2Z1bmN0aW9uIFhhKGEpe24uc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX12YXIgWWE7XG5mdW5jdGlvbiBaYSgpe3ZhciBhPW4uTWVzc2FnZUNoYW5uZWw7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmLTE9PXcuaW5kZXhPZihcIlByZXN0b1wiKSYmKGE9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLnNyYz1cIlwiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChhKTt2YXIgYj1hLmNvbnRlbnRXaW5kb3csYT1iLmRvY3VtZW50O2Eub3BlbigpO2Eud3JpdGUoXCJcIik7YS5jbG9zZSgpO3ZhciBjPVwiY2FsbEltbWVkaWF0ZVwiK01hdGgucmFuZG9tKCksZD1cImZpbGU6XCI9PWIubG9jYXRpb24ucHJvdG9jb2w/XCIqXCI6Yi5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrYi5sb2NhdGlvbi5ob3N0LGE9dShmdW5jdGlvbihhKXtpZigoXCIqXCI9PWR8fGEub3JpZ2luPT1cbmQpJiZhLmRhdGE9PWMpdGhpcy5wb3J0MS5vbm1lc3NhZ2UoKX0sdGhpcyk7Yi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGEsITEpO3RoaXMucG9ydDE9e307dGhpcy5wb3J0Mj17cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oKXtiLnBvc3RNZXNzYWdlKGMsZCl9fX0pO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYSYmLTE9PXcuaW5kZXhPZihcIlRyaWRlbnRcIikmJi0xPT13LmluZGV4T2YoXCJNU0lFXCIpKXt2YXIgYj1uZXcgYSxjPXt9LGQ9YztiLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2lmKHAoYy5uZXh0KSl7Yz1jLm5leHQ7dmFyIGE9Yy5oYjtjLmhiPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17aGI6YX07ZD1kLm5leHQ7Yi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oYSl7dmFyIGI9XG5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Yj1udWxsO2EoKTthPW51bGx9O2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7bi5zZXRUaW1lb3V0KGEsMCl9fTtmdW5jdGlvbiAkYShhLGIpe2FifHxiYigpO2NifHwoYWIoKSxjYj0hMCk7ZGIucHVzaChuZXcgZWIoYSxiKSl9dmFyIGFiO2Z1bmN0aW9uIGJiKCl7aWYobi5Qcm9taXNlJiZuLlByb21pc2UucmVzb2x2ZSl7dmFyIGE9bi5Qcm9taXNlLnJlc29sdmUoKTthYj1mdW5jdGlvbigpe2EudGhlbihmYil9fWVsc2UgYWI9ZnVuY3Rpb24oKXt2YXIgYT1mYjshcihuLnNldEltbWVkaWF0ZSl8fG4uV2luZG93JiZuLldpbmRvdy5wcm90b3R5cGUmJm4uV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGU9PW4uc2V0SW1tZWRpYXRlPyhZYXx8KFlhPVphKCkpLFlhKGEpKTpuLnNldEltbWVkaWF0ZShhKX19dmFyIGNiPSExLGRiPVtdO1tdLnB1c2goZnVuY3Rpb24oKXtjYj0hMTtkYj1bXX0pO1xuZnVuY3Rpb24gZmIoKXtmb3IoO2RiLmxlbmd0aDspe3ZhciBhPWRiO2RiPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO3RyeXtjLnlnLmNhbGwoYy5zY29wZSl9Y2F0Y2goZCl7WGEoZCl9fX1jYj0hMX1mdW5jdGlvbiBlYihhLGIpe3RoaXMueWc9YTt0aGlzLnNjb3BlPWJ9O3ZhciBnYj0tMSE9dy5pbmRleE9mKFwiT3BlcmFcIil8fC0xIT13LmluZGV4T2YoXCJPUFJcIiksaGI9LTEhPXcuaW5kZXhPZihcIlRyaWRlbnRcIil8fC0xIT13LmluZGV4T2YoXCJNU0lFXCIpLGliPS0xIT13LmluZGV4T2YoXCJHZWNrb1wiKSYmLTE9PXcudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpJiYhKC0xIT13LmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9dy5pbmRleE9mKFwiTVNJRVwiKSksamI9LTEhPXcudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpO1xuKGZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiO2lmKGdiJiZuLm9wZXJhKXJldHVybiBhPW4ub3BlcmEudmVyc2lvbixyKGEpP2EoKTphO2liP2I9L3J2XFw6KFteXFwpO10rKShcXCl8OykvOmhiP2I9L1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLzpqYiYmKGI9L1dlYktpdFxcLyhcXFMrKS8pO2ImJihhPShhPWIuZXhlYyh3KSk/YVsxXTpcIlwiKTtyZXR1cm4gaGImJihiPShiPW4uZG9jdW1lbnQpP2IuZG9jdW1lbnRNb2RlOnZvaWQgMCxiPnBhcnNlRmxvYXQoYSkpP1N0cmluZyhiKTphfSkoKTt2YXIga2I9bnVsbCxsYj1udWxsLG1iPW51bGw7ZnVuY3Rpb24gbmIoYSxiKXtpZighZWEoYSkpdGhyb3cgRXJyb3IoXCJlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXJcIik7b2IoKTtmb3IodmFyIGM9Yj9sYjprYixkPVtdLGU9MDtlPGEubGVuZ3RoO2UrPTMpe3ZhciBmPWFbZV0sZz1lKzE8YS5sZW5ndGgsaz1nP2FbZSsxXTowLG09ZSsyPGEubGVuZ3RoLGw9bT9hW2UrMl06MCx0PWY+PjIsZj0oZiYzKTw8NHxrPj40LGs9KGsmMTUpPDwyfGw+PjYsbD1sJjYzO218fChsPTY0LGd8fChrPTY0KSk7ZC5wdXNoKGNbdF0sY1tmXSxjW2tdLGNbbF0pfXJldHVybiBkLmpvaW4oXCJcIil9XG5mdW5jdGlvbiBvYigpe2lmKCFrYil7a2I9e307bGI9e307bWI9e307Zm9yKHZhciBhPTA7NjU+YTthKyspa2JbYV09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChhKSxsYlthXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV8uXCIuY2hhckF0KGEpLG1iW2xiW2FdXT1hLDYyPD1hJiYobWJbXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChhKV09YSl9fTtmdW5jdGlvbiBwYihhLGIpe3RoaXMuTj1xYjt0aGlzLlJmPXZvaWQgMDt0aGlzLkJhPXRoaXMuSGE9bnVsbDt0aGlzLnlkPXRoaXMueWU9ITE7aWYoYT09cmIpc2IodGhpcyx0YixiKTtlbHNlIHRyeXt2YXIgYz10aGlzO2EuY2FsbChiLGZ1bmN0aW9uKGEpe3NiKGMsdGIsYSl9LGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIHViKSl0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goYil7fXNiKGMsdmIsYSl9KX1jYXRjaChkKXtzYih0aGlzLHZiLGQpfX12YXIgcWI9MCx0Yj0yLHZiPTM7ZnVuY3Rpb24gcmIoKXt9cGIucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB3Yih0aGlzLHIoYSk/YTpudWxsLHIoYik/YjpudWxsLGMpfTtwYi5wcm90b3R5cGUudGhlbj1wYi5wcm90b3R5cGUudGhlbjtwYi5wcm90b3R5cGUuJGdvb2dfVGhlbmFibGU9ITA7aD1wYi5wcm90b3R5cGU7XG5oLmdoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHdiKHRoaXMsbnVsbCxhLGIpfTtoLmNhbmNlbD1mdW5jdGlvbihhKXt0aGlzLk49PXFiJiYkYShmdW5jdGlvbigpe3ZhciBiPW5ldyB1YihhKTt4Yih0aGlzLGIpfSx0aGlzKX07ZnVuY3Rpb24geGIoYSxiKXtpZihhLk49PXFiKWlmKGEuSGEpe3ZhciBjPWEuSGE7aWYoYy5CYSl7Zm9yKHZhciBkPTAsZT0tMSxmPTAsZztnPWMuQmFbZl07ZisrKWlmKGc9Zy5vKWlmKGQrKyxnPT1hJiYoZT1mKSwwPD1lJiYxPGQpYnJlYWs7MDw9ZSYmKGMuTj09cWImJjE9PWQ/eGIoYyxiKTooZD1jLkJhLnNwbGljZShlLDEpWzBdLHliKGMsZCx2YixiKSkpfWEuSGE9bnVsbH1lbHNlIHNiKGEsdmIsYil9ZnVuY3Rpb24gemIoYSxiKXthLkJhJiZhLkJhLmxlbmd0aHx8YS5OIT10YiYmYS5OIT12Ynx8QWIoYSk7YS5CYXx8KGEuQmE9W10pO2EuQmEucHVzaChiKX1cbmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlPXtvOm51bGwsSGY6bnVsbCxKZjpudWxsfTtlLm89bmV3IHBiKGZ1bmN0aW9uKGEsZyl7ZS5IZj1iP2Z1bmN0aW9uKGMpe3RyeXt2YXIgZT1iLmNhbGwoZCxjKTthKGUpfWNhdGNoKGwpe2cobCl9fTphO2UuSmY9Yz9mdW5jdGlvbihiKXt0cnl7dmFyIGU9Yy5jYWxsKGQsYik7IXAoZSkmJmIgaW5zdGFuY2VvZiB1Yj9nKGIpOmEoZSl9Y2F0Y2gobCl7ZyhsKX19Omd9KTtlLm8uSGE9YTt6YihhLGUpO3JldHVybiBlLm99aC5ZZj1mdW5jdGlvbihhKXt0aGlzLk49cWI7c2IodGhpcyx0YixhKX07aC5aZj1mdW5jdGlvbihhKXt0aGlzLk49cWI7c2IodGhpcyx2YixhKX07XG5mdW5jdGlvbiBzYihhLGIsYyl7aWYoYS5OPT1xYil7aWYoYT09YyliPXZiLGM9bmV3IFR5cGVFcnJvcihcIlByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpO2Vsc2V7dmFyIGQ7aWYoYyl0cnl7ZD0hIWMuJGdvb2dfVGhlbmFibGV9Y2F0Y2goZSl7ZD0hMX1lbHNlIGQ9ITE7aWYoZCl7YS5OPTE7Yy50aGVuKGEuWWYsYS5aZixhKTtyZXR1cm59aWYoZ2EoYykpdHJ5e3ZhciBmPWMudGhlbjtpZihyKGYpKXtCYihhLGMsZik7cmV0dXJufX1jYXRjaChnKXtiPXZiLGM9Z319YS5SZj1jO2EuTj1iO2EuSGE9bnVsbDtBYihhKTtiIT12Ynx8YyBpbnN0YW5jZW9mIHVifHxDYihhLGMpfX1mdW5jdGlvbiBCYihhLGIsYyl7ZnVuY3Rpb24gZChiKXtmfHwoZj0hMCxhLlpmKGIpKX1mdW5jdGlvbiBlKGIpe2Z8fChmPSEwLGEuWWYoYikpfWEuTj0xO3ZhciBmPSExO3RyeXtjLmNhbGwoYixlLGQpfWNhdGNoKGcpe2QoZyl9fVxuZnVuY3Rpb24gQWIoYSl7YS55ZXx8KGEueWU9ITAsJGEoYS53ZyxhKSl9aC53Zz1mdW5jdGlvbigpe2Zvcig7dGhpcy5CYSYmdGhpcy5CYS5sZW5ndGg7KXt2YXIgYT10aGlzLkJhO3RoaXMuQmE9bnVsbDtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl5Yih0aGlzLGFbYl0sdGhpcy5OLHRoaXMuUmYpfXRoaXMueWU9ITF9O2Z1bmN0aW9uIHliKGEsYixjLGQpe2lmKGM9PXRiKWIuSGYoZCk7ZWxzZXtpZihiLm8pZm9yKDthJiZhLnlkO2E9YS5IYSlhLnlkPSExO2IuSmYoZCl9fWZ1bmN0aW9uIENiKGEsYil7YS55ZD0hMDskYShmdW5jdGlvbigpe2EueWQmJkRiLmNhbGwobnVsbCxiKX0pfXZhciBEYj1YYTtmdW5jdGlvbiB1YihhKXtsYS5jYWxsKHRoaXMsYSl9a2EodWIsbGEpO3ViLnByb3RvdHlwZS5uYW1lPVwiY2FuY2VsXCI7dmFyIEViPUVifHxcIjIuNC4yXCI7ZnVuY3Rpb24geShhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX1mdW5jdGlvbiB6KGEsYil7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYikpcmV0dXJuIGFbYl19ZnVuY3Rpb24gRmIoYSxiKXtmb3IodmFyIGMgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSYmYihjLGFbY10pfWZ1bmN0aW9uIEdiKGEpe3ZhciBiPXt9O0ZiKGEsZnVuY3Rpb24oYSxkKXtiW2FdPWR9KTtyZXR1cm4gYn1mdW5jdGlvbiBIYihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hfTtmdW5jdGlvbiBJYihhKXt2YXIgYj1bXTtGYihhLGZ1bmN0aW9uKGEsZCl7ZGEoZCk/TWEoZCxmdW5jdGlvbihkKXtiLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChkKSl9KTpiLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChkKSl9KTtyZXR1cm4gYi5sZW5ndGg/XCImXCIrYi5qb2luKFwiJlwiKTpcIlwifWZ1bmN0aW9uIEpiKGEpe3ZhciBiPXt9O2E9YS5yZXBsYWNlKC9eXFw/LyxcIlwiKS5zcGxpdChcIiZcIik7TWEoYSxmdW5jdGlvbihhKXthJiYoYT1hLnNwbGl0KFwiPVwiKSxiW2FbMF1dPWFbMV0pfSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIEtiKGEsYil7aWYoIWEpdGhyb3cgTGIoYik7fWZ1bmN0aW9uIExiKGEpe3JldHVybiBFcnJvcihcIkZpcmViYXNlIChcIitFYitcIikgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogXCIrYSl9O3ZhciBNYj1uLlByb21pc2V8fHBiO3BiLnByb3RvdHlwZVtcImNhdGNoXCJdPXBiLnByb3RvdHlwZS5naDtmdW5jdGlvbiBCKCl7dmFyIGE9dGhpczt0aGlzLnJlamVjdD10aGlzLnJlc29sdmU9bnVsbDt0aGlzLkQ9bmV3IE1iKGZ1bmN0aW9uKGIsYyl7YS5yZXNvbHZlPWI7YS5yZWplY3Q9Y30pfWZ1bmN0aW9uIEMoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtjP2EucmVqZWN0KGMpOmEucmVzb2x2ZShkKTtyKGIpJiYoTmIoYS5EKSwxPT09Yi5sZW5ndGg/YihjKTpiKGMsZCkpfX1mdW5jdGlvbiBOYihhKXthLnRoZW4odm9pZCAwLGFhKX07ZnVuY3Rpb24gT2IoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWEuY2hhckNvZGVBdChkKTs1NTI5Njw9ZSYmNTYzMTk+PWUmJihlLT01NTI5NixkKyssS2IoZDxhLmxlbmd0aCxcIlN1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLlwiKSxlPTY1NTM2KyhlPDwxMCkrKGEuY2hhckNvZGVBdChkKS01NjMyMCkpOzEyOD5lP2JbYysrXT1lOigyMDQ4PmU/YltjKytdPWU+PjZ8MTkyOig2NTUzNj5lP2JbYysrXT1lPj4xMnwyMjQ6KGJbYysrXT1lPj4xOHwyNDAsYltjKytdPWU+PjEyJjYzfDEyOCksYltjKytdPWU+PjYmNjN8MTI4KSxiW2MrK109ZSY2M3wxMjgpfXJldHVybiBifWZ1bmN0aW9uIFBiKGEpe2Zvcih2YXIgYj0wLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpOzEyOD5kP2IrKzoyMDQ4PmQ/Yis9Mjo1NTI5Njw9ZCYmNTYzMTk+PWQ/KGIrPTQsYysrKTpiKz0zfXJldHVybiBifTtmdW5jdGlvbiBEKGEsYixjLGQpe3ZhciBlO2Q8Yj9lPVwiYXQgbGVhc3QgXCIrYjpkPmMmJihlPTA9PT1jP1wibm9uZVwiOlwibm8gbW9yZSB0aGFuIFwiK2MpO2lmKGUpdGhyb3cgRXJyb3IoYStcIiBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCBcIitkKygxPT09ZD9cIiBhcmd1bWVudC5cIjpcIiBhcmd1bWVudHMuXCIpK1wiIEV4cGVjdHMgXCIrZStcIi5cIik7fWZ1bmN0aW9uIEUoYSxiLGMpe3ZhciBkPVwiXCI7c3dpdGNoKGIpe2Nhc2UgMTpkPWM/XCJmaXJzdFwiOlwiRmlyc3RcIjticmVhaztjYXNlIDI6ZD1jP1wic2Vjb25kXCI6XCJTZWNvbmRcIjticmVhaztjYXNlIDM6ZD1jP1widGhpcmRcIjpcIlRoaXJkXCI7YnJlYWs7Y2FzZSA0OmQ9Yz9cImZvdXJ0aFwiOlwiRm91cnRoXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImVycm9yUHJlZml4IGNhbGxlZCB3aXRoIGFyZ3VtZW50TnVtYmVyID4gNC4gIE5lZWQgdG8gdXBkYXRlIGl0P1wiKTt9cmV0dXJuIGE9YStcIiBmYWlsZWQ6IFwiKyhkK1wiIGFyZ3VtZW50IFwiKX1cbmZ1bmN0aW9uIEYoYSxiLGMsZCl7aWYoKCFkfHxwKGMpKSYmIXIoYykpdGhyb3cgRXJyb3IoRShhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uXCIpO31mdW5jdGlvbiBRYihhLGIsYyl7aWYocChjKSYmKCFnYShjKXx8bnVsbD09PWMpKXRocm93IEVycm9yKEUoYSxiLCEwKStcIm11c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC5cIik7fTtmdW5jdGlvbiBSYihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIEpTT04mJnAoSlNPTi5wYXJzZSk/SlNPTi5wYXJzZShhKTp6YShhKX1mdW5jdGlvbiBHKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmcChKU09OLnN0cmluZ2lmeSkpYT1KU09OLnN0cmluZ2lmeShhKTtlbHNle3ZhciBiPVtdO0JhKG5ldyBBYSxhLGIpO2E9Yi5qb2luKFwiXCIpfXJldHVybiBhfTtmdW5jdGlvbiBTYigpe3RoaXMuWmQ9SH1TYi5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5aZC5TKGEpfTtTYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aZC50b1N0cmluZygpfTtmdW5jdGlvbiBUYigpe31UYi5wcm90b3R5cGUudWY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07VGIucHJvdG90eXBlLkNlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3ZhciBVYj1uZXcgVGI7ZnVuY3Rpb24gVmIoYSxiLGMpe3RoaXMuYmc9YTt0aGlzLk9hPWI7dGhpcy5OZD1jfVZiLnByb3RvdHlwZS51Zj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLk9hLlE7aWYoV2IoYixhKSlyZXR1cm4gYi5qKCkuVChhKTtiPW51bGwhPXRoaXMuTmQ/bmV3IFhiKHRoaXMuTmQsITAsITEpOnRoaXMuT2EudygpO3JldHVybiB0aGlzLmJnLkJjKGEsYil9O1ZiLnByb3RvdHlwZS5DZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bnVsbCE9dGhpcy5OZD90aGlzLk5kOlliKHRoaXMuT2EpO2E9dGhpcy5iZy5xZShkLGIsMSxjLGEpO3JldHVybiAwPT09YS5sZW5ndGg/bnVsbDphWzBdfTtmdW5jdGlvbiBaYigpe3RoaXMueGI9W119ZnVuY3Rpb24gJGIoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1lLmNjKCk7bnVsbD09PWN8fGYuZWEoYy5jYygpKXx8KGEueGIucHVzaChjKSxjPW51bGwpO251bGw9PT1jJiYoYz1uZXcgYWMoZikpO2MuYWRkKGUpfWMmJmEueGIucHVzaChjKX1mdW5jdGlvbiBiYyhhLGIsYyl7JGIoYSxjKTtjYyhhLGZ1bmN0aW9uKGEpe3JldHVybiBhLmVhKGIpfSl9ZnVuY3Rpb24gZGMoYSxiLGMpeyRiKGEsYyk7Y2MoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250YWlucyhiKXx8Yi5jb250YWlucyhhKX0pfVxuZnVuY3Rpb24gY2MoYSxiKXtmb3IodmFyIGM9ITAsZD0wO2Q8YS54Yi5sZW5ndGg7ZCsrKXt2YXIgZT1hLnhiW2RdO2lmKGUpaWYoZT1lLmNjKCksYihlKSl7Zm9yKHZhciBlPWEueGJbZF0sZj0wO2Y8ZS54ZC5sZW5ndGg7ZisrKXt2YXIgZz1lLnhkW2ZdO2lmKG51bGwhPT1nKXtlLnhkW2ZdPW51bGw7dmFyIGs9Zy5aYigpO2VjJiZmYyhcImV2ZW50OiBcIitnLnRvU3RyaW5nKCkpO2djKGspfX1hLnhiW2RdPW51bGx9ZWxzZSBjPSExfWMmJihhLnhiPVtdKX1mdW5jdGlvbiBhYyhhKXt0aGlzLnRhPWE7dGhpcy54ZD1bXX1hYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3RoaXMueGQucHVzaChhKX07YWMucHJvdG90eXBlLmNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGF9O2Z1bmN0aW9uIEooYSxiLGMsZCl7dGhpcy50eXBlPWE7dGhpcy5OYT1iO3RoaXMuWmE9Yzt0aGlzLk9lPWQ7dGhpcy5UZD12b2lkIDB9ZnVuY3Rpb24gaGMoYSl7cmV0dXJuIG5ldyBKKGljLGEpfXZhciBpYz1cInZhbHVlXCI7ZnVuY3Rpb24gamMoYSxiLGMsZCl7dGhpcy54ZT1iO3RoaXMuYmU9Yzt0aGlzLlRkPWQ7dGhpcy53ZD1hfWpjLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYmUuTWIoKTtyZXR1cm5cInZhbHVlXCI9PT10aGlzLndkP2EucGF0aDphLnBhcmVudCgpLnBhdGh9O2pjLnByb3RvdHlwZS5EZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndkfTtqYy5wcm90b3R5cGUuWmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54ZS5aYih0aGlzKX07amMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2MoKS50b1N0cmluZygpK1wiOlwiK3RoaXMud2QrXCI6XCIrRyh0aGlzLmJlLnFmKCkpfTtmdW5jdGlvbiBrYyhhLGIsYyl7dGhpcy54ZT1hO3RoaXMuZXJyb3I9Yjt0aGlzLnBhdGg9Y31rYy5wcm90b3R5cGUuY2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRofTtrYy5wcm90b3R5cGUuRGU9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbmNlbFwifTtcbmtjLnByb3RvdHlwZS5aYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhlLlpiKHRoaXMpfTtrYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCkrXCI6Y2FuY2VsXCJ9O2Z1bmN0aW9uIFhiKGEsYixjKXt0aGlzLkE9YTt0aGlzLmdhPWI7dGhpcy5ZYj1jfWZ1bmN0aW9uIGxjKGEpe3JldHVybiBhLmdhfWZ1bmN0aW9uIG1jKGEpe3JldHVybiBhLllifWZ1bmN0aW9uIG5jKGEsYil7cmV0dXJuIGIuZSgpP2EuZ2EmJiFhLlliOldiKGEsSyhiKSl9ZnVuY3Rpb24gV2IoYSxiKXtyZXR1cm4gYS5nYSYmIWEuWWJ8fGEuQS5GYShiKX1YYi5wcm90b3R5cGUuaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O2Z1bmN0aW9uIG9jKGEpe3RoaXMucGc9YTt0aGlzLkdkPW51bGx9b2MucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhPXRoaXMucGcuZ2V0KCksYj13YShhKTtpZih0aGlzLkdkKWZvcih2YXIgYyBpbiB0aGlzLkdkKWJbY10tPXRoaXMuR2RbY107dGhpcy5HZD1hO3JldHVybiBifTtmdW5jdGlvbiBwYyhhLGIpe3RoaXMuVmY9e307dGhpcy5oZD1uZXcgb2MoYSk7dGhpcy5kYT1iO3ZhciBjPTFFNCsyRTQqTWF0aC5yYW5kb20oKTtzZXRUaW1lb3V0KHUodGhpcy5PZix0aGlzKSxNYXRoLmZsb29yKGMpKX1wYy5wcm90b3R5cGUuT2Y9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmhkLmdldCgpLGI9e30sYz0hMSxkO2ZvcihkIGluIGEpMDxhW2RdJiZ5KHRoaXMuVmYsZCkmJihiW2RdPWFbZF0sYz0hMCk7YyYmdGhpcy5kYS5ZZShiKTtzZXRUaW1lb3V0KHUodGhpcy5PZix0aGlzKSxNYXRoLmZsb29yKDZFNSpNYXRoLnJhbmRvbSgpKSl9O2Z1bmN0aW9uIHFjKCl7dGhpcy5IYz17fX1mdW5jdGlvbiByYyhhLGIsYyl7cChjKXx8KGM9MSk7eShhLkhjLGIpfHwoYS5IY1tiXT0wKTthLkhjW2JdKz1jfXFjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gd2EodGhpcy5IYyl9O3ZhciBzYz17fSx0Yz17fTtmdW5jdGlvbiB1YyhhKXthPWEudG9TdHJpbmcoKTtzY1thXXx8KHNjW2FdPW5ldyBxYyk7cmV0dXJuIHNjW2FdfWZ1bmN0aW9uIHZjKGEsYil7dmFyIGM9YS50b1N0cmluZygpO3RjW2NdfHwodGNbY109YigpKTtyZXR1cm4gdGNbY119O2Z1bmN0aW9uIEwoYSxiKXt0aGlzLm5hbWU9YTt0aGlzLlU9Yn1mdW5jdGlvbiB3YyhhLGIpe3JldHVybiBuZXcgTChhLGIpfTtmdW5jdGlvbiB4YyhhLGIpe3JldHVybiB5YyhhLm5hbWUsYi5uYW1lKX1mdW5jdGlvbiB6YyhhLGIpe3JldHVybiB5YyhhLGIpfTtmdW5jdGlvbiBBYyhhLGIsYyl7dGhpcy50eXBlPUJjO3RoaXMuc291cmNlPWE7dGhpcy5wYXRoPWI7dGhpcy5KYT1jfUFjLnByb3RvdHlwZS4kYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYXRoLmUoKT9uZXcgQWModGhpcy5zb3VyY2UsTSx0aGlzLkphLlQoYSkpOm5ldyBBYyh0aGlzLnNvdXJjZSxOKHRoaXMucGF0aCksdGhpcy5KYSl9O0FjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBvdmVyd3JpdGU6IFwiK3RoaXMuSmEudG9TdHJpbmcoKStcIilcIn07ZnVuY3Rpb24gQ2MoYSxiKXt0aGlzLnR5cGU9RGM7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yn1DYy5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLmUoKT9uZXcgQ2ModGhpcy5zb3VyY2UsTSk6bmV3IENjKHRoaXMuc291cmNlLE4odGhpcy5wYXRoKSl9O0NjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBsaXN0ZW5fY29tcGxldGUpXCJ9O2Z1bmN0aW9uIEVjKGEsYil7dGhpcy5QYT1hO3RoaXMueGE9Yj9iOkZjfWg9RWMucHJvdG90eXBlO2guU2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEVjKHRoaXMuUGEsdGhpcy54YS5TYShhLGIsdGhpcy5QYSkuJChudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgRWModGhpcy5QYSx0aGlzLnhhLnJlbW92ZShhLHRoaXMuUGEpLiQobnVsbCxudWxsLCExLG51bGwsbnVsbCkpfTtoLmdldD1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLnhhOyFjLmUoKTspe2I9dGhpcy5QYShhLGMua2V5KTtpZigwPT09YilyZXR1cm4gYy52YWx1ZTswPmI/Yz1jLmxlZnQ6MDxiJiYoYz1jLnJpZ2h0KX1yZXR1cm4gbnVsbH07XG5mdW5jdGlvbiBHYyhhLGIpe2Zvcih2YXIgYyxkPWEueGEsZT1udWxsOyFkLmUoKTspe2M9YS5QYShiLGQua2V5KTtpZigwPT09Yyl7aWYoZC5sZWZ0LmUoKSlyZXR1cm4gZT9lLmtleTpudWxsO2ZvcihkPWQubGVmdDshZC5yaWdodC5lKCk7KWQ9ZC5yaWdodDtyZXR1cm4gZC5rZXl9MD5jP2Q9ZC5sZWZ0OjA8YyYmKGU9ZCxkPWQucmlnaHQpfXRocm93IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZpbmQgcHJlZGVjZXNzb3Iga2V5IGZvciBhIG5vbmV4aXN0ZW50IGtleS4gIFdoYXQgZ2l2ZXM/XCIpO31oLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5lKCl9O2guY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5jb3VudCgpfTtoLlZjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGEuVmMoKX07aC5qYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhhLmpjKCl9O2gua2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMueGEua2EoYSl9O1xuaC5hYz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEhjKHRoaXMueGEsbnVsbCx0aGlzLlBhLCExLGEpfTtoLmJjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBIYyh0aGlzLnhhLGEsdGhpcy5QYSwhMSxiKX07aC5kYz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgSGModGhpcy54YSxhLHRoaXMuUGEsITAsYil9O2gueGY9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBIYyh0aGlzLnhhLG51bGwsdGhpcy5QYSwhMCxhKX07ZnVuY3Rpb24gSGMoYSxiLGMsZCxlKXt0aGlzLlhkPWV8fG51bGw7dGhpcy5KZT1kO3RoaXMuVGE9W107Zm9yKGU9MTshYS5lKCk7KWlmKGU9Yj9jKGEua2V5LGIpOjEsZCYmKGUqPS0xKSwwPmUpYT10aGlzLkplP2EubGVmdDphLnJpZ2h0O2Vsc2UgaWYoMD09PWUpe3RoaXMuVGEucHVzaChhKTticmVha31lbHNlIHRoaXMuVGEucHVzaChhKSxhPXRoaXMuSmU/YS5yaWdodDphLmxlZnR9XG5mdW5jdGlvbiBJYyhhKXtpZigwPT09YS5UYS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGI9YS5UYS5wb3AoKSxjO2M9YS5YZD9hLlhkKGIua2V5LGIudmFsdWUpOntrZXk6Yi5rZXksdmFsdWU6Yi52YWx1ZX07aWYoYS5KZSlmb3IoYj1iLmxlZnQ7IWIuZSgpOylhLlRhLnB1c2goYiksYj1iLnJpZ2h0O2Vsc2UgZm9yKGI9Yi5yaWdodDshYi5lKCk7KWEuVGEucHVzaChiKSxiPWIubGVmdDtyZXR1cm4gY31mdW5jdGlvbiBKYyhhKXtpZigwPT09YS5UYS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGI7Yj1hLlRhO2I9YltiLmxlbmd0aC0xXTtyZXR1cm4gYS5YZD9hLlhkKGIua2V5LGIudmFsdWUpOntrZXk6Yi5rZXksdmFsdWU6Yi52YWx1ZX19ZnVuY3Rpb24gS2MoYSxiLGMsZCxlKXt0aGlzLmtleT1hO3RoaXMudmFsdWU9Yjt0aGlzLmNvbG9yPW51bGwhPWM/YzohMDt0aGlzLmxlZnQ9bnVsbCE9ZD9kOkZjO3RoaXMucmlnaHQ9bnVsbCE9ZT9lOkZjfWg9S2MucHJvdG90eXBlO1xuaC4kPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYyhudWxsIT1hP2E6dGhpcy5rZXksbnVsbCE9Yj9iOnRoaXMudmFsdWUsbnVsbCE9Yz9jOnRoaXMuY29sb3IsbnVsbCE9ZD9kOnRoaXMubGVmdCxudWxsIT1lP2U6dGhpcy5yaWdodCl9O2guY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmNvdW50KCkrMSt0aGlzLnJpZ2h0LmNvdW50KCl9O2guZT1mdW5jdGlvbigpe3JldHVybiExfTtoLmthPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxlZnQua2EoYSl8fGEodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMucmlnaHQua2EoYSl9O2Z1bmN0aW9uIExjKGEpe3JldHVybiBhLmxlZnQuZSgpP2E6TGMoYS5sZWZ0KX1oLlZjPWZ1bmN0aW9uKCl7cmV0dXJuIExjKHRoaXMpLmtleX07aC5qYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJpZ2h0LmUoKT90aGlzLmtleTp0aGlzLnJpZ2h0LmpjKCl9O1xuaC5TYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtlPXRoaXM7ZD1jKGEsZS5rZXkpO2U9MD5kP2UuJChudWxsLG51bGwsbnVsbCxlLmxlZnQuU2EoYSxiLGMpLG51bGwpOjA9PT1kP2UuJChudWxsLGIsbnVsbCxudWxsLG51bGwpOmUuJChudWxsLG51bGwsbnVsbCxudWxsLGUucmlnaHQuU2EoYSxiLGMpKTtyZXR1cm4gTWMoZSl9O2Z1bmN0aW9uIE5jKGEpe2lmKGEubGVmdC5lKCkpcmV0dXJuIEZjO2EubGVmdC5oYSgpfHxhLmxlZnQubGVmdC5oYSgpfHwoYT1PYyhhKSk7YT1hLiQobnVsbCxudWxsLG51bGwsTmMoYS5sZWZ0KSxudWxsKTtyZXR1cm4gTWMoYSl9XG5oLnJlbW92ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7Yz10aGlzO2lmKDA+YihhLGMua2V5KSljLmxlZnQuZSgpfHxjLmxlZnQuaGEoKXx8Yy5sZWZ0LmxlZnQuaGEoKXx8KGM9T2MoYykpLGM9Yy4kKG51bGwsbnVsbCxudWxsLGMubGVmdC5yZW1vdmUoYSxiKSxudWxsKTtlbHNle2MubGVmdC5oYSgpJiYoYz1QYyhjKSk7Yy5yaWdodC5lKCl8fGMucmlnaHQuaGEoKXx8Yy5yaWdodC5sZWZ0LmhhKCl8fChjPVFjKGMpLGMubGVmdC5sZWZ0LmhhKCkmJihjPVBjKGMpLGM9UWMoYykpKTtpZigwPT09YihhLGMua2V5KSl7aWYoYy5yaWdodC5lKCkpcmV0dXJuIEZjO2Q9TGMoYy5yaWdodCk7Yz1jLiQoZC5rZXksZC52YWx1ZSxudWxsLG51bGwsTmMoYy5yaWdodCkpfWM9Yy4kKG51bGwsbnVsbCxudWxsLG51bGwsYy5yaWdodC5yZW1vdmUoYSxiKSl9cmV0dXJuIE1jKGMpfTtoLmhhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3J9O1xuZnVuY3Rpb24gTWMoYSl7YS5yaWdodC5oYSgpJiYhYS5sZWZ0LmhhKCkmJihhPVJjKGEpKTthLmxlZnQuaGEoKSYmYS5sZWZ0LmxlZnQuaGEoKSYmKGE9UGMoYSkpO2EubGVmdC5oYSgpJiZhLnJpZ2h0LmhhKCkmJihhPVFjKGEpKTtyZXR1cm4gYX1mdW5jdGlvbiBPYyhhKXthPVFjKGEpO2EucmlnaHQubGVmdC5oYSgpJiYoYT1hLiQobnVsbCxudWxsLG51bGwsbnVsbCxQYyhhLnJpZ2h0KSksYT1SYyhhKSxhPVFjKGEpKTtyZXR1cm4gYX1mdW5jdGlvbiBSYyhhKXtyZXR1cm4gYS5yaWdodC4kKG51bGwsbnVsbCxhLmNvbG9yLGEuJChudWxsLG51bGwsITAsbnVsbCxhLnJpZ2h0LmxlZnQpLG51bGwpfWZ1bmN0aW9uIFBjKGEpe3JldHVybiBhLmxlZnQuJChudWxsLG51bGwsYS5jb2xvcixudWxsLGEuJChudWxsLG51bGwsITAsYS5sZWZ0LnJpZ2h0LG51bGwpKX1cbmZ1bmN0aW9uIFFjKGEpe3JldHVybiBhLiQobnVsbCxudWxsLCFhLmNvbG9yLGEubGVmdC4kKG51bGwsbnVsbCwhYS5sZWZ0LmNvbG9yLG51bGwsbnVsbCksYS5yaWdodC4kKG51bGwsbnVsbCwhYS5yaWdodC5jb2xvcixudWxsLG51bGwpKX1mdW5jdGlvbiBTYygpe31oPVNjLnByb3RvdHlwZTtoLiQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307aC5TYT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgS2MoYSxiLG51bGwpfTtoLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIDB9O2guZT1mdW5jdGlvbigpe3JldHVybiEwfTtoLmthPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guVmM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07aC5qYz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtoLmhhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciBGYz1uZXcgU2M7ZnVuY3Rpb24gVGMoYSxiKXtyZXR1cm4gYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhPyhPKFwiLnN2XCJpbiBhLFwiVW5leHBlY3RlZCBsZWFmIG5vZGUgb3IgcHJpb3JpdHkgY29udGVudHNcIiksYlthW1wiLnN2XCJdXSk6YX1mdW5jdGlvbiBVYyhhLGIpe3ZhciBjPW5ldyBWYztXYyhhLG5ldyBQKFwiXCIpLGZ1bmN0aW9uKGEsZSl7Yy5yYyhhLFhjKGUsYikpfSk7cmV0dXJuIGN9ZnVuY3Rpb24gWGMoYSxiKXt2YXIgYz1hLkMoKS5KKCksYz1UYyhjLGIpLGQ7aWYoYS5MKCkpe3ZhciBlPVRjKGEuRWEoKSxiKTtyZXR1cm4gZSE9PWEuRWEoKXx8YyE9PWEuQygpLkooKT9uZXcgWWMoZSxRKGMpKTphfWQ9YTtjIT09YS5DKCkuSigpJiYoZD1kLmlhKG5ldyBZYyhjKSkpO2EuUihSLGZ1bmN0aW9uKGEsYyl7dmFyIGU9WGMoYyxiKTtlIT09YyYmKGQ9ZC5XKGEsZSkpfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIFpjKCl7dGhpcy5BYz17fX1aYy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj9kZWxldGUgdGhpcy5BY1thXTp0aGlzLkFjW2FdPWJ9O1pjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHkodGhpcy5BYyxhKT90aGlzLkFjW2FdOm51bGx9O1pjLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuQWNbYV19O1pjLnByb3RvdHlwZS5BZj0hMDtmdW5jdGlvbiAkYyhhKXt0aGlzLkljPWE7dGhpcy5TZD1cImZpcmViYXNlOlwifWg9JGMucHJvdG90eXBlO2guc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj90aGlzLkljLnJlbW92ZUl0ZW0odGhpcy5TZCthKTp0aGlzLkljLnNldEl0ZW0odGhpcy5TZCthLEcoYikpfTtoLmdldD1mdW5jdGlvbihhKXthPXRoaXMuSWMuZ2V0SXRlbSh0aGlzLlNkK2EpO3JldHVybiBudWxsPT1hP251bGw6UmIoYSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3RoaXMuSWMucmVtb3ZlSXRlbSh0aGlzLlNkK2EpfTtoLkFmPSExO2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JYy50b1N0cmluZygpfTtmdW5jdGlvbiBhZChhKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93W2FdKXt2YXIgYj13aW5kb3dbYV07Yi5zZXRJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIixcImNhY2hlXCIpO2IucmVtb3ZlSXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIpO3JldHVybiBuZXcgJGMoYil9fWNhdGNoKGMpe31yZXR1cm4gbmV3IFpjfXZhciBiZD1hZChcImxvY2FsU3RvcmFnZVwiKSxjZD1hZChcInNlc3Npb25TdG9yYWdlXCIpO2Z1bmN0aW9uIGRkKGEsYixjLGQsZSl7dGhpcy5ob3N0PWEudG9Mb3dlckNhc2UoKTt0aGlzLmRvbWFpbj10aGlzLmhvc3Quc3Vic3RyKHRoaXMuaG9zdC5pbmRleE9mKFwiLlwiKSsxKTt0aGlzLm9iPWI7dGhpcy5sYz1jO3RoaXMuamg9ZDt0aGlzLlJkPWV8fFwiXCI7dGhpcy5hYj1iZC5nZXQoXCJob3N0OlwiK2EpfHx0aGlzLmhvc3R9ZnVuY3Rpb24gZWQoYSxiKXtiIT09YS5hYiYmKGEuYWI9YixcInMtXCI9PT1hLmFiLnN1YnN0cigwLDIpJiZiZC5zZXQoXCJob3N0OlwiK2EuaG9zdCxhLmFiKSl9XG5mdW5jdGlvbiBmZChhLGIsYyl7TyhcInN0cmluZ1wiPT09dHlwZW9mIGIsXCJ0eXBlb2YgdHlwZSBtdXN0ID09IHN0cmluZ1wiKTtPKFwib2JqZWN0XCI9PT10eXBlb2YgYyxcInR5cGVvZiBwYXJhbXMgbXVzdCA9PSBvYmplY3RcIik7aWYoYj09PWdkKWI9KGEub2I/XCJ3c3M6Ly9cIjpcIndzOi8vXCIpK2EuYWIrXCIvLndzP1wiO2Vsc2UgaWYoYj09PWhkKWI9KGEub2I/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSthLmFiK1wiLy5scD9cIjtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBjb25uZWN0aW9uIHR5cGU6IFwiK2IpO2EuaG9zdCE9PWEuYWImJihjLm5zPWEubGMpO3ZhciBkPVtdO3YoYyxmdW5jdGlvbihhLGIpe2QucHVzaChiK1wiPVwiK2EpfSk7cmV0dXJuIGIrZC5qb2luKFwiJlwiKX1kZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy5vYj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuaG9zdDt0aGlzLlJkJiYoYSs9XCI8XCIrdGhpcy5SZCtcIj5cIik7cmV0dXJuIGF9O3ZhciBpZD1mdW5jdGlvbigpe3ZhciBhPTE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGErK319KCksTz1LYixqZD1MYjtcbmZ1bmN0aW9uIGtkKGEpe3RyeXt2YXIgYjtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGF0b2IpYj1hdG9iKGEpO2Vsc2V7b2IoKTtmb3IodmFyIGM9bWIsZD1bXSxlPTA7ZTxhLmxlbmd0aDspe3ZhciBmPWNbYS5jaGFyQXQoZSsrKV0sZz1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjA7KytlO3ZhciBrPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO3ZhciBtPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO2lmKG51bGw9PWZ8fG51bGw9PWd8fG51bGw9PWt8fG51bGw9PW0pdGhyb3cgRXJyb3IoKTtkLnB1c2goZjw8MnxnPj40KTs2NCE9ayYmKGQucHVzaChnPDw0JjI0MHxrPj4yKSw2NCE9bSYmZC5wdXNoKGs8PDYmMTkyfG0pKX1pZig4MTkyPmQubGVuZ3RoKWI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQpO2Vsc2V7YT1cIlwiO2ZvcihjPTA7YzxkLmxlbmd0aDtjKz04MTkyKWErPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxVYShkLGMsXG5jKzgxOTIpKTtiPWF9fXJldHVybiBifWNhdGNoKGwpe2ZjKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsbCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbGQoYSl7dmFyIGI9T2IoYSk7YT1uZXcgSmE7YS51cGRhdGUoYik7dmFyIGI9W10sYz04KmEuZ2U7NTY+YS5lYz9hLnVwZGF0ZShhLk9kLDU2LWEuZWMpOmEudXBkYXRlKGEuT2QsYS5ZYS0oYS5lYy01NikpO2Zvcih2YXIgZD1hLllhLTE7NTY8PWQ7ZC0tKWEucGVbZF09YyYyNTUsYy89MjU2O0thKGEsYS5wZSk7Zm9yKGQ9Yz0wOzU+ZDtkKyspZm9yKHZhciBlPTI0OzA8PWU7ZS09OCliW2NdPWEuUFtkXT4+ZSYyNTUsKytjO3JldHVybiBuYihiKX1cbmZ1bmN0aW9uIG1kKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWI9ZWEoYXJndW1lbnRzW2NdKT9iK21kLmFwcGx5KG51bGwsYXJndW1lbnRzW2NdKTpcIm9iamVjdFwiPT09dHlwZW9mIGFyZ3VtZW50c1tjXT9iK0coYXJndW1lbnRzW2NdKTpiK2FyZ3VtZW50c1tjXSxiKz1cIiBcIjtyZXR1cm4gYn12YXIgZWM9bnVsbCxuZD0hMDtcbmZ1bmN0aW9uIG9kKGEsYil7S2IoIWJ8fCEwPT09YXx8ITE9PT1hLFwiQ2FuJ3QgdHVybiBvbiBjdXN0b20gbG9nZ2VycyBwZXJzaXN0ZW50bHkuXCIpOyEwPT09YT8oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGNvbnNvbGUubG9nP2VjPXUoY29uc29sZS5sb2csY29uc29sZSk6XCJvYmplY3RcIj09PXR5cGVvZiBjb25zb2xlLmxvZyYmKGVjPWZ1bmN0aW9uKGEpe2NvbnNvbGUubG9nKGEpfSkpLGImJmNkLnNldChcImxvZ2dpbmdfZW5hYmxlZFwiLCEwKSk6cihhKT9lYz1hOihlYz1udWxsLGNkLnJlbW92ZShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9ZnVuY3Rpb24gZmMoYSl7ITA9PT1uZCYmKG5kPSExLG51bGw9PT1lYyYmITA9PT1jZC5nZXQoXCJsb2dnaW5nX2VuYWJsZWRcIikmJm9kKCEwKSk7aWYoZWMpe3ZhciBiPW1kLmFwcGx5KG51bGwsYXJndW1lbnRzKTtlYyhiKX19XG5mdW5jdGlvbiBwZChhKXtyZXR1cm4gZnVuY3Rpb24oKXtmYyhhLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHFkKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7dmFyIGI9XCJGSVJFQkFTRSBJTlRFUk5BTCBFUlJPUjogXCIrbWQuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZS5lcnJvcj9jb25zb2xlLmVycm9yKGIpOmNvbnNvbGUubG9nKGIpfX1mdW5jdGlvbiByZChhKXt2YXIgYj1tZC5hcHBseShudWxsLGFyZ3VtZW50cyk7dGhyb3cgRXJyb3IoXCJGSVJFQkFTRSBGQVRBTCBFUlJPUjogXCIrYik7fWZ1bmN0aW9uIFMoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgYj1cIkZJUkVCQVNFIFdBUk5JTkc6IFwiK21kLmFwcGx5KG51bGwsYXJndW1lbnRzKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUud2Fybj9jb25zb2xlLndhcm4oYik6Y29uc29sZS5sb2coYil9fVxuZnVuY3Rpb24gc2QoYSl7dmFyIGI9XCJcIixjPVwiXCIsZD1cIlwiLGU9XCJcIixmPSEwLGc9XCJodHRwc1wiLGs9NDQzO2lmKHEoYSkpe3ZhciBtPWEuaW5kZXhPZihcIi8vXCIpOzA8PW0mJihnPWEuc3Vic3RyaW5nKDAsbS0xKSxhPWEuc3Vic3RyaW5nKG0rMikpO209YS5pbmRleE9mKFwiL1wiKTstMT09PW0mJihtPWEubGVuZ3RoKTtiPWEuc3Vic3RyaW5nKDAsbSk7ZT1cIlwiO2E9YS5zdWJzdHJpbmcobSkuc3BsaXQoXCIvXCIpO2ZvcihtPTA7bTxhLmxlbmd0aDttKyspaWYoMDxhW21dLmxlbmd0aCl7dmFyIGw9YVttXTt0cnl7bD1kZWNvZGVVUklDb21wb25lbnQobC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWNhdGNoKHQpe31lKz1cIi9cIitsfWE9Yi5zcGxpdChcIi5cIik7Mz09PWEubGVuZ3RoPyhjPWFbMV0sZD1hWzBdLnRvTG93ZXJDYXNlKCkpOjI9PT1hLmxlbmd0aCYmKGM9YVswXSk7bT1iLmluZGV4T2YoXCI6XCIpOzA8PW0mJihmPVwiaHR0cHNcIj09PWd8fFwid3NzXCI9PT1nLGs9Yi5zdWJzdHJpbmcobSsxKSxpc0Zpbml0ZShrKSYmXG4oaz1TdHJpbmcoaykpLGs9cShrKT8vXlxccyotPzB4L2kudGVzdChrKT9wYXJzZUludChrLDE2KTpwYXJzZUludChrLDEwKTpOYU4pfXJldHVybntob3N0OmIscG9ydDprLGRvbWFpbjpjLGZoOmQsb2I6ZixzY2hlbWU6ZyxiZDplfX1mdW5jdGlvbiB0ZChhKXtyZXR1cm4gZmEoYSkmJihhIT1hfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSl9XG5mdW5jdGlvbiB1ZChhKXtpZihcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKWEoKTtlbHNle3ZhciBiPSExLGM9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5P2J8fChiPSEwLGEoKSk6c2V0VGltZW91dChjLE1hdGguZmxvb3IoMTApKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixjLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixjLCExKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQmJihkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGZ1bmN0aW9uKCl7XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmYygpfSksd2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsYykpfX1cbmZ1bmN0aW9uIHljKGEsYil7aWYoYT09PWIpcmV0dXJuIDA7aWYoXCJbTUlOX05BTUVdXCI9PT1hfHxcIltNQVhfTkFNRV1cIj09PWIpcmV0dXJuLTE7aWYoXCJbTUlOX05BTUVdXCI9PT1ifHxcIltNQVhfTkFNRV1cIj09PWEpcmV0dXJuIDE7dmFyIGM9dmQoYSksZD12ZChiKTtyZXR1cm4gbnVsbCE9PWM/bnVsbCE9PWQ/MD09Yy1kP2EubGVuZ3RoLWIubGVuZ3RoOmMtZDotMTpudWxsIT09ZD8xOmE8Yj8tMToxfWZ1bmN0aW9uIHdkKGEsYil7aWYoYiYmYSBpbiBiKXJldHVybiBiW2FdO3Rocm93IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBrZXkgKFwiK2ErXCIpIGluIG9iamVjdDogXCIrRyhiKSk7fVxuZnVuY3Rpb24geGQoYSl7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxudWxsPT09YSlyZXR1cm4gRyhhKTt2YXIgYj1bXSxjO2ZvcihjIGluIGEpYi5wdXNoKGMpO2Iuc29ydCgpO2M9XCJ7XCI7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspMCE9PWQmJihjKz1cIixcIiksYys9RyhiW2RdKSxjKz1cIjpcIixjKz14ZChhW2JbZF1dKTtyZXR1cm4gYytcIn1cIn1mdW5jdGlvbiB5ZChhLGIpe2lmKGEubGVuZ3RoPD1iKXJldHVyblthXTtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCs9YilkK2I+YT9jLnB1c2goYS5zdWJzdHJpbmcoZCxhLmxlbmd0aCkpOmMucHVzaChhLnN1YnN0cmluZyhkLGQrYikpO3JldHVybiBjfWZ1bmN0aW9uIHpkKGEsYil7aWYoZGEoYSkpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDsrK2MpYihjLGFbY10pO2Vsc2UgdihhLGIpfVxuZnVuY3Rpb24gQWQoYSl7TyghdGQoYSksXCJJbnZhbGlkIEpTT04gbnVtYmVyXCIpO3ZhciBiLGMsZCxlOzA9PT1hPyhkPWM9MCxiPS1JbmZpbml0eT09PTEvYT8xOjApOihiPTA+YSxhPU1hdGguYWJzKGEpLGE+PU1hdGgucG93KDIsLTEwMjIpPyhkPU1hdGgubWluKE1hdGguZmxvb3IoTWF0aC5sb2coYSkvTWF0aC5MTjIpLDEwMjMpLGM9ZCsxMDIzLGQ9TWF0aC5yb3VuZChhKk1hdGgucG93KDIsNTItZCktTWF0aC5wb3coMiw1MikpKTooYz0wLGQ9TWF0aC5yb3VuZChhL01hdGgucG93KDIsLTEwNzQpKSkpO2U9W107Zm9yKGE9NTI7YTstLWEpZS5wdXNoKGQlMj8xOjApLGQ9TWF0aC5mbG9vcihkLzIpO2ZvcihhPTExO2E7LS1hKWUucHVzaChjJTI/MTowKSxjPU1hdGguZmxvb3IoYy8yKTtlLnB1c2goYj8xOjApO2UucmV2ZXJzZSgpO2I9ZS5qb2luKFwiXCIpO2M9XCJcIjtmb3IoYT0wOzY0PmE7YSs9OClkPXBhcnNlSW50KGIuc3Vic3RyKGEsOCksMikudG9TdHJpbmcoMTYpLDE9PT1kLmxlbmd0aCYmXG4oZD1cIjBcIitkKSxjKz1kO3JldHVybiBjLnRvTG93ZXJDYXNlKCl9dmFyIEJkPS9eLT9cXGR7MSwxMH0kLztmdW5jdGlvbiB2ZChhKXtyZXR1cm4gQmQudGVzdChhKSYmKGE9TnVtYmVyKGEpLC0yMTQ3NDgzNjQ4PD1hJiYyMTQ3NDgzNjQ3Pj1hKT9hOm51bGx9ZnVuY3Rpb24gZ2MoYSl7dHJ5e2EoKX1jYXRjaChiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7UyhcIkV4Y2VwdGlvbiB3YXMgdGhyb3duIGJ5IHVzZXIgY2FsbGJhY2suXCIsYi5zdGFja3x8XCJcIik7dGhyb3cgYjt9LE1hdGguZmxvb3IoMCkpfX1mdW5jdGlvbiBUKGEsYil7aWYocihhKSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLnNsaWNlKCk7Z2MoZnVuY3Rpb24oKXthLmFwcGx5KG51bGwsYyl9KX19O2Z1bmN0aW9uIENkKGEpe3ZhciBiPXt9LGM9e30sZD17fSxlPVwiXCI7dHJ5e3ZhciBmPWEuc3BsaXQoXCIuXCIpLGI9UmIoa2QoZlswXSl8fFwiXCIpLGM9UmIoa2QoZlsxXSl8fFwiXCIpLGU9ZlsyXSxkPWMuZHx8e307ZGVsZXRlIGMuZH1jYXRjaChnKXt9cmV0dXJue21oOmIsRWM6YyxkYXRhOmQsYmg6ZX19ZnVuY3Rpb24gRGQoYSl7YT1DZChhKS5FYztyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJmEuaGFzT3duUHJvcGVydHkoXCJpYXRcIik/eihhLFwiaWF0XCIpOm51bGx9ZnVuY3Rpb24gRWQoYSl7YT1DZChhKTt2YXIgYj1hLkVjO3JldHVybiEhYS5iaCYmISFiJiZcIm9iamVjdFwiPT09dHlwZW9mIGImJmIuaGFzT3duUHJvcGVydHkoXCJpYXRcIil9O2Z1bmN0aW9uIEZkKGEpe3RoaXMuWT1hO3RoaXMuZz1hLm4uZ31mdW5jdGlvbiBHZChhLGIsYyxkKXt2YXIgZT1bXSxmPVtdO01hKGIsZnVuY3Rpb24oYil7XCJjaGlsZF9jaGFuZ2VkXCI9PT1iLnR5cGUmJmEuZy5EZChiLk9lLGIuTmEpJiZmLnB1c2gobmV3IEooXCJjaGlsZF9tb3ZlZFwiLGIuTmEsYi5aYSkpfSk7SGQoYSxlLFwiY2hpbGRfcmVtb3ZlZFwiLGIsZCxjKTtIZChhLGUsXCJjaGlsZF9hZGRlZFwiLGIsZCxjKTtIZChhLGUsXCJjaGlsZF9tb3ZlZFwiLGYsZCxjKTtIZChhLGUsXCJjaGlsZF9jaGFuZ2VkXCIsYixkLGMpO0hkKGEsZSxpYyxiLGQsYyk7cmV0dXJuIGV9ZnVuY3Rpb24gSGQoYSxiLGMsZCxlLGYpe2Q9TmEoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09Y30pO1ZhKGQsdShhLnFnLGEpKTtNYShkLGZ1bmN0aW9uKGMpe3ZhciBkPUlkKGEsYyxmKTtNYShlLGZ1bmN0aW9uKGUpe2UuUWYoYy50eXBlKSYmYi5wdXNoKGUuY3JlYXRlRXZlbnQoZCxhLlkpKX0pfSl9XG5mdW5jdGlvbiBJZChhLGIsYyl7XCJ2YWx1ZVwiIT09Yi50eXBlJiZcImNoaWxkX3JlbW92ZWRcIiE9PWIudHlwZSYmKGIuVGQ9Yy53ZihiLlphLGIuTmEsYS5nKSk7cmV0dXJuIGJ9RmQucHJvdG90eXBlLnFnPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YS5aYXx8bnVsbD09Yi5aYSl0aHJvdyBqZChcIlNob3VsZCBvbmx5IGNvbXBhcmUgY2hpbGRfIGV2ZW50cy5cIik7cmV0dXJuIHRoaXMuZy5jb21wYXJlKG5ldyBMKGEuWmEsYS5OYSksbmV3IEwoYi5aYSxiLk5hKSl9O2Z1bmN0aW9uIEpkKCl7dGhpcy5pYj17fX1cbmZ1bmN0aW9uIEtkKGEsYil7dmFyIGM9Yi50eXBlLGQ9Yi5aYTtPKFwiY2hpbGRfYWRkZWRcIj09Y3x8XCJjaGlsZF9jaGFuZ2VkXCI9PWN8fFwiY2hpbGRfcmVtb3ZlZFwiPT1jLFwiT25seSBjaGlsZCBjaGFuZ2VzIHN1cHBvcnRlZCBmb3IgdHJhY2tpbmdcIik7TyhcIi5wcmlvcml0eVwiIT09ZCxcIk9ubHkgbm9uLXByaW9yaXR5IGNoaWxkIGNoYW5nZXMgY2FuIGJlIHRyYWNrZWQuXCIpO3ZhciBlPXooYS5pYixkKTtpZihlKXt2YXIgZj1lLnR5cGU7aWYoXCJjaGlsZF9hZGRlZFwiPT1jJiZcImNoaWxkX3JlbW92ZWRcIj09ZilhLmliW2RdPW5ldyBKKFwiY2hpbGRfY2hhbmdlZFwiLGIuTmEsZCxlLk5hKTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1jJiZcImNoaWxkX2FkZGVkXCI9PWYpZGVsZXRlIGEuaWJbZF07ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5pYltkXT1uZXcgSihcImNoaWxkX3JlbW92ZWRcIixlLk9lLGQpO2Vsc2UgaWYoXCJjaGlsZF9jaGFuZ2VkXCI9PWMmJlxuXCJjaGlsZF9hZGRlZFwiPT1mKWEuaWJbZF09bmV3IEooXCJjaGlsZF9hZGRlZFwiLGIuTmEsZCk7ZWxzZSBpZihcImNoaWxkX2NoYW5nZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5pYltkXT1uZXcgSihcImNoaWxkX2NoYW5nZWRcIixiLk5hLGQsZS5PZSk7ZWxzZSB0aHJvdyBqZChcIklsbGVnYWwgY29tYmluYXRpb24gb2YgY2hhbmdlczogXCIrYitcIiBvY2N1cnJlZCBhZnRlciBcIitlKTt9ZWxzZSBhLmliW2RdPWJ9O2Z1bmN0aW9uIExkKGEpe3RoaXMuZz1hfWg9TGQucHJvdG90eXBlO2guSD1mdW5jdGlvbihhLGIsYyxkLGUsZil7TyhhLk1jKHRoaXMuZyksXCJBIG5vZGUgbXVzdCBiZSBpbmRleGVkIGlmIG9ubHkgYSBjaGlsZCBpcyB1cGRhdGVkXCIpO2U9YS5UKGIpO2lmKGUuUyhkKS5lYShjLlMoZCkpJiZlLmUoKT09Yy5lKCkpcmV0dXJuIGE7bnVsbCE9ZiYmKGMuZSgpP2EuRmEoYik/S2QoZixuZXcgSihcImNoaWxkX3JlbW92ZWRcIixlLGIpKTpPKGEuTCgpLFwiQSBjaGlsZCByZW1vdmUgd2l0aG91dCBhbiBvbGQgY2hpbGQgb25seSBtYWtlcyBzZW5zZSBvbiBhIGxlYWYgbm9kZVwiKTplLmUoKT9LZChmLG5ldyBKKFwiY2hpbGRfYWRkZWRcIixjLGIpKTpLZChmLG5ldyBKKFwiY2hpbGRfY2hhbmdlZFwiLGMsYixlKSkpO3JldHVybiBhLkwoKSYmYy5lKCk/YTphLlcoYixjKS5wYih0aGlzLmcpfTtcbmgueWE9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWMmJihhLkwoKXx8YS5SKFIsZnVuY3Rpb24oYSxlKXtiLkZhKGEpfHxLZChjLG5ldyBKKFwiY2hpbGRfcmVtb3ZlZFwiLGUsYSkpfSksYi5MKCl8fGIuUihSLGZ1bmN0aW9uKGIsZSl7aWYoYS5GYShiKSl7dmFyIGY9YS5UKGIpO2YuZWEoZSl8fEtkKGMsbmV3IEooXCJjaGlsZF9jaGFuZ2VkXCIsZSxiLGYpKX1lbHNlIEtkKGMsbmV3IEooXCJjaGlsZF9hZGRlZFwiLGUsYikpfSkpO3JldHVybiBiLnBiKHRoaXMuZyl9O2guaWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5lKCk/SDphLmlhKGIpfTtoLlJhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guJGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZnVuY3Rpb24gTWQoYSl7dGhpcy5GZT1uZXcgTGQoYS5nKTt0aGlzLmc9YS5nO3ZhciBiO2Eub2E/KGI9TmQoYSksYj1hLmcuU2MoT2QoYSksYikpOmI9YS5nLldjKCk7dGhpcy5nZD1iO2EucmE/KGI9UGQoYSksYT1hLmcuU2MoUmQoYSksYikpOmE9YS5nLlRjKCk7dGhpcy5KYz1hfWg9TWQucHJvdG90eXBlO2gubWF0Y2hlcz1mdW5jdGlvbihhKXtyZXR1cm4gMD49dGhpcy5nLmNvbXBhcmUodGhpcy5nZCxhKSYmMD49dGhpcy5nLmNvbXBhcmUoYSx0aGlzLkpjKX07aC5IPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLm1hdGNoZXMobmV3IEwoYixjKSl8fChjPUgpO3JldHVybiB0aGlzLkZlLkgoYSxiLGMsZCxlLGYpfTtcbmgueWE9ZnVuY3Rpb24oYSxiLGMpe2IuTCgpJiYoYj1IKTt2YXIgZD1iLnBiKHRoaXMuZyksZD1kLmlhKEgpLGU9dGhpcztiLlIoUixmdW5jdGlvbihhLGIpe2UubWF0Y2hlcyhuZXcgTChhLGIpKXx8KGQ9ZC5XKGEsSCkpfSk7cmV0dXJuIHRoaXMuRmUueWEoYSxkLGMpfTtoLmlhPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtoLlJhPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guJGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GZX07ZnVuY3Rpb24gU2QoYSl7dGhpcy51YT1uZXcgTWQoYSk7dGhpcy5nPWEuZztPKGEubGEsXCJPbmx5IHZhbGlkIGlmIGxpbWl0IGhhcyBiZWVuIHNldFwiKTt0aGlzLm1hPWEubWE7dGhpcy5OYj0hVGQoYSl9aD1TZC5wcm90b3R5cGU7aC5IPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLnVhLm1hdGNoZXMobmV3IEwoYixjKSl8fChjPUgpO3JldHVybiBhLlQoYikuZWEoYyk/YTphLkhiKCk8dGhpcy5tYT90aGlzLnVhLiRiKCkuSChhLGIsYyxkLGUsZik6VWQodGhpcyxhLGIsYyxlLGYpfTtcbmgueWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIuTCgpfHxiLmUoKSlkPUgucGIodGhpcy5nKTtlbHNlIGlmKDIqdGhpcy5tYTxiLkhiKCkmJmIuTWModGhpcy5nKSl7ZD1ILnBiKHRoaXMuZyk7Yj10aGlzLk5iP2IuZGModGhpcy51YS5KYyx0aGlzLmcpOmIuYmModGhpcy51YS5nZCx0aGlzLmcpO2Zvcih2YXIgZT0wOzA8Yi5UYS5sZW5ndGgmJmU8dGhpcy5tYTspe3ZhciBmPUljKGIpLGc7aWYoZz10aGlzLk5iPzA+PXRoaXMuZy5jb21wYXJlKHRoaXMudWEuZ2QsZik6MD49dGhpcy5nLmNvbXBhcmUoZix0aGlzLnVhLkpjKSlkPWQuVyhmLm5hbWUsZi5VKSxlKys7ZWxzZSBicmVha319ZWxzZXtkPWIucGIodGhpcy5nKTtkPWQuaWEoSCk7dmFyIGssbSxsO2lmKHRoaXMuTmIpe2I9ZC54Zih0aGlzLmcpO2s9dGhpcy51YS5KYzttPXRoaXMudWEuZ2Q7dmFyIHQ9VmQodGhpcy5nKTtsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHQoYixhKX19ZWxzZSBiPWQuYWModGhpcy5nKSxrPXRoaXMudWEuZ2QsXG5tPXRoaXMudWEuSmMsbD1WZCh0aGlzLmcpO2Zvcih2YXIgZT0wLEE9ITE7MDxiLlRhLmxlbmd0aDspZj1JYyhiKSwhQSYmMD49bChrLGYpJiYoQT0hMCksKGc9QSYmZTx0aGlzLm1hJiYwPj1sKGYsbSkpP2UrKzpkPWQuVyhmLm5hbWUsSCl9cmV0dXJuIHRoaXMudWEuJGIoKS55YShhLGQsYyl9O2guaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2guUmE9ZnVuY3Rpb24oKXtyZXR1cm4hMH07aC4kYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVhLiRiKCl9O1xuZnVuY3Rpb24gVWQoYSxiLGMsZCxlLGYpe3ZhciBnO2lmKGEuTmIpe3ZhciBrPVZkKGEuZyk7Zz1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsYSl9fWVsc2UgZz1WZChhLmcpO08oYi5IYigpPT1hLm1hLFwiXCIpO3ZhciBtPW5ldyBMKGMsZCksbD1hLk5iP1dkKGIsYS5nKTpYZChiLGEuZyksdD1hLnVhLm1hdGNoZXMobSk7aWYoYi5GYShjKSl7Zm9yKHZhciBBPWIuVChjKSxsPWUuQ2UoYS5nLGwsYS5OYik7bnVsbCE9bCYmKGwubmFtZT09Y3x8Yi5GYShsLm5hbWUpKTspbD1lLkNlKGEuZyxsLGEuTmIpO2U9bnVsbD09bD8xOmcobCxtKTtpZih0JiYhZC5lKCkmJjA8PWUpcmV0dXJuIG51bGwhPWYmJktkKGYsbmV3IEooXCJjaGlsZF9jaGFuZ2VkXCIsZCxjLEEpKSxiLlcoYyxkKTtudWxsIT1mJiZLZChmLG5ldyBKKFwiY2hpbGRfcmVtb3ZlZFwiLEEsYykpO2I9Yi5XKGMsSCk7cmV0dXJuIG51bGwhPWwmJmEudWEubWF0Y2hlcyhsKT8obnVsbCE9ZiYmS2QoZixuZXcgSihcImNoaWxkX2FkZGVkXCIsXG5sLlUsbC5uYW1lKSksYi5XKGwubmFtZSxsLlUpKTpifXJldHVybiBkLmUoKT9iOnQmJjA8PWcobCxtKT8obnVsbCE9ZiYmKEtkKGYsbmV3IEooXCJjaGlsZF9yZW1vdmVkXCIsbC5VLGwubmFtZSkpLEtkKGYsbmV3IEooXCJjaGlsZF9hZGRlZFwiLGQsYykpKSxiLlcoYyxkKS5XKGwubmFtZSxIKSk6Yn07ZnVuY3Rpb24gWWQoYSxiKXt0aGlzLm1lPWE7dGhpcy5vZz1ifWZ1bmN0aW9uIFpkKGEpe3RoaXMuWD1hfVxuWmQucHJvdG90eXBlLmdiPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBKZCxmO2lmKGIudHlwZT09PUJjKWIuc291cmNlLkFlP2M9JGQodGhpcyxhLGIucGF0aCxiLkphLGMsZCxlKTooTyhiLnNvdXJjZS50ZixcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLmVmfHxtYyhhLncoKSkmJiFiLnBhdGguZSgpLGM9YWUodGhpcyxhLGIucGF0aCxiLkphLGMsZCxmLGUpKTtlbHNlIGlmKGIudHlwZT09PWJlKWIuc291cmNlLkFlP2M9Y2UodGhpcyxhLGIucGF0aCxiLmNoaWxkcmVuLGMsZCxlKTooTyhiLnNvdXJjZS50ZixcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLmVmfHxtYyhhLncoKSksYz1kZSh0aGlzLGEsYi5wYXRoLGIuY2hpbGRyZW4sYyxkLGYsZSkpO2Vsc2UgaWYoYi50eXBlPT09ZWUpaWYoYi5ZZClpZihiPWIucGF0aCxudWxsIT1jLnhjKGIpKWM9YTtlbHNle2Y9bmV3IFZiKGMsYSxkKTtkPWEuUS5qKCk7aWYoYi5lKCl8fFwiLnByaW9yaXR5XCI9PT1LKGIpKWxjKGEudygpKT9cbmI9Yy5BYShZYihhKSk6KGI9YS53KCkuaigpLE8oYiBpbnN0YW5jZW9mIGZlLFwic2VydmVyQ2hpbGRyZW4gd291bGQgYmUgY29tcGxldGUgaWYgbGVhZiBub2RlXCIpLGI9Yy5DYyhiKSksYj10aGlzLlgueWEoZCxiLGUpO2Vsc2V7dmFyIGc9SyhiKSxrPWMuQmMoZyxhLncoKSk7bnVsbD09ayYmV2IoYS53KCksZykmJihrPWQuVChnKSk7Yj1udWxsIT1rP3RoaXMuWC5IKGQsZyxrLE4oYiksZixlKTphLlEuaigpLkZhKGcpP3RoaXMuWC5IKGQsZyxILE4oYiksZixlKTpkO2IuZSgpJiZsYyhhLncoKSkmJihkPWMuQWEoWWIoYSkpLGQuTCgpJiYoYj10aGlzLlgueWEoYixkLGUpKSl9ZD1sYyhhLncoKSl8fG51bGwhPWMueGMoTSk7Yz1nZShhLGIsZCx0aGlzLlguUmEoKSl9ZWxzZSBjPWhlKHRoaXMsYSxiLnBhdGgsYi5VYixjLGQsZSk7ZWxzZSBpZihiLnR5cGU9PT1EYylkPWIucGF0aCxiPWEudygpLGY9Yi5qKCksZz1iLmdhfHxkLmUoKSxjPWllKHRoaXMsbmV3IGplKGEuUSxuZXcgWGIoZixcbmcsYi5ZYikpLGQsYyxVYixlKTtlbHNlIHRocm93IGpkKFwiVW5rbm93biBvcGVyYXRpb24gdHlwZTogXCIrYi50eXBlKTtlPXFhKGUuaWIpO2Q9YztiPWQuUTtiLmdhJiYoZj1iLmooKS5MKCl8fGIuaigpLmUoKSxnPWtlKGEpLCgwPGUubGVuZ3RofHwhYS5RLmdhfHxmJiYhYi5qKCkuZWEoZyl8fCFiLmooKS5DKCkuZWEoZy5DKCkpKSYmZS5wdXNoKGhjKGtlKGQpKSkpO3JldHVybiBuZXcgWWQoYyxlKX07XG5mdW5jdGlvbiBpZShhLGIsYyxkLGUsZil7dmFyIGc9Yi5RO2lmKG51bGwhPWQueGMoYykpcmV0dXJuIGI7dmFyIGs7aWYoYy5lKCkpTyhsYyhiLncoKSksXCJJZiBjaGFuZ2UgcGF0aCBpcyBlbXB0eSwgd2UgbXVzdCBoYXZlIGNvbXBsZXRlIHNlcnZlciBkYXRhXCIpLG1jKGIudygpKT8oZT1ZYihiKSxkPWQuQ2MoZSBpbnN0YW5jZW9mIGZlP2U6SCkpOmQ9ZC5BYShZYihiKSksZj1hLlgueWEoYi5RLmooKSxkLGYpO2Vsc2V7dmFyIG09SyhjKTtpZihcIi5wcmlvcml0eVwiPT1tKU8oMT09bGUoYyksXCJDYW4ndCBoYXZlIGEgcHJpb3JpdHkgd2l0aCBhZGRpdGlvbmFsIHBhdGggY29tcG9uZW50c1wiKSxmPWcuaigpLGs9Yi53KCkuaigpLGQ9ZC5uZChjLGYsayksZj1udWxsIT1kP2EuWC5pYShmLGQpOmcuaigpO2Vsc2V7dmFyIGw9TihjKTtXYihnLG0pPyhrPWIudygpLmooKSxkPWQubmQoYyxnLmooKSxrKSxkPW51bGwhPWQ/Zy5qKCkuVChtKS5IKGwsZCk6Zy5qKCkuVChtKSk6ZD1kLkJjKG0sXG5iLncoKSk7Zj1udWxsIT1kP2EuWC5IKGcuaigpLG0sZCxsLGUsZik6Zy5qKCl9fXJldHVybiBnZShiLGYsZy5nYXx8Yy5lKCksYS5YLlJhKCkpfWZ1bmN0aW9uIGFlKGEsYixjLGQsZSxmLGcsayl7dmFyIG09Yi53KCk7Zz1nP2EuWDphLlguJGIoKTtpZihjLmUoKSlkPWcueWEobS5qKCksZCxudWxsKTtlbHNlIGlmKGcuUmEoKSYmIW0uWWIpZD1tLmooKS5IKGMsZCksZD1nLnlhKG0uaigpLGQsbnVsbCk7ZWxzZXt2YXIgbD1LKGMpO2lmKCFuYyhtLGMpJiYxPGxlKGMpKXJldHVybiBiO3ZhciB0PU4oYyk7ZD1tLmooKS5UKGwpLkgodCxkKTtkPVwiLnByaW9yaXR5XCI9PWw/Zy5pYShtLmooKSxkKTpnLkgobS5qKCksbCxkLHQsVWIsbnVsbCl9bT1tLmdhfHxjLmUoKTtiPW5ldyBqZShiLlEsbmV3IFhiKGQsbSxnLlJhKCkpKTtyZXR1cm4gaWUoYSxiLGMsZSxuZXcgVmIoZSxiLGYpLGspfVxuZnVuY3Rpb24gJGQoYSxiLGMsZCxlLGYsZyl7dmFyIGs9Yi5RO2U9bmV3IFZiKGUsYixmKTtpZihjLmUoKSlnPWEuWC55YShiLlEuaigpLGQsZyksYT1nZShiLGcsITAsYS5YLlJhKCkpO2Vsc2UgaWYoZj1LKGMpLFwiLnByaW9yaXR5XCI9PT1mKWc9YS5YLmlhKGIuUS5qKCksZCksYT1nZShiLGcsay5nYSxrLlliKTtlbHNle2M9TihjKTt2YXIgbT1rLmooKS5UKGYpO2lmKCFjLmUoKSl7dmFyIGw9ZS51ZihmKTtkPW51bGwhPWw/XCIucHJpb3JpdHlcIj09PW1lKGMpJiZsLlMoYy5wYXJlbnQoKSkuZSgpP2w6bC5IKGMsZCk6SH1tLmVhKGQpP2E9YjooZz1hLlguSChrLmooKSxmLGQsYyxlLGcpLGE9Z2UoYixnLGsuZ2EsYS5YLlJhKCkpKX1yZXR1cm4gYX1cbmZ1bmN0aW9uIGNlKGEsYixjLGQsZSxmLGcpe3ZhciBrPWI7bmUoZCxmdW5jdGlvbihkLGwpe3ZhciB0PWMubyhkKTtXYihiLlEsSyh0KSkmJihrPSRkKGEsayx0LGwsZSxmLGcpKX0pO25lKGQsZnVuY3Rpb24oZCxsKXt2YXIgdD1jLm8oZCk7V2IoYi5RLEsodCkpfHwoaz0kZChhLGssdCxsLGUsZixnKSl9KTtyZXR1cm4ga31mdW5jdGlvbiBvZShhLGIpe25lKGIsZnVuY3Rpb24oYixkKXthPWEuSChiLGQpfSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBkZShhLGIsYyxkLGUsZixnLGspe2lmKGIudygpLmooKS5lKCkmJiFsYyhiLncoKSkpcmV0dXJuIGI7dmFyIG09YjtjPWMuZSgpP2Q6cGUocWUsYyxkKTt2YXIgbD1iLncoKS5qKCk7Yy5jaGlsZHJlbi5rYShmdW5jdGlvbihjLGQpe2lmKGwuRmEoYykpe3ZhciBJPWIudygpLmooKS5UKGMpLEk9b2UoSSxkKTttPWFlKGEsbSxuZXcgUChjKSxJLGUsZixnLGspfX0pO2MuY2hpbGRyZW4ua2EoZnVuY3Rpb24oYyxkKXt2YXIgST0hV2IoYi53KCksYykmJm51bGw9PWQudmFsdWU7bC5GYShjKXx8SXx8KEk9Yi53KCkuaigpLlQoYyksST1vZShJLGQpLG09YWUoYSxtLG5ldyBQKGMpLEksZSxmLGcsaykpfSk7cmV0dXJuIG19XG5mdW5jdGlvbiBoZShhLGIsYyxkLGUsZixnKXtpZihudWxsIT1lLnhjKGMpKXJldHVybiBiO3ZhciBrPW1jKGIudygpKSxtPWIudygpO2lmKG51bGwhPWQudmFsdWUpe2lmKGMuZSgpJiZtLmdhfHxuYyhtLGMpKXJldHVybiBhZShhLGIsYyxtLmooKS5TKGMpLGUsZixrLGcpO2lmKGMuZSgpKXt2YXIgbD1xZTttLmooKS5SKHJlLGZ1bmN0aW9uKGEsYil7bD1sLnNldChuZXcgUChhKSxiKX0pO3JldHVybiBkZShhLGIsYyxsLGUsZixrLGcpfXJldHVybiBifWw9cWU7bmUoZCxmdW5jdGlvbihhKXt2YXIgYj1jLm8oYSk7bmMobSxiKSYmKGw9bC5zZXQoYSxtLmooKS5TKGIpKSl9KTtyZXR1cm4gZGUoYSxiLGMsbCxlLGYsayxnKX07ZnVuY3Rpb24gc2UoKXt9dmFyIHRlPXt9O2Z1bmN0aW9uIFZkKGEpe3JldHVybiB1KGEuY29tcGFyZSxhKX1zZS5wcm90b3R5cGUuRGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMCE9PXRoaXMuY29tcGFyZShuZXcgTChcIltNSU5fTkFNRV1cIixhKSxuZXcgTChcIltNSU5fTkFNRV1cIixiKSl9O3NlLnByb3RvdHlwZS5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07ZnVuY3Rpb24gdmUoYSl7TyghYS5lKCkmJlwiLnByaW9yaXR5XCIhPT1LKGEpLFwiQ2FuJ3QgY3JlYXRlIFBhdGhJbmRleCB3aXRoIGVtcHR5IHBhdGggb3IgLnByaW9yaXR5IGtleVwiKTt0aGlzLmdjPWF9a2EodmUsc2UpO2g9dmUucHJvdG90eXBlO2guTGM9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuUyh0aGlzLmdjKS5lKCl9O2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuVS5TKHRoaXMuZ2MpLGQ9Yi5VLlModGhpcy5nYyksYz1jLkdjKGQpO3JldHVybiAwPT09Yz95YyhhLm5hbWUsYi5uYW1lKTpjfTtcbmguU2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1RKGEpLGM9SC5IKHRoaXMuZ2MsYyk7cmV0dXJuIG5ldyBMKGIsYyl9O2guVGM9ZnVuY3Rpb24oKXt2YXIgYT1ILkgodGhpcy5nYyx3ZSk7cmV0dXJuIG5ldyBMKFwiW01BWF9OQU1FXVwiLGEpfTtoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2Muc2xpY2UoKS5qb2luKFwiL1wiKX07ZnVuY3Rpb24geGUoKXt9a2EoeGUsc2UpO2g9eGUucHJvdG90eXBlO2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuVS5DKCksZD1iLlUuQygpLGM9Yy5HYyhkKTtyZXR1cm4gMD09PWM/eWMoYS5uYW1lLGIubmFtZSk6Y307aC5MYz1mdW5jdGlvbihhKXtyZXR1cm4hYS5DKCkuZSgpfTtoLkRkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuQygpLmVhKGIuQygpKX07aC5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07aC5UYz1mdW5jdGlvbigpe3JldHVybiBuZXcgTChcIltNQVhfTkFNRV1cIixuZXcgWWMoXCJbUFJJT1JJVFktUE9TVF1cIix3ZSkpfTtcbmguU2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1RKGEpO3JldHVybiBuZXcgTChiLG5ldyBZYyhcIltQUklPUklUWS1QT1NUXVwiLGMpKX07aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLnByaW9yaXR5XCJ9O3ZhciBSPW5ldyB4ZTtmdW5jdGlvbiB5ZSgpe31rYSh5ZSxzZSk7aD15ZS5wcm90b3R5cGU7aC5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHljKGEubmFtZSxiLm5hbWUpfTtoLkxjPWZ1bmN0aW9uKCl7dGhyb3cgamQoXCJLZXlJbmRleC5pc0RlZmluZWRPbiBub3QgZXhwZWN0ZWQgdG8gYmUgY2FsbGVkLlwiKTt9O2guRGQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07aC5UYz1mdW5jdGlvbigpe3JldHVybiBuZXcgTChcIltNQVhfTkFNRV1cIixIKX07aC5TYz1mdW5jdGlvbihhKXtPKHEoYSksXCJLZXlJbmRleCBpbmRleFZhbHVlIG11c3QgYWx3YXlzIGJlIGEgc3RyaW5nLlwiKTtyZXR1cm4gbmV3IEwoYSxIKX07aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLmtleVwifTtcbnZhciByZT1uZXcgeWU7ZnVuY3Rpb24gemUoKXt9a2EoemUsc2UpO2g9emUucHJvdG90eXBlO2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuVS5HYyhiLlUpO3JldHVybiAwPT09Yz95YyhhLm5hbWUsYi5uYW1lKTpjfTtoLkxjPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guRGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYS5lYShiKX07aC5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07aC5UYz1mdW5jdGlvbigpe3JldHVybiBBZX07aC5TYz1mdW5jdGlvbihhLGIpe3ZhciBjPVEoYSk7cmV0dXJuIG5ldyBMKGIsYyl9O2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi52YWx1ZVwifTt2YXIgQmU9bmV3IHplO2Z1bmN0aW9uIENlKCl7dGhpcy5YYj10aGlzLnJhPXRoaXMuUGI9dGhpcy5vYT10aGlzLmxhPSExO3RoaXMubWE9MDt0aGlzLlJiPVwiXCI7dGhpcy5pYz1udWxsO3RoaXMuQmI9XCJcIjt0aGlzLmZjPW51bGw7dGhpcy56Yj1cIlwiO3RoaXMuZz1SfXZhciBEZT1uZXcgQ2U7ZnVuY3Rpb24gVGQoYSl7cmV0dXJuXCJcIj09PWEuUmI/YS5vYTpcImxcIj09PWEuUmJ9ZnVuY3Rpb24gT2QoYSl7TyhhLm9hLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuaWN9ZnVuY3Rpb24gTmQoYSl7TyhhLm9hLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuUGI/YS5CYjpcIltNSU5fTkFNRV1cIn1mdW5jdGlvbiBSZChhKXtPKGEucmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuZmN9XG5mdW5jdGlvbiBQZChhKXtPKGEucmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuWGI/YS56YjpcIltNQVhfTkFNRV1cIn1mdW5jdGlvbiBFZShhKXt2YXIgYj1uZXcgQ2U7Yi5sYT1hLmxhO2IubWE9YS5tYTtiLm9hPWEub2E7Yi5pYz1hLmljO2IuUGI9YS5QYjtiLkJiPWEuQmI7Yi5yYT1hLnJhO2IuZmM9YS5mYztiLlhiPWEuWGI7Yi56Yj1hLnpiO2IuZz1hLmc7cmV0dXJuIGJ9aD1DZS5wcm90b3R5cGU7aC5MZT1mdW5jdGlvbihhKXt2YXIgYj1FZSh0aGlzKTtiLmxhPSEwO2IubWE9YTtiLlJiPVwiXCI7cmV0dXJuIGJ9O2guTWU9ZnVuY3Rpb24oYSl7dmFyIGI9RWUodGhpcyk7Yi5sYT0hMDtiLm1hPWE7Yi5SYj1cImxcIjtyZXR1cm4gYn07aC5OZT1mdW5jdGlvbihhKXt2YXIgYj1FZSh0aGlzKTtiLmxhPSEwO2IubWE9YTtiLlJiPVwiclwiO3JldHVybiBifTtcbmguY2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1FZSh0aGlzKTtjLm9hPSEwO3AoYSl8fChhPW51bGwpO2MuaWM9YTtudWxsIT1iPyhjLlBiPSEwLGMuQmI9Yik6KGMuUGI9ITEsYy5CYj1cIlwiKTtyZXR1cm4gY307aC52ZD1mdW5jdGlvbihhLGIpe3ZhciBjPUVlKHRoaXMpO2MucmE9ITA7cChhKXx8KGE9bnVsbCk7Yy5mYz1hO3AoYik/KGMuWGI9ITAsYy56Yj1iKTooYy5vaD0hMSxjLnpiPVwiXCIpO3JldHVybiBjfTtmdW5jdGlvbiBGZShhLGIpe3ZhciBjPUVlKGEpO2MuZz1iO3JldHVybiBjfWZ1bmN0aW9uIEdlKGEpe3ZhciBiPXt9O2Eub2EmJihiLnNwPWEuaWMsYS5QYiYmKGIuc249YS5CYikpO2EucmEmJihiLmVwPWEuZmMsYS5YYiYmKGIuZW49YS56YikpO2lmKGEubGEpe2IubD1hLm1hO3ZhciBjPWEuUmI7XCJcIj09PWMmJihjPVRkKGEpP1wibFwiOlwiclwiKTtiLnZmPWN9YS5nIT09UiYmKGIuaT1hLmcudG9TdHJpbmcoKSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBIZShhKXtyZXR1cm4hKGEub2F8fGEucmF8fGEubGEpfWZ1bmN0aW9uIEllKGEpe3JldHVybiBIZShhKSYmYS5nPT1SfWZ1bmN0aW9uIEplKGEpe3ZhciBiPXt9O2lmKEllKGEpKXJldHVybiBiO3ZhciBjO2EuZz09PVI/Yz1cIiRwcmlvcml0eVwiOmEuZz09PUJlP2M9XCIkdmFsdWVcIjphLmc9PT1yZT9jPVwiJGtleVwiOihPKGEuZyBpbnN0YW5jZW9mIHZlLFwiVW5yZWNvZ25pemVkIGluZGV4IHR5cGUhXCIpLGM9YS5nLnRvU3RyaW5nKCkpO2Iub3JkZXJCeT1HKGMpO2Eub2EmJihiLnN0YXJ0QXQ9RyhhLmljKSxhLlBiJiYoYi5zdGFydEF0Kz1cIixcIitHKGEuQmIpKSk7YS5yYSYmKGIuZW5kQXQ9RyhhLmZjKSxhLlhiJiYoYi5lbmRBdCs9XCIsXCIrRyhhLnpiKSkpO2EubGEmJihUZChhKT9iLmxpbWl0VG9GaXJzdD1hLm1hOmIubGltaXRUb0xhc3Q9YS5tYSk7cmV0dXJuIGJ9aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBHKEdlKHRoaXMpKX07ZnVuY3Rpb24gS2UoYSxiKXt0aGlzLkVkPWE7dGhpcy5oYz1ifUtlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9eih0aGlzLkVkLGEpO2lmKCFiKXRocm93IEVycm9yKFwiTm8gaW5kZXggZGVmaW5lZCBmb3IgXCIrYSk7cmV0dXJuIGI9PT10ZT9udWxsOmJ9O2Z1bmN0aW9uIExlKGEsYixjKXt2YXIgZD1tYShhLkVkLGZ1bmN0aW9uKGQsZil7dmFyIGc9eihhLmhjLGYpO08oZyxcIk1pc3NpbmcgaW5kZXggaW1wbGVtZW50YXRpb24gZm9yIFwiK2YpO2lmKGQ9PT10ZSl7aWYoZy5MYyhiLlUpKXtmb3IodmFyIGs9W10sbT1jLmFjKHdjKSxsPUljKG0pO2w7KWwubmFtZSE9Yi5uYW1lJiZrLnB1c2gobCksbD1JYyhtKTtrLnB1c2goYik7cmV0dXJuIE1lKGssVmQoZykpfXJldHVybiB0ZX1nPWMuZ2V0KGIubmFtZSk7az1kO2cmJihrPWsucmVtb3ZlKG5ldyBMKGIubmFtZSxnKSkpO3JldHVybiBrLlNhKGIsYi5VKX0pO3JldHVybiBuZXcgS2UoZCxhLmhjKX1cbmZ1bmN0aW9uIE5lKGEsYixjKXt2YXIgZD1tYShhLkVkLGZ1bmN0aW9uKGEpe2lmKGE9PT10ZSlyZXR1cm4gYTt2YXIgZD1jLmdldChiLm5hbWUpO3JldHVybiBkP2EucmVtb3ZlKG5ldyBMKGIubmFtZSxkKSk6YX0pO3JldHVybiBuZXcgS2UoZCxhLmhjKX12YXIgT2U9bmV3IEtlKHtcIi5wcmlvcml0eVwiOnRlfSx7XCIucHJpb3JpdHlcIjpSfSk7ZnVuY3Rpb24gWWMoYSxiKXt0aGlzLkI9YTtPKHAodGhpcy5CKSYmbnVsbCE9PXRoaXMuQixcIkxlYWZOb2RlIHNob3VsZG4ndCBiZSBjcmVhdGVkIHdpdGggbnVsbC91bmRlZmluZWQgdmFsdWUuXCIpO3RoaXMuY2E9Ynx8SDtQZSh0aGlzLmNhKTt0aGlzLkdiPW51bGx9dmFyIFFlPVtcIm9iamVjdFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJzdHJpbmdcIl07aD1ZYy5wcm90b3R5cGU7aC5MPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guQz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhfTtoLmlhPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgWWModGhpcy5CLGEpfTtoLlQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCIucHJpb3JpdHlcIj09PWE/dGhpcy5jYTpIfTtoLlM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZSgpP3RoaXM6XCIucHJpb3JpdHlcIj09PUsoYSk/dGhpcy5jYTpIfTtoLkZhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2gud2Y9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07XG5oLlc9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIi5wcmlvcml0eVwiPT09YT90aGlzLmlhKGIpOmIuZSgpJiZcIi5wcmlvcml0eVwiIT09YT90aGlzOkguVyhhLGIpLmlhKHRoaXMuY2EpfTtoLkg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1LKGEpO2lmKG51bGw9PT1jKXJldHVybiBiO2lmKGIuZSgpJiZcIi5wcmlvcml0eVwiIT09YylyZXR1cm4gdGhpcztPKFwiLnByaW9yaXR5XCIhPT1jfHwxPT09bGUoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7cmV0dXJuIHRoaXMuVyhjLEguSChOKGEpLGIpKX07aC5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guSGI9ZnVuY3Rpb24oKXtyZXR1cm4gMH07aC5SPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guSj1mdW5jdGlvbihhKXtyZXR1cm4gYSYmIXRoaXMuQygpLmUoKT97XCIudmFsdWVcIjp0aGlzLkVhKCksXCIucHJpb3JpdHlcIjp0aGlzLkMoKS5KKCl9OnRoaXMuRWEoKX07XG5oLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5HYil7dmFyIGE9XCJcIjt0aGlzLmNhLmUoKXx8KGErPVwicHJpb3JpdHk6XCIrUmUodGhpcy5jYS5KKCkpK1wiOlwiKTt2YXIgYj10eXBlb2YgdGhpcy5CLGE9YSsoYitcIjpcIiksYT1cIm51bWJlclwiPT09Yj9hK0FkKHRoaXMuQik6YSt0aGlzLkI7dGhpcy5HYj1sZChhKX1yZXR1cm4gdGhpcy5HYn07aC5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9O2guR2M9ZnVuY3Rpb24oYSl7aWYoYT09PUgpcmV0dXJuIDE7aWYoYSBpbnN0YW5jZW9mIGZlKXJldHVybi0xO08oYS5MKCksXCJVbmtub3duIG5vZGUgdHlwZVwiKTt2YXIgYj10eXBlb2YgYS5CLGM9dHlwZW9mIHRoaXMuQixkPUxhKFFlLGIpLGU9TGEoUWUsYyk7TygwPD1kLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2IpO08oMDw9ZSxcIlVua25vd24gbGVhZiB0eXBlOiBcIitjKTtyZXR1cm4gZD09PWU/XCJvYmplY3RcIj09PWM/MDp0aGlzLkI8YS5CPy0xOnRoaXMuQj09PWEuQj8wOjE6ZS1kfTtcbmgucGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307aC5NYz1mdW5jdGlvbigpe3JldHVybiEwfTtoLmVhPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcz8hMDphLkwoKT90aGlzLkI9PT1hLkImJnRoaXMuY2EuZWEoYS5jYSk6ITF9O2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gRyh0aGlzLkooITApKX07ZnVuY3Rpb24gZmUoYSxiLGMpe3RoaXMubT1hOyh0aGlzLmNhPWIpJiZQZSh0aGlzLmNhKTthLmUoKSYmTyghdGhpcy5jYXx8dGhpcy5jYS5lKCksXCJBbiBlbXB0eSBub2RlIGNhbm5vdCBoYXZlIGEgcHJpb3JpdHlcIik7dGhpcy5BYj1jO3RoaXMuR2I9bnVsbH1oPWZlLnByb3RvdHlwZTtoLkw9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5DPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2F8fEh9O2guaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubS5lKCk/dGhpczpuZXcgZmUodGhpcy5tLGEsdGhpcy5BYil9O2guVD1mdW5jdGlvbihhKXtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5DKCk7YT10aGlzLm0uZ2V0KGEpO3JldHVybiBudWxsPT09YT9IOmF9O2guUz1mdW5jdGlvbihhKXt2YXIgYj1LKGEpO3JldHVybiBudWxsPT09Yj90aGlzOnRoaXMuVChiKS5TKE4oYSkpfTtoLkZhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09dGhpcy5tLmdldChhKX07XG5oLlc9ZnVuY3Rpb24oYSxiKXtPKGIsXCJXZSBzaG91bGQgYWx3YXlzIGJlIHBhc3Npbmcgc25hcHNob3Qgbm9kZXNcIik7aWYoXCIucHJpb3JpdHlcIj09PWEpcmV0dXJuIHRoaXMuaWEoYik7dmFyIGM9bmV3IEwoYSxiKSxkLGU7Yi5lKCk/KGQ9dGhpcy5tLnJlbW92ZShhKSxjPU5lKHRoaXMuQWIsYyx0aGlzLm0pKTooZD10aGlzLm0uU2EoYSxiKSxjPUxlKHRoaXMuQWIsYyx0aGlzLm0pKTtlPWQuZSgpP0g6dGhpcy5jYTtyZXR1cm4gbmV3IGZlKGQsZSxjKX07aC5IPWZ1bmN0aW9uKGEsYil7dmFyIGM9SyhhKTtpZihudWxsPT09YylyZXR1cm4gYjtPKFwiLnByaW9yaXR5XCIhPT1LKGEpfHwxPT09bGUoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7dmFyIGQ9dGhpcy5UKGMpLkgoTihhKSxiKTtyZXR1cm4gdGhpcy5XKGMsZCl9O2guZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm0uZSgpfTtoLkhiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubS5jb3VudCgpfTtcbnZhciBTZT0vXigwfFsxLTldXFxkKikkLztoPWZlLnByb3RvdHlwZTtoLko9ZnVuY3Rpb24oYSl7aWYodGhpcy5lKCkpcmV0dXJuIG51bGw7dmFyIGI9e30sYz0wLGQ9MCxlPSEwO3RoaXMuUihSLGZ1bmN0aW9uKGYsZyl7YltmXT1nLkooYSk7YysrO2UmJlNlLnRlc3QoZik/ZD1NYXRoLm1heChkLE51bWJlcihmKSk6ZT0hMX0pO2lmKCFhJiZlJiZkPDIqYyl7dmFyIGY9W10sZztmb3IoZyBpbiBiKWZbZ109YltnXTtyZXR1cm4gZn1hJiYhdGhpcy5DKCkuZSgpJiYoYltcIi5wcmlvcml0eVwiXT10aGlzLkMoKS5KKCkpO3JldHVybiBifTtoLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5HYil7dmFyIGE9XCJcIjt0aGlzLkMoKS5lKCl8fChhKz1cInByaW9yaXR5OlwiK1JlKHRoaXMuQygpLkooKSkrXCI6XCIpO3RoaXMuUihSLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5oYXNoKCk7XCJcIiE9PWQmJihhKz1cIjpcIitiK1wiOlwiK2QpfSk7dGhpcy5HYj1cIlwiPT09YT9cIlwiOmxkKGEpfXJldHVybiB0aGlzLkdifTtcbmgud2Y9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjPVRlKHRoaXMsYykpPyhhPUdjKGMsbmV3IEwoYSxiKSkpP2EubmFtZTpudWxsOkdjKHRoaXMubSxhKX07ZnVuY3Rpb24gV2QoYSxiKXt2YXIgYztjPShjPVRlKGEsYikpPyhjPWMuVmMoKSkmJmMubmFtZTphLm0uVmMoKTtyZXR1cm4gYz9uZXcgTChjLGEubS5nZXQoYykpOm51bGx9ZnVuY3Rpb24gWGQoYSxiKXt2YXIgYztjPShjPVRlKGEsYikpPyhjPWMuamMoKSkmJmMubmFtZTphLm0uamMoKTtyZXR1cm4gYz9uZXcgTChjLGEubS5nZXQoYykpOm51bGx9aC5SPWZ1bmN0aW9uKGEsYil7dmFyIGM9VGUodGhpcyxhKTtyZXR1cm4gYz9jLmthKGZ1bmN0aW9uKGEpe3JldHVybiBiKGEubmFtZSxhLlUpfSk6dGhpcy5tLmthKGIpfTtoLmFjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJjKGEuV2MoKSxhKX07XG5oLmJjPWZ1bmN0aW9uKGEsYil7dmFyIGM9VGUodGhpcyxiKTtpZihjKXJldHVybiBjLmJjKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLmJjKGEubmFtZSx3YyksZD1KYyhjKTtudWxsIT1kJiYwPmIuY29tcGFyZShkLGEpOylJYyhjKSxkPUpjKGMpO3JldHVybiBjfTtoLnhmPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRjKGEuVGMoKSxhKX07aC5kYz1mdW5jdGlvbihhLGIpe3ZhciBjPVRlKHRoaXMsYik7aWYoYylyZXR1cm4gYy5kYyhhLGZ1bmN0aW9uKGEpe3JldHVybiBhfSk7Zm9yKHZhciBjPXRoaXMubS5kYyhhLm5hbWUsd2MpLGQ9SmMoYyk7bnVsbCE9ZCYmMDxiLmNvbXBhcmUoZCxhKTspSWMoYyksZD1KYyhjKTtyZXR1cm4gY307aC5HYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lKCk/YS5lKCk/MDotMTphLkwoKXx8YS5lKCk/MTphPT09d2U/LTE6MH07XG5oLnBiPWZ1bmN0aW9uKGEpe2lmKGE9PT1yZXx8c2EodGhpcy5BYi5oYyxhLnRvU3RyaW5nKCkpKXJldHVybiB0aGlzO3ZhciBiPXRoaXMuQWIsYz10aGlzLm07TyhhIT09cmUsXCJLZXlJbmRleCBhbHdheXMgZXhpc3RzIGFuZCBpc24ndCBtZWFudCB0byBiZSBhZGRlZCB0byB0aGUgSW5kZXhNYXAuXCIpO2Zvcih2YXIgZD1bXSxlPSExLGM9Yy5hYyh3YyksZj1JYyhjKTtmOyllPWV8fGEuTGMoZi5VKSxkLnB1c2goZiksZj1JYyhjKTtkPWU/TWUoZCxWZChhKSk6dGU7ZT1hLnRvU3RyaW5nKCk7Yz13YShiLmhjKTtjW2VdPWE7YT13YShiLkVkKTthW2VdPWQ7cmV0dXJuIG5ldyBmZSh0aGlzLm0sdGhpcy5jYSxuZXcgS2UoYSxjKSl9O2guTWM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1yZXx8c2EodGhpcy5BYi5oYyxhLnRvU3RyaW5nKCkpfTtcbmguZWE9ZnVuY3Rpb24oYSl7aWYoYT09PXRoaXMpcmV0dXJuITA7aWYoYS5MKCkpcmV0dXJuITE7aWYodGhpcy5DKCkuZWEoYS5DKCkpJiZ0aGlzLm0uY291bnQoKT09PWEubS5jb3VudCgpKXt2YXIgYj10aGlzLmFjKFIpO2E9YS5hYyhSKTtmb3IodmFyIGM9SWMoYiksZD1JYyhhKTtjJiZkOyl7aWYoYy5uYW1lIT09ZC5uYW1lfHwhYy5VLmVhKGQuVSkpcmV0dXJuITE7Yz1JYyhiKTtkPUljKGEpfXJldHVybiBudWxsPT09YyYmbnVsbD09PWR9cmV0dXJuITF9O2Z1bmN0aW9uIFRlKGEsYil7cmV0dXJuIGI9PT1yZT9udWxsOmEuQWIuZ2V0KGIudG9TdHJpbmcoKSl9aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBHKHRoaXMuSighMCkpfTtmdW5jdGlvbiBRKGEsYil7aWYobnVsbD09PWEpcmV0dXJuIEg7dmFyIGM9bnVsbDtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnByaW9yaXR5XCJpbiBhP2M9YVtcIi5wcmlvcml0eVwiXTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGImJihjPWIpO08obnVsbD09PWN8fFwic3RyaW5nXCI9PT10eXBlb2YgY3x8XCJudW1iZXJcIj09PXR5cGVvZiBjfHxcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiLnN2XCJpbiBjLFwiSW52YWxpZCBwcmlvcml0eSB0eXBlIGZvdW5kOiBcIit0eXBlb2YgYyk7XCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIi52YWx1ZVwiaW4gYSYmbnVsbCE9PWFbXCIudmFsdWVcIl0mJihhPWFbXCIudmFsdWVcIl0pO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8XCIuc3ZcImluIGEpcmV0dXJuIG5ldyBZYyhhLFEoYykpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGQ9SCxlPWE7dihlLGZ1bmN0aW9uKGEsYil7aWYoeShlLGIpJiZcIi5cIiE9PWIuc3Vic3RyaW5nKDAsMSkpe3ZhciBjPVEoYSk7aWYoYy5MKCl8fCFjLmUoKSlkPVxuZC5XKGIsYyl9fSk7cmV0dXJuIGQuaWEoUShjKSl9dmFyIGY9W10sZz0hMSxrPWE7RmIoayxmdW5jdGlvbihhKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGF8fFwiLlwiIT09YS5zdWJzdHJpbmcoMCwxKSl7dmFyIGI9UShrW2FdKTtiLmUoKXx8KGc9Z3x8IWIuQygpLmUoKSxmLnB1c2gobmV3IEwoYSxiKSkpfX0pO2lmKDA9PWYubGVuZ3RoKXJldHVybiBIO3ZhciBtPU1lKGYseGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZX0semMpO2lmKGcpe3ZhciBsPU1lKGYsVmQoUikpO3JldHVybiBuZXcgZmUobSxRKGMpLG5ldyBLZSh7XCIucHJpb3JpdHlcIjpsfSx7XCIucHJpb3JpdHlcIjpSfSkpfXJldHVybiBuZXcgZmUobSxRKGMpLE9lKX12YXIgVWU9TWF0aC5sb2coMik7XG5mdW5jdGlvbiBWZShhKXt0aGlzLmNvdW50PXBhcnNlSW50KE1hdGgubG9nKGErMSkvVWUsMTApO3RoaXMubmY9dGhpcy5jb3VudC0xO3RoaXMubmc9YSsxJnBhcnNlSW50KEFycmF5KHRoaXMuY291bnQrMSkuam9pbihcIjFcIiksMil9ZnVuY3Rpb24gV2UoYSl7dmFyIGI9IShhLm5nJjE8PGEubmYpO2EubmYtLTtyZXR1cm4gYn1cbmZ1bmN0aW9uIE1lKGEsYixjLGQpe2Z1bmN0aW9uIGUoYixkKXt2YXIgZj1kLWI7aWYoMD09ZilyZXR1cm4gbnVsbDtpZigxPT1mKXt2YXIgbD1hW2JdLHQ9Yz9jKGwpOmw7cmV0dXJuIG5ldyBLYyh0LGwuVSwhMSxudWxsLG51bGwpfXZhciBsPXBhcnNlSW50KGYvMiwxMCkrYixmPWUoYixsKSxBPWUobCsxLGQpLGw9YVtsXSx0PWM/YyhsKTpsO3JldHVybiBuZXcgS2ModCxsLlUsITEsZixBKX1hLnNvcnQoYik7dmFyIGY9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gZChiLGcpe3ZhciBrPXQtYixBPXQ7dC09Yjt2YXIgQT1lKGsrMSxBKSxrPWFba10sST1jP2Moayk6ayxBPW5ldyBLYyhJLGsuVSxnLG51bGwsQSk7Zj9mLmxlZnQ9QTpsPUE7Zj1BfWZvcih2YXIgZj1udWxsLGw9bnVsbCx0PWEubGVuZ3RoLEE9MDtBPGIuY291bnQ7KytBKXt2YXIgST1XZShiKSxRZD1NYXRoLnBvdygyLGIuY291bnQtKEErMSkpO0k/ZChRZCwhMSk6KGQoUWQsITEpLGQoUWQsITApKX1yZXR1cm4gbH0obmV3IFZlKGEubGVuZ3RoKSk7XG5yZXR1cm4gbnVsbCE9PWY/bmV3IEVjKGR8fGIsZik6bmV3IEVjKGR8fGIpfWZ1bmN0aW9uIFJlKGEpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgYT9cIm51bWJlcjpcIitBZChhKTpcInN0cmluZzpcIithfWZ1bmN0aW9uIFBlKGEpe2lmKGEuTCgpKXt2YXIgYj1hLkooKTtPKFwic3RyaW5nXCI9PT10eXBlb2YgYnx8XCJudW1iZXJcIj09PXR5cGVvZiBifHxcIm9iamVjdFwiPT09dHlwZW9mIGImJnkoYixcIi5zdlwiKSxcIlByaW9yaXR5IG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyLlwiKX1lbHNlIE8oYT09PXdlfHxhLmUoKSxcInByaW9yaXR5IG9mIHVuZXhwZWN0ZWQgdHlwZS5cIik7TyhhPT09d2V8fGEuQygpLmUoKSxcIlByaW9yaXR5IG5vZGVzIGNhbid0IGhhdmUgYSBwcmlvcml0eSBvZiB0aGVpciBvd24uXCIpfXZhciBIPW5ldyBmZShuZXcgRWMoemMpLG51bGwsT2UpO2Z1bmN0aW9uIFhlKCl7ZmUuY2FsbCh0aGlzLG5ldyBFYyh6YyksSCxPZSl9a2EoWGUsZmUpO2g9WGUucHJvdG90eXBlO1xuaC5HYz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXM/MDoxfTtoLmVhPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc307aC5DPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2guVD1mdW5jdGlvbigpe3JldHVybiBIfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIHdlPW5ldyBYZSx1ZT1uZXcgTChcIltNSU5fTkFNRV1cIixIKSxBZT1uZXcgTChcIltNQVhfTkFNRV1cIix3ZSk7ZnVuY3Rpb24gamUoYSxiKXt0aGlzLlE9YTt0aGlzLmFlPWJ9ZnVuY3Rpb24gZ2UoYSxiLGMsZCl7cmV0dXJuIG5ldyBqZShuZXcgWGIoYixjLGQpLGEuYWUpfWZ1bmN0aW9uIGtlKGEpe3JldHVybiBhLlEuZ2E/YS5RLmooKTpudWxsfWplLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWV9O2Z1bmN0aW9uIFliKGEpe3JldHVybiBhLmFlLmdhP2EuYWUuaigpOm51bGx9O2Z1bmN0aW9uIFllKGEsYil7dGhpcy5ZPWE7dmFyIGM9YS5uLGQ9bmV3IExkKGMuZyksYz1IZShjKT9uZXcgTGQoYy5nKTpjLmxhP25ldyBTZChjKTpuZXcgTWQoYyk7dGhpcy5OZj1uZXcgWmQoYyk7dmFyIGU9Yi53KCksZj1iLlEsZz1kLnlhKEgsZS5qKCksbnVsbCksaz1jLnlhKEgsZi5qKCksbnVsbCk7dGhpcy5PYT1uZXcgamUobmV3IFhiKGssZi5nYSxjLlJhKCkpLG5ldyBYYihnLGUuZ2EsZC5SYSgpKSk7dGhpcy4kYT1bXTt0aGlzLnVnPW5ldyBGZChhKX1mdW5jdGlvbiBaZShhKXtyZXR1cm4gYS5ZfWg9WWUucHJvdG90eXBlO2gudz1mdW5jdGlvbigpe3JldHVybiB0aGlzLk9hLncoKS5qKCl9O2gua2I9ZnVuY3Rpb24oYSl7dmFyIGI9WWIodGhpcy5PYSk7cmV0dXJuIGImJihIZSh0aGlzLlkubil8fCFhLmUoKSYmIWIuVChLKGEpKS5lKCkpP2IuUyhhKTpudWxsfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuJGEubGVuZ3RofTtoLlRiPWZ1bmN0aW9uKGEpe3RoaXMuJGEucHVzaChhKX07XG5oLm5iPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYoYil7TyhudWxsPT1hLFwiQSBjYW5jZWwgc2hvdWxkIGNhbmNlbCBhbGwgZXZlbnQgcmVnaXN0cmF0aW9ucy5cIik7dmFyIGQ9dGhpcy5ZLnBhdGg7TWEodGhpcy4kYSxmdW5jdGlvbihhKXsoYT1hLmxmKGIsZCkpJiZjLnB1c2goYSl9KX1pZihhKXtmb3IodmFyIGU9W10sZj0wO2Y8dGhpcy4kYS5sZW5ndGg7KytmKXt2YXIgZz10aGlzLiRhW2ZdO2lmKCFnLm1hdGNoZXMoYSkpZS5wdXNoKGcpO2Vsc2UgaWYoYS55ZigpKXtlPWUuY29uY2F0KHRoaXMuJGEuc2xpY2UoZisxKSk7YnJlYWt9fXRoaXMuJGE9ZX1lbHNlIHRoaXMuJGE9W107cmV0dXJuIGN9O1xuaC5nYj1mdW5jdGlvbihhLGIsYyl7YS50eXBlPT09YmUmJm51bGwhPT1hLnNvdXJjZS5MYiYmKE8oWWIodGhpcy5PYSksXCJXZSBzaG91bGQgYWx3YXlzIGhhdmUgYSBmdWxsIGNhY2hlIGJlZm9yZSBoYW5kbGluZyBtZXJnZXNcIiksTyhrZSh0aGlzLk9hKSxcIk1pc3NpbmcgZXZlbnQgY2FjaGUsIGV2ZW4gdGhvdWdoIHdlIGhhdmUgYSBzZXJ2ZXIgY2FjaGVcIikpO3ZhciBkPXRoaXMuT2E7YT10aGlzLk5mLmdiKGQsYSxiLGMpO2I9dGhpcy5OZjtjPWEubWU7TyhjLlEuaigpLk1jKGIuWC5nKSxcIkV2ZW50IHNuYXAgbm90IGluZGV4ZWRcIik7TyhjLncoKS5qKCkuTWMoYi5YLmcpLFwiU2VydmVyIHNuYXAgbm90IGluZGV4ZWRcIik7TyhsYyhhLm1lLncoKSl8fCFsYyhkLncoKSksXCJPbmNlIGEgc2VydmVyIHNuYXAgaXMgY29tcGxldGUsIGl0IHNob3VsZCBuZXZlciBnbyBiYWNrXCIpO3RoaXMuT2E9YS5tZTtyZXR1cm4gJGUodGhpcyxhLm9nLGEubWUuUS5qKCksbnVsbCl9O1xuZnVuY3Rpb24gYWYoYSxiKXt2YXIgYz1hLk9hLlEsZD1bXTtjLmooKS5MKCl8fGMuaigpLlIoUixmdW5jdGlvbihhLGIpe2QucHVzaChuZXcgSihcImNoaWxkX2FkZGVkXCIsYixhKSl9KTtjLmdhJiZkLnB1c2goaGMoYy5qKCkpKTtyZXR1cm4gJGUoYSxkLGMuaigpLGIpfWZ1bmN0aW9uICRlKGEsYixjLGQpe3JldHVybiBHZChhLnVnLGIsYyxkP1tkXTphLiRhKX07ZnVuY3Rpb24gYmYoYSxiLGMpe3RoaXMudHlwZT1iZTt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1iO3RoaXMuY2hpbGRyZW49Y31iZi5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oYSl7aWYodGhpcy5wYXRoLmUoKSlyZXR1cm4gYT10aGlzLmNoaWxkcmVuLnN1YnRyZWUobmV3IFAoYSkpLGEuZSgpP251bGw6YS52YWx1ZT9uZXcgQWModGhpcy5zb3VyY2UsTSxhLnZhbHVlKTpuZXcgYmYodGhpcy5zb3VyY2UsTSxhKTtPKEsodGhpcy5wYXRoKT09PWEsXCJDYW4ndCBnZXQgYSBtZXJnZSBmb3IgYSBjaGlsZCBub3Qgb24gdGhlIHBhdGggb2YgdGhlIG9wZXJhdGlvblwiKTtyZXR1cm4gbmV3IGJmKHRoaXMuc291cmNlLE4odGhpcy5wYXRoKSx0aGlzLmNoaWxkcmVuKX07YmYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIG1lcmdlOiBcIit0aGlzLmNoaWxkcmVuLnRvU3RyaW5nKCkrXCIpXCJ9O2Z1bmN0aW9uIGNmKGEsYil7dGhpcy5mPXBkKFwicDpyZXN0OlwiKTt0aGlzLkc9YTt0aGlzLktiPWI7dGhpcy5DYT1udWxsO3RoaXMuYmE9e319ZnVuY3Rpb24gZGYoYSxiKXtpZihwKGIpKXJldHVyblwidGFnJFwiK2I7TyhJZShhLm4pLFwic2hvdWxkIGhhdmUgYSB0YWcgaWYgaXQncyBub3QgYSBkZWZhdWx0IHF1ZXJ5LlwiKTtyZXR1cm4gYS5wYXRoLnRvU3RyaW5nKCl9aD1jZi5wcm90b3R5cGU7XG5oLkNmPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEucGF0aC50b1N0cmluZygpO3RoaXMuZihcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK2UrXCIgXCIrYS53YSgpKTt2YXIgZj1kZihhLGMpLGc9e307dGhpcy5iYVtmXT1nO2E9SmUoYS5uKTt2YXIgaz10aGlzO2VmKHRoaXMsZStcIi5qc29uXCIsYSxmdW5jdGlvbihhLGIpe3ZhciB0PWI7NDA0PT09YSYmKGE9dD1udWxsKTtudWxsPT09YSYmay5LYihlLHQsITEsYyk7eihrLmJhLGYpPT09ZyYmZChhPzQwMT09YT9cInBlcm1pc3Npb25fZGVuaWVkXCI6XCJyZXN0X2Vycm9yOlwiK2E6XCJva1wiLG51bGwpfSl9O2guJGY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kZihhLGIpO2RlbGV0ZSB0aGlzLmJhW2NdfTtoLk89ZnVuY3Rpb24oYSxiKXt0aGlzLkNhPWE7dmFyIGM9Q2QoYSksZD1jLmRhdGEsYz1jLkVjJiZjLkVjLmV4cDtiJiZiKFwib2tcIix7YXV0aDpkLGV4cGlyZXM6Y30pfTtoLmplPWZ1bmN0aW9uKGEpe3RoaXMuQ2E9bnVsbDthKFwib2tcIixudWxsKX07XG5oLlFlPWZ1bmN0aW9uKCl7fTtoLkdmPWZ1bmN0aW9uKCl7fTtoLk1kPWZ1bmN0aW9uKCl7fTtoLnB1dD1mdW5jdGlvbigpe307aC5EZj1mdW5jdGlvbigpe307aC5ZZT1mdW5jdGlvbigpe307XG5mdW5jdGlvbiBlZihhLGIsYyxkKXtjPWN8fHt9O2MuZm9ybWF0PVwiZXhwb3J0XCI7YS5DYSYmKGMuYXV0aD1hLkNhKTt2YXIgZT0oYS5HLm9iP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrYS5HLmhvc3QrYitcIj9cIitJYihjKTthLmYoXCJTZW5kaW5nIFJFU1QgcmVxdWVzdCBmb3IgXCIrZSk7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O2Yub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoZCYmND09PWYucmVhZHlTdGF0ZSl7YS5mKFwiUkVTVCBSZXNwb25zZSBmb3IgXCIrZStcIiByZWNlaXZlZC4gc3RhdHVzOlwiLGYuc3RhdHVzLFwicmVzcG9uc2U6XCIsZi5yZXNwb25zZVRleHQpO3ZhciBiPW51bGw7aWYoMjAwPD1mLnN0YXR1cyYmMzAwPmYuc3RhdHVzKXt0cnl7Yj1SYihmLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYyl7UyhcIkZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlIGZvciBcIitlK1wiOiBcIitmLnJlc3BvbnNlVGV4dCl9ZChudWxsLGIpfWVsc2UgNDAxIT09Zi5zdGF0dXMmJjQwNCE9PVxuZi5zdGF0dXMmJlMoXCJHb3QgdW5zdWNjZXNzZnVsIFJFU1QgcmVzcG9uc2UgZm9yIFwiK2UrXCIgU3RhdHVzOiBcIitmLnN0YXR1cyksZChmLnN0YXR1cyk7ZD1udWxsfX07Zi5vcGVuKFwiR0VUXCIsZSwhMCk7Zi5zZW5kKCl9O2Z1bmN0aW9uIGZmKGEpe08oZGEoYSkmJjA8YS5sZW5ndGgsXCJSZXF1aXJlcyBhIG5vbi1lbXB0eSBhcnJheVwiKTt0aGlzLmZnPWE7dGhpcy5SYz17fX1mZi5wcm90b3R5cGUuaWU9ZnVuY3Rpb24oYSxiKXt2YXIgYztjPXRoaXMuUmNbYV18fFtdO3ZhciBkPWMubGVuZ3RoO2lmKDA8ZCl7Zm9yKHZhciBlPUFycmF5KGQpLGY9MDtmPGQ7ZisrKWVbZl09Y1tmXTtjPWV9ZWxzZSBjPVtdO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5EYy5hcHBseShjW2RdLlFhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9O2ZmLnByb3RvdHlwZS5JYj1mdW5jdGlvbihhLGIsYyl7Z2YodGhpcyxhKTt0aGlzLlJjW2FdPXRoaXMuUmNbYV18fFtdO3RoaXMuUmNbYV0ucHVzaCh7RGM6YixRYTpjfSk7KGE9dGhpcy5FZShhKSkmJmIuYXBwbHkoYyxhKX07XG5mZi5wcm90b3R5cGUubWM9ZnVuY3Rpb24oYSxiLGMpe2dmKHRoaXMsYSk7YT10aGlzLlJjW2FdfHxbXTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihhW2RdLkRjPT09YiYmKCFjfHxjPT09YVtkXS5RYSkpe2Euc3BsaWNlKGQsMSk7YnJlYWt9fTtmdW5jdGlvbiBnZihhLGIpe08oUmEoYS5mZyxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9KSxcIlVua25vd24gZXZlbnQ6IFwiK2IpfTt2YXIgaGY9ZnVuY3Rpb24oKXt2YXIgYT0wLGI9W107cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWM9PT1hO2E9Yztmb3IodmFyIGU9QXJyYXkoOCksZj03OzA8PWY7Zi0tKWVbZl09XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGMlNjQpLGM9TWF0aC5mbG9vcihjLzY0KTtPKDA9PT1jLFwiQ2Fubm90IHB1c2ggYXQgdGltZSA9PSAwXCIpO2M9ZS5qb2luKFwiXCIpO2lmKGQpe2ZvcihmPTExOzA8PWYmJjYzPT09YltmXTtmLS0pYltmXT0wO2JbZl0rK31lbHNlIGZvcihmPTA7MTI+ZjtmKyspYltmXT1NYXRoLmZsb29yKDY0Kk1hdGgucmFuZG9tKCkpO2ZvcihmPTA7MTI+ZjtmKyspYys9XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGJbZl0pO08oMjA9PT1jLmxlbmd0aCxcIm5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpO1xucmV0dXJuIGN9fSgpO2Z1bmN0aW9uIGpmKCl7ZmYuY2FsbCh0aGlzLFtcIm9ubGluZVwiXSk7dGhpcy5vYz0hMDtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGE9dGhpczt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLGZ1bmN0aW9uKCl7YS5vY3x8KGEub2M9ITAsYS5pZShcIm9ubGluZVwiLCEwKSl9LCExKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIixmdW5jdGlvbigpe2Eub2MmJihhLm9jPSExLGEuaWUoXCJvbmxpbmVcIiwhMSkpfSwhMSl9fWthKGpmLGZmKTtqZi5wcm90b3R5cGUuRWU9ZnVuY3Rpb24oYSl7TyhcIm9ubGluZVwiPT09YSxcIlVua25vd24gZXZlbnQgdHlwZTogXCIrYSk7cmV0dXJuW3RoaXMub2NdfTtiYShqZik7ZnVuY3Rpb24ga2YoKXtmZi5jYWxsKHRoaXMsW1widmlzaWJsZVwiXSk7dmFyIGEsYjtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmhpZGRlbj8oYj1cInZpc2liaWxpdHljaGFuZ2VcIixhPVwiaGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQubW96SGlkZGVuPyhiPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtb3pIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5tc0hpZGRlbj8oYj1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtc0hpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiYmKGI9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIndlYmtpdEhpZGRlblwiKSk7dGhpcy5TYj0hMDtpZihiKXt2YXIgYz10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYixcbmZ1bmN0aW9uKCl7dmFyIGI9IWRvY3VtZW50W2FdO2IhPT1jLlNiJiYoYy5TYj1iLGMuaWUoXCJ2aXNpYmxlXCIsYikpfSwhMSl9fWthKGtmLGZmKTtrZi5wcm90b3R5cGUuRWU9ZnVuY3Rpb24oYSl7TyhcInZpc2libGVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLlNiXX07YmEoa2YpO2Z1bmN0aW9uIFAoYSxiKXtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXt0aGlzLnU9YS5zcGxpdChcIi9cIik7Zm9yKHZhciBjPTAsZD0wO2Q8dGhpcy51Lmxlbmd0aDtkKyspMDx0aGlzLnVbZF0ubGVuZ3RoJiYodGhpcy51W2NdPXRoaXMudVtkXSxjKyspO3RoaXMudS5sZW5ndGg9Yzt0aGlzLmFhPTB9ZWxzZSB0aGlzLnU9YSx0aGlzLmFhPWJ9ZnVuY3Rpb24gbGYoYSxiKXt2YXIgYz1LKGEpO2lmKG51bGw9PT1jKXJldHVybiBiO2lmKGM9PT1LKGIpKXJldHVybiBsZihOKGEpLE4oYikpO3Rocm93IEVycm9yKFwiSU5URVJOQUwgRVJST1I6IGlubmVyUGF0aCAoXCIrYitcIikgaXMgbm90IHdpdGhpbiBvdXRlclBhdGggKFwiK2ErXCIpXCIpO31cbmZ1bmN0aW9uIG1mKGEsYil7Zm9yKHZhciBjPWEuc2xpY2UoKSxkPWIuc2xpY2UoKSxlPTA7ZTxjLmxlbmd0aCYmZTxkLmxlbmd0aDtlKyspe3ZhciBmPXljKGNbZV0sZFtlXSk7aWYoMCE9PWYpcmV0dXJuIGZ9cmV0dXJuIGMubGVuZ3RoPT09ZC5sZW5ndGg/MDpjLmxlbmd0aDxkLmxlbmd0aD8tMToxfWZ1bmN0aW9uIEsoYSl7cmV0dXJuIGEuYWE+PWEudS5sZW5ndGg/bnVsbDphLnVbYS5hYV19ZnVuY3Rpb24gbGUoYSl7cmV0dXJuIGEudS5sZW5ndGgtYS5hYX1mdW5jdGlvbiBOKGEpe3ZhciBiPWEuYWE7YjxhLnUubGVuZ3RoJiZiKys7cmV0dXJuIG5ldyBQKGEudSxiKX1mdW5jdGlvbiBtZShhKXtyZXR1cm4gYS5hYTxhLnUubGVuZ3RoP2EudVthLnUubGVuZ3RoLTFdOm51bGx9aD1QLnByb3RvdHlwZTtcbmgudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixiPXRoaXMuYWE7Yjx0aGlzLnUubGVuZ3RoO2IrKylcIlwiIT09dGhpcy51W2JdJiYoYSs9XCIvXCIrdGhpcy51W2JdKTtyZXR1cm4gYXx8XCIvXCJ9O2guc2xpY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudS5zbGljZSh0aGlzLmFhKyhhfHwwKSl9O2gucGFyZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5hYT49dGhpcy51Lmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGE9W10sYj10aGlzLmFhO2I8dGhpcy51Lmxlbmd0aC0xO2IrKylhLnB1c2godGhpcy51W2JdKTtyZXR1cm4gbmV3IFAoYSwwKX07XG5oLm89ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5hYTtjPHRoaXMudS5sZW5ndGg7YysrKWIucHVzaCh0aGlzLnVbY10pO2lmKGEgaW5zdGFuY2VvZiBQKWZvcihjPWEuYWE7YzxhLnUubGVuZ3RoO2MrKyliLnB1c2goYS51W2NdKTtlbHNlIGZvcihhPWEuc3BsaXQoXCIvXCIpLGM9MDtjPGEubGVuZ3RoO2MrKykwPGFbY10ubGVuZ3RoJiZiLnB1c2goYVtjXSk7cmV0dXJuIG5ldyBQKGIsMCl9O2guZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFhPj10aGlzLnUubGVuZ3RofTtoLmVhPWZ1bmN0aW9uKGEpe2lmKGxlKHRoaXMpIT09bGUoYSkpcmV0dXJuITE7Zm9yKHZhciBiPXRoaXMuYWEsYz1hLmFhO2I8PXRoaXMudS5sZW5ndGg7YisrLGMrKylpZih0aGlzLnVbYl0hPT1hLnVbY10pcmV0dXJuITE7cmV0dXJuITB9O1xuaC5jb250YWlucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFhLGM9YS5hYTtpZihsZSh0aGlzKT5sZShhKSlyZXR1cm4hMTtmb3IoO2I8dGhpcy51Lmxlbmd0aDspe2lmKHRoaXMudVtiXSE9PWEudVtjXSlyZXR1cm4hMTsrK2I7KytjfXJldHVybiEwfTt2YXIgTT1uZXcgUChcIlwiKTtmdW5jdGlvbiBuZihhLGIpe3RoaXMuVWE9YS5zbGljZSgpO3RoaXMuS2E9TWF0aC5tYXgoMSx0aGlzLlVhLmxlbmd0aCk7dGhpcy5wZj1iO2Zvcih2YXIgYz0wO2M8dGhpcy5VYS5sZW5ndGg7YysrKXRoaXMuS2ErPVBiKHRoaXMuVWFbY10pO29mKHRoaXMpfW5mLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEpezA8dGhpcy5VYS5sZW5ndGgmJih0aGlzLkthKz0xKTt0aGlzLlVhLnB1c2goYSk7dGhpcy5LYSs9UGIoYSk7b2YodGhpcyl9O25mLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlVhLnBvcCgpO3RoaXMuS2EtPVBiKGEpOzA8dGhpcy5VYS5sZW5ndGgmJi0tdGhpcy5LYX07XG5mdW5jdGlvbiBvZihhKXtpZig3Njg8YS5LYSl0aHJvdyBFcnJvcihhLnBmK1wiaGFzIGEga2V5IHBhdGggbG9uZ2VyIHRoYW4gNzY4IGJ5dGVzIChcIithLkthK1wiKS5cIik7aWYoMzI8YS5VYS5sZW5ndGgpdGhyb3cgRXJyb3IoYS5wZitcInBhdGggc3BlY2lmaWVkIGV4Y2VlZHMgdGhlIG1heGltdW0gZGVwdGggdGhhdCBjYW4gYmUgd3JpdHRlbiAoMzIpIG9yIG9iamVjdCBjb250YWlucyBhIGN5Y2xlIFwiK3BmKGEpKTt9ZnVuY3Rpb24gcGYoYSl7cmV0dXJuIDA9PWEuVWEubGVuZ3RoP1wiXCI6XCJpbiBwcm9wZXJ0eSAnXCIrYS5VYS5qb2luKFwiLlwiKStcIidcIn07ZnVuY3Rpb24gcWYoYSxiKXt0aGlzLnZhbHVlPWE7dGhpcy5jaGlsZHJlbj1ifHxyZn12YXIgcmY9bmV3IEVjKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iPzA6YTxiPy0xOjF9KTtmdW5jdGlvbiBzZihhKXt2YXIgYj1xZTt2KGEsZnVuY3Rpb24oYSxkKXtiPWIuc2V0KG5ldyBQKGQpLGEpfSk7cmV0dXJuIGJ9aD1xZi5wcm90b3R5cGU7aC5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnZhbHVlJiZ0aGlzLmNoaWxkcmVuLmUoKX07ZnVuY3Rpb24gdGYoYSxiLGMpe2lmKG51bGwhPWEudmFsdWUmJmMoYS52YWx1ZSkpcmV0dXJue3BhdGg6TSx2YWx1ZTphLnZhbHVlfTtpZihiLmUoKSlyZXR1cm4gbnVsbDt2YXIgZD1LKGIpO2E9YS5jaGlsZHJlbi5nZXQoZCk7cmV0dXJuIG51bGwhPT1hPyhiPXRmKGEsTihiKSxjKSxudWxsIT1iP3twYXRoOihuZXcgUChkKSkubyhiLnBhdGgpLHZhbHVlOmIudmFsdWV9Om51bGwpOm51bGx9XG5mdW5jdGlvbiB1ZihhLGIpe3JldHVybiB0ZihhLGIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pfWguc3VidHJlZT1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChLKGEpKTtyZXR1cm4gbnVsbCE9PWI/Yi5zdWJ0cmVlKE4oYSkpOnFlfTtoLnNldD1mdW5jdGlvbihhLGIpe2lmKGEuZSgpKXJldHVybiBuZXcgcWYoYix0aGlzLmNoaWxkcmVuKTt2YXIgYz1LKGEpLGQ9KHRoaXMuY2hpbGRyZW4uZ2V0KGMpfHxxZSkuc2V0KE4oYSksYiksYz10aGlzLmNoaWxkcmVuLlNhKGMsZCk7cmV0dXJuIG5ldyBxZih0aGlzLnZhbHVlLGMpfTtcbmgucmVtb3ZlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzLmNoaWxkcmVuLmUoKT9xZTpuZXcgcWYobnVsbCx0aGlzLmNoaWxkcmVuKTt2YXIgYj1LKGEpLGM9dGhpcy5jaGlsZHJlbi5nZXQoYik7cmV0dXJuIGM/KGE9Yy5yZW1vdmUoTihhKSksYj1hLmUoKT90aGlzLmNoaWxkcmVuLnJlbW92ZShiKTp0aGlzLmNoaWxkcmVuLlNhKGIsYSksbnVsbD09PXRoaXMudmFsdWUmJmIuZSgpP3FlOm5ldyBxZih0aGlzLnZhbHVlLGIpKTp0aGlzfTtoLmdldD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpcy52YWx1ZTt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChLKGEpKTtyZXR1cm4gYj9iLmdldChOKGEpKTpudWxsfTtcbmZ1bmN0aW9uIHBlKGEsYixjKXtpZihiLmUoKSlyZXR1cm4gYzt2YXIgZD1LKGIpO2I9cGUoYS5jaGlsZHJlbi5nZXQoZCl8fHFlLE4oYiksYyk7ZD1iLmUoKT9hLmNoaWxkcmVuLnJlbW92ZShkKTphLmNoaWxkcmVuLlNhKGQsYik7cmV0dXJuIG5ldyBxZihhLnZhbHVlLGQpfWZ1bmN0aW9uIHZmKGEsYil7cmV0dXJuIHdmKGEsTSxiKX1mdW5jdGlvbiB3ZihhLGIsYyl7dmFyIGQ9e307YS5jaGlsZHJlbi5rYShmdW5jdGlvbihhLGYpe2RbYV09d2YoZixiLm8oYSksYyl9KTtyZXR1cm4gYyhiLGEudmFsdWUsZCl9ZnVuY3Rpb24geGYoYSxiLGMpe3JldHVybiB5ZihhLGIsTSxjKX1mdW5jdGlvbiB5ZihhLGIsYyxkKXt2YXIgZT1hLnZhbHVlP2QoYyxhLnZhbHVlKTohMTtpZihlKXJldHVybiBlO2lmKGIuZSgpKXJldHVybiBudWxsO2U9SyhiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/eWYoYSxOKGIpLGMubyhlKSxkKTpudWxsfVxuZnVuY3Rpb24gemYoYSxiLGMpe0FmKGEsYixNLGMpfWZ1bmN0aW9uIEFmKGEsYixjLGQpe2lmKGIuZSgpKXJldHVybiBhO2EudmFsdWUmJmQoYyxhLnZhbHVlKTt2YXIgZT1LKGIpO3JldHVybihhPWEuY2hpbGRyZW4uZ2V0KGUpKT9BZihhLE4oYiksYy5vKGUpLGQpOnFlfWZ1bmN0aW9uIG5lKGEsYil7QmYoYSxNLGIpfWZ1bmN0aW9uIEJmKGEsYixjKXthLmNoaWxkcmVuLmthKGZ1bmN0aW9uKGEsZSl7QmYoZSxiLm8oYSksYyl9KTthLnZhbHVlJiZjKGIsYS52YWx1ZSl9ZnVuY3Rpb24gQ2YoYSxiKXthLmNoaWxkcmVuLmthKGZ1bmN0aW9uKGEsZCl7ZC52YWx1ZSYmYihhLGQudmFsdWUpfSl9dmFyIHFlPW5ldyBxZihudWxsKTtxZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT17fTtuZSh0aGlzLGZ1bmN0aW9uKGIsYyl7YVtiLnRvU3RyaW5nKCldPWMudG9TdHJpbmcoKX0pO3JldHVybiBHKGEpfTtmdW5jdGlvbiBEZihhLGIsYyl7dGhpcy50eXBlPWVlO3RoaXMuc291cmNlPUVmO3RoaXMucGF0aD1hO3RoaXMuVWI9Yjt0aGlzLllkPWN9RGYucHJvdG90eXBlLiRjPWZ1bmN0aW9uKGEpe2lmKHRoaXMucGF0aC5lKCkpe2lmKG51bGwhPXRoaXMuVWIudmFsdWUpcmV0dXJuIE8odGhpcy5VYi5jaGlsZHJlbi5lKCksXCJhZmZlY3RlZFRyZWUgc2hvdWxkIG5vdCBoYXZlIG92ZXJsYXBwaW5nIGFmZmVjdGVkIHBhdGhzLlwiKSx0aGlzO2E9dGhpcy5VYi5zdWJ0cmVlKG5ldyBQKGEpKTtyZXR1cm4gbmV3IERmKE0sYSx0aGlzLllkKX1PKEsodGhpcy5wYXRoKT09PWEsXCJvcGVyYXRpb25Gb3JDaGlsZCBjYWxsZWQgZm9yIHVucmVsYXRlZCBjaGlsZC5cIik7cmV0dXJuIG5ldyBEZihOKHRoaXMucGF0aCksdGhpcy5VYix0aGlzLllkKX07XG5EZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgYWNrIHdyaXRlIHJldmVydD1cIit0aGlzLllkK1wiIGFmZmVjdGVkVHJlZT1cIit0aGlzLlViK1wiKVwifTt2YXIgQmM9MCxiZT0xLGVlPTIsRGM9MztmdW5jdGlvbiBGZihhLGIsYyxkKXt0aGlzLkFlPWE7dGhpcy50Zj1iO3RoaXMuTGI9Yzt0aGlzLmVmPWQ7TyghZHx8YixcIlRhZ2dlZCBxdWVyaWVzIG11c3QgYmUgZnJvbSBzZXJ2ZXIuXCIpfXZhciBFZj1uZXcgRmYoITAsITEsbnVsbCwhMSksR2Y9bmV3IEZmKCExLCEwLG51bGwsITEpO0ZmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFlP1widXNlclwiOnRoaXMuZWY/XCJzZXJ2ZXIocXVlcnlJRD1cIit0aGlzLkxiK1wiKVwiOlwic2VydmVyXCJ9O2Z1bmN0aW9uIEhmKGEpe3RoaXMuWj1hfXZhciBJZj1uZXcgSGYobmV3IHFmKG51bGwpKTtmdW5jdGlvbiBKZihhLGIsYyl7aWYoYi5lKCkpcmV0dXJuIG5ldyBIZihuZXcgcWYoYykpO3ZhciBkPXVmKGEuWixiKTtpZihudWxsIT1kKXt2YXIgZT1kLnBhdGgsZD1kLnZhbHVlO2I9bGYoZSxiKTtkPWQuSChiLGMpO3JldHVybiBuZXcgSGYoYS5aLnNldChlLGQpKX1hPXBlKGEuWixiLG5ldyBxZihjKSk7cmV0dXJuIG5ldyBIZihhKX1mdW5jdGlvbiBLZihhLGIsYyl7dmFyIGQ9YTtGYihjLGZ1bmN0aW9uKGEsYyl7ZD1KZihkLGIubyhhKSxjKX0pO3JldHVybiBkfUhmLnByb3RvdHlwZS5VZD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gSWY7YT1wZSh0aGlzLlosYSxxZSk7cmV0dXJuIG5ldyBIZihhKX07ZnVuY3Rpb24gTGYoYSxiKXt2YXIgYz11ZihhLlosYik7cmV0dXJuIG51bGwhPWM/YS5aLmdldChjLnBhdGgpLlMobGYoYy5wYXRoLGIpKTpudWxsfVxuZnVuY3Rpb24gTWYoYSl7dmFyIGI9W10sYz1hLloudmFsdWU7bnVsbCE9Yz9jLkwoKXx8Yy5SKFIsZnVuY3Rpb24oYSxjKXtiLnB1c2gobmV3IEwoYSxjKSl9KTphLlouY2hpbGRyZW4ua2EoZnVuY3Rpb24oYSxjKXtudWxsIT1jLnZhbHVlJiZiLnB1c2gobmV3IEwoYSxjLnZhbHVlKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBOZihhLGIpe2lmKGIuZSgpKXJldHVybiBhO3ZhciBjPUxmKGEsYik7cmV0dXJuIG51bGwhPWM/bmV3IEhmKG5ldyBxZihjKSk6bmV3IEhmKGEuWi5zdWJ0cmVlKGIpKX1IZi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlouZSgpfTtIZi5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7cmV0dXJuIE9mKE0sdGhpcy5aLGEpfTtcbmZ1bmN0aW9uIE9mKGEsYixjKXtpZihudWxsIT1iLnZhbHVlKXJldHVybiBjLkgoYSxiLnZhbHVlKTt2YXIgZD1udWxsO2IuY2hpbGRyZW4ua2EoZnVuY3Rpb24oYixmKXtcIi5wcmlvcml0eVwiPT09Yj8oTyhudWxsIT09Zi52YWx1ZSxcIlByaW9yaXR5IHdyaXRlcyBtdXN0IGFsd2F5cyBiZSBsZWFmIG5vZGVzXCIpLGQ9Zi52YWx1ZSk6Yz1PZihhLm8oYiksZixjKX0pO2MuUyhhKS5lKCl8fG51bGw9PT1kfHwoYz1jLkgoYS5vKFwiLnByaW9yaXR5XCIpLGQpKTtyZXR1cm4gY307ZnVuY3Rpb24gUGYoKXt0aGlzLlY9SWY7dGhpcy5wYT1bXTt0aGlzLlBjPS0xfWZ1bmN0aW9uIFFmKGEsYil7Zm9yKHZhciBjPTA7YzxhLnBhLmxlbmd0aDtjKyspe3ZhciBkPWEucGFbY107aWYoZC5tZD09PWIpcmV0dXJuIGR9cmV0dXJuIG51bGx9aD1QZi5wcm90b3R5cGU7XG5oLlVkPWZ1bmN0aW9uKGEpe3ZhciBiPVNhKHRoaXMucGEsZnVuY3Rpb24oYil7cmV0dXJuIGIubWQ9PT1hfSk7TygwPD1iLFwicmVtb3ZlV3JpdGUgY2FsbGVkIHdpdGggbm9uZXhpc3RlbnQgd3JpdGVJZC5cIik7dmFyIGM9dGhpcy5wYVtiXTt0aGlzLnBhLnNwbGljZShiLDEpO2Zvcih2YXIgZD1jLnZpc2libGUsZT0hMSxmPXRoaXMucGEubGVuZ3RoLTE7ZCYmMDw9Zjspe3ZhciBnPXRoaXMucGFbZl07Zy52aXNpYmxlJiYoZj49YiYmUmYoZyxjLnBhdGgpP2Q9ITE6Yy5wYXRoLmNvbnRhaW5zKGcucGF0aCkmJihlPSEwKSk7Zi0tfWlmKGQpe2lmKGUpdGhpcy5WPVNmKHRoaXMucGEsVGYsTSksdGhpcy5QYz0wPHRoaXMucGEubGVuZ3RoP3RoaXMucGFbdGhpcy5wYS5sZW5ndGgtMV0ubWQ6LTE7ZWxzZSBpZihjLkphKXRoaXMuVj10aGlzLlYuVWQoYy5wYXRoKTtlbHNle3ZhciBrPXRoaXM7dihjLmNoaWxkcmVuLGZ1bmN0aW9uKGEsYil7ay5WPWsuVi5VZChjLnBhdGgubyhiKSl9KX1yZXR1cm4hMH1yZXR1cm4hMX07XG5oLkFhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGN8fGQpe3ZhciBlPU5mKHRoaXMuVixhKTtyZXR1cm4hZCYmZS5lKCk/YjpkfHxudWxsIT1ifHxudWxsIT1MZihlLE0pPyhlPVNmKHRoaXMucGEsZnVuY3Rpb24oYil7cmV0dXJuKGIudmlzaWJsZXx8ZCkmJighY3x8ISgwPD1MYShjLGIubWQpKSkmJihiLnBhdGguY29udGFpbnMoYSl8fGEuY29udGFpbnMoYi5wYXRoKSl9LGEpLGI9Ynx8SCxlLmFwcGx5KGIpKTpudWxsfWU9TGYodGhpcy5WLGEpO2lmKG51bGwhPWUpcmV0dXJuIGU7ZT1OZih0aGlzLlYsYSk7cmV0dXJuIGUuZSgpP2I6bnVsbCE9Ynx8bnVsbCE9TGYoZSxNKT8oYj1ifHxILGUuYXBwbHkoYikpOm51bGx9O1xuaC5DYz1mdW5jdGlvbihhLGIpe3ZhciBjPUgsZD1MZih0aGlzLlYsYSk7aWYoZClkLkwoKXx8ZC5SKFIsZnVuY3Rpb24oYSxiKXtjPWMuVyhhLGIpfSk7ZWxzZSBpZihiKXt2YXIgZT1OZih0aGlzLlYsYSk7Yi5SKFIsZnVuY3Rpb24oYSxiKXt2YXIgZD1OZihlLG5ldyBQKGEpKS5hcHBseShiKTtjPWMuVyhhLGQpfSk7TWEoTWYoZSksZnVuY3Rpb24oYSl7Yz1jLlcoYS5uYW1lLGEuVSl9KX1lbHNlIGU9TmYodGhpcy5WLGEpLE1hKE1mKGUpLGZ1bmN0aW9uKGEpe2M9Yy5XKGEubmFtZSxhLlUpfSk7cmV0dXJuIGN9O2gubmQ9ZnVuY3Rpb24oYSxiLGMsZCl7TyhjfHxkLFwiRWl0aGVyIGV4aXN0aW5nRXZlbnRTbmFwIG9yIGV4aXN0aW5nU2VydmVyU25hcCBtdXN0IGV4aXN0XCIpO2E9YS5vKGIpO2lmKG51bGwhPUxmKHRoaXMuVixhKSlyZXR1cm4gbnVsbDthPU5mKHRoaXMuVixhKTtyZXR1cm4gYS5lKCk/ZC5TKGIpOmEuYXBwbHkoZC5TKGIpKX07XG5oLkJjPWZ1bmN0aW9uKGEsYixjKXthPWEubyhiKTt2YXIgZD1MZih0aGlzLlYsYSk7cmV0dXJuIG51bGwhPWQ/ZDpXYihjLGIpP05mKHRoaXMuVixhKS5hcHBseShjLmooKS5UKGIpKTpudWxsfTtoLnhjPWZ1bmN0aW9uKGEpe3JldHVybiBMZih0aGlzLlYsYSl9O2gucWU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnO2E9TmYodGhpcy5WLGEpO2c9TGYoYSxNKTtpZihudWxsPT1nKWlmKG51bGwhPWIpZz1hLmFwcGx5KGIpO2Vsc2UgcmV0dXJuW107Zz1nLnBiKGYpO2lmKGcuZSgpfHxnLkwoKSlyZXR1cm5bXTtiPVtdO2E9VmQoZik7ZT1lP2cuZGMoYyxmKTpnLmJjKGMsZik7Zm9yKGY9SWMoZSk7ZiYmYi5sZW5ndGg8ZDspMCE9PWEoZixjKSYmYi5wdXNoKGYpLGY9SWMoZSk7cmV0dXJuIGJ9O1xuZnVuY3Rpb24gUmYoYSxiKXtyZXR1cm4gYS5KYT9hLnBhdGguY29udGFpbnMoYik6ISF0YShhLmNoaWxkcmVuLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEucGF0aC5vKGQpLmNvbnRhaW5zKGIpfSl9ZnVuY3Rpb24gVGYoYSl7cmV0dXJuIGEudmlzaWJsZX1cbmZ1bmN0aW9uIFNmKGEsYixjKXtmb3IodmFyIGQ9SWYsZT0wO2U8YS5sZW5ndGg7KytlKXt2YXIgZj1hW2VdO2lmKGIoZikpe3ZhciBnPWYucGF0aDtpZihmLkphKWMuY29udGFpbnMoZyk/KGc9bGYoYyxnKSxkPUpmKGQsZyxmLkphKSk6Zy5jb250YWlucyhjKSYmKGc9bGYoZyxjKSxkPUpmKGQsTSxmLkphLlMoZykpKTtlbHNlIGlmKGYuY2hpbGRyZW4paWYoYy5jb250YWlucyhnKSlnPWxmKGMsZyksZD1LZihkLGcsZi5jaGlsZHJlbik7ZWxzZXtpZihnLmNvbnRhaW5zKGMpKWlmKGc9bGYoZyxjKSxnLmUoKSlkPUtmKGQsTSxmLmNoaWxkcmVuKTtlbHNlIGlmKGY9eihmLmNoaWxkcmVuLEsoZykpKWY9Zi5TKE4oZykpLGQ9SmYoZCxNLGYpfWVsc2UgdGhyb3cgamQoXCJXcml0ZVJlY29yZCBzaG91bGQgaGF2ZSAuc25hcCBvciAuY2hpbGRyZW5cIik7fX1yZXR1cm4gZH1mdW5jdGlvbiBVZihhLGIpe3RoaXMuUWI9YTt0aGlzLlo9Yn1oPVVmLnByb3RvdHlwZTtcbmguQWE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLlouQWEodGhpcy5RYixhLGIsYyl9O2guQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuWi5DYyh0aGlzLlFiLGEpfTtoLm5kPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5aLm5kKHRoaXMuUWIsYSxiLGMpfTtoLnhjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLloueGModGhpcy5RYi5vKGEpKX07aC5xZT1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiB0aGlzLloucWUodGhpcy5RYixhLGIsYyxkLGUpfTtoLkJjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuWi5CYyh0aGlzLlFiLGEsYil9O2gubz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFVmKHRoaXMuUWIubyhhKSx0aGlzLlopfTtmdW5jdGlvbiBWZigpe3RoaXMuY2hpbGRyZW49e307dGhpcy5wZD0wO3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBXZihhLGIsYyl7dGhpcy5KZD1hP2E6XCJcIjt0aGlzLkhhPWI/YjpudWxsO3RoaXMuQT1jP2M6bmV3IFZmfWZ1bmN0aW9uIFhmKGEsYil7Zm9yKHZhciBjPWIgaW5zdGFuY2VvZiBQP2I6bmV3IFAoYiksZD1hLGU7bnVsbCE9PShlPUsoYykpOylkPW5ldyBXZihlLGQseihkLkEuY2hpbGRyZW4sZSl8fG5ldyBWZiksYz1OKGMpO3JldHVybiBkfWg9V2YucHJvdG90eXBlO2guRWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BLnZhbHVlfTtmdW5jdGlvbiBZZihhLGIpe08oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiLFwiQ2Fubm90IHNldCB2YWx1ZSB0byB1bmRlZmluZWRcIik7YS5BLnZhbHVlPWI7WmYoYSl9aC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuQS52YWx1ZT1udWxsO3RoaXMuQS5jaGlsZHJlbj17fTt0aGlzLkEucGQ9MDtaZih0aGlzKX07XG5oLnpkPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5BLnBkfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuRWEoKSYmIXRoaXMuemQoKX07aC5SPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dih0aGlzLkEuY2hpbGRyZW4sZnVuY3Rpb24oYyxkKXthKG5ldyBXZihkLGIsYykpfSl9O2Z1bmN0aW9uICRmKGEsYixjLGQpe2MmJiFkJiZiKGEpO2EuUihmdW5jdGlvbihhKXskZihhLGIsITAsZCl9KTtjJiZkJiZiKGEpfWZ1bmN0aW9uIGFnKGEsYil7Zm9yKHZhciBjPWEucGFyZW50KCk7bnVsbCE9PWMmJiFiKGMpOyljPWMucGFyZW50KCl9aC5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQKG51bGw9PT10aGlzLkhhP3RoaXMuSmQ6dGhpcy5IYS5wYXRoKCkrXCIvXCIrdGhpcy5KZCl9O2gubmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkpkfTtoLnBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhhfTtcbmZ1bmN0aW9uIFpmKGEpe2lmKG51bGwhPT1hLkhhKXt2YXIgYj1hLkhhLGM9YS5KZCxkPWEuZSgpLGU9eShiLkEuY2hpbGRyZW4sYyk7ZCYmZT8oZGVsZXRlIGIuQS5jaGlsZHJlbltjXSxiLkEucGQtLSxaZihiKSk6ZHx8ZXx8KGIuQS5jaGlsZHJlbltjXT1hLkEsYi5BLnBkKyssWmYoYikpfX07dmFyIGJnPS9bXFxbXFxdLiMkXFwvXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vLGNnPS9bXFxbXFxdLiMkXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vLGRnPS9eW2EtekEtWl1bYS16QS1aLl9cXC0rXSskLztmdW5jdGlvbiBlZyhhKXtyZXR1cm4gcShhKSYmMCE9PWEubGVuZ3RoJiYhYmcudGVzdChhKX1mdW5jdGlvbiBmZyhhKXtyZXR1cm4gbnVsbD09PWF8fHEoYSl8fGZhKGEpJiYhdGQoYSl8fGdhKGEpJiZ5KGEsXCIuc3ZcIil9ZnVuY3Rpb24gZ2coYSxiLGMsZCl7ZCYmIXAoYil8fGhnKEUoYSwxLGQpLGIsYyl9XG5mdW5jdGlvbiBoZyhhLGIsYyl7YyBpbnN0YW5jZW9mIFAmJihjPW5ldyBuZihjLGEpKTtpZighcChiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgdW5kZWZpbmVkIFwiK3BmKGMpKTtpZihyKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIGZ1bmN0aW9uIFwiK3BmKGMpK1wiIHdpdGggY29udGVudHM6IFwiK2IudG9TdHJpbmcoKSk7aWYodGQoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIFwiK2IudG9TdHJpbmcoKStcIiBcIitwZihjKSk7aWYocShiKSYmYi5sZW5ndGg+MTA0ODU3NjAvMyYmMTA0ODU3NjA8UGIoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiAxMDQ4NTc2MCB1dGY4IGJ5dGVzIFwiK3BmKGMpK1wiICgnXCIrYi5zdWJzdHJpbmcoMCw1MCkrXCIuLi4nKVwiKTtpZihnYShiKSl7dmFyIGQ9ITEsZT0hMTtGYihiLGZ1bmN0aW9uKGIsZyl7aWYoXCIudmFsdWVcIj09PWIpZD0hMDtlbHNlIGlmKFwiLnByaW9yaXR5XCIhPT1iJiZcIi5zdlwiIT09YiYmKGU9XG4hMCwhZWcoYikpKXRocm93IEVycm9yKGErXCIgY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2IrXCIpIFwiK3BmKGMpKycuICBLZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiJyk7Yy5wdXNoKGIpO2hnKGEsZyxjKTtjLnBvcCgpfSk7aWYoZCYmZSl0aHJvdyBFcnJvcihhKycgY29udGFpbnMgXCIudmFsdWVcIiBjaGlsZCAnK3BmKGMpK1wiIGluIGFkZGl0aW9uIHRvIGFjdHVhbCBjaGlsZHJlbi5cIik7fX1cbmZ1bmN0aW9uIGlnKGEsYil7dmFyIGMsZDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXtkPWJbY107Zm9yKHZhciBlPWQuc2xpY2UoKSxmPTA7ZjxlLmxlbmd0aDtmKyspaWYoKFwiLnByaW9yaXR5XCIhPT1lW2ZdfHxmIT09ZS5sZW5ndGgtMSkmJiFlZyhlW2ZdKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2VbZl0rXCIpIGluIHBhdGggXCIrZC50b1N0cmluZygpKycuIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTt9Yi5zb3J0KG1mKTtlPW51bGw7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7ZD1iW2NdO2lmKG51bGwhPT1lJiZlLmNvbnRhaW5zKGQpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIHBhdGggXCIrZS50b1N0cmluZygpK1wiIHRoYXQgaXMgYW5jZXN0b3Igb2YgYW5vdGhlciBwYXRoIFwiK2QudG9TdHJpbmcoKSk7ZT1kfX1cbmZ1bmN0aW9uIGpnKGEsYixjKXt2YXIgZD1FKGEsMSwhMSk7aWYoIWdhKGIpfHxkYShiKSl0aHJvdyBFcnJvcihkK1wiIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO3ZhciBlPVtdO0ZiKGIsZnVuY3Rpb24oYSxiKXt2YXIgaz1uZXcgUChhKTtoZyhkLGIsYy5vKGspKTtpZihcIi5wcmlvcml0eVwiPT09bWUoaykmJiFmZyhiKSl0aHJvdyBFcnJvcihkK1wiY29udGFpbnMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgJ1wiK2sudG9TdHJpbmcoKStcIicsIHdoaWNoIG11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO2UucHVzaChrKX0pO2lnKGQsZSl9XG5mdW5jdGlvbiBrZyhhLGIsYyl7aWYodGQoYykpdGhyb3cgRXJyb3IoRShhLGIsITEpK1wiaXMgXCIrYy50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIWZnKGMpKXRocm93IEVycm9yKEUoYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO31cbmZ1bmN0aW9uIGxnKGEsYixjKXtpZighY3x8cChiKSlzd2l0Y2goYil7Y2FzZSBcInZhbHVlXCI6Y2FzZSBcImNoaWxkX2FkZGVkXCI6Y2FzZSBcImNoaWxkX3JlbW92ZWRcIjpjYXNlIFwiY2hpbGRfY2hhbmdlZFwiOmNhc2UgXCJjaGlsZF9tb3ZlZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoRShhLDEsYykrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyk7fX1mdW5jdGlvbiBtZyhhLGIpe2lmKHAoYikmJiFlZyhiKSl0aHJvdyBFcnJvcihFKGEsMiwhMCkrJ3dhcyBhbiBpbnZhbGlkIGtleTogXCInK2IrJ1wiLiAgRmlyZWJhc2Uga2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIikuJyk7fVxuZnVuY3Rpb24gbmcoYSxiKXtpZighcShiKXx8MD09PWIubGVuZ3RofHxjZy50ZXN0KGIpKXRocm93IEVycm9yKEUoYSwxLCExKSsnd2FzIGFuIGludmFsaWQgcGF0aDogXCInK2IrJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJyk7fWZ1bmN0aW9uIG9nKGEsYil7aWYoXCIuaW5mb1wiPT09SyhiKSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogQ2FuJ3QgbW9kaWZ5IGRhdGEgdW5kZXIgLy5pbmZvL1wiKTt9ZnVuY3Rpb24gcGcoYSxiKXtpZighcShiKSl0aHJvdyBFcnJvcihFKGEsMSwhMSkrXCJtdXN0IGJlIGEgdmFsaWQgY3JlZGVudGlhbCAoYSBzdHJpbmcpLlwiKTt9ZnVuY3Rpb24gcWcoYSxiLGMpe2lmKCFxKGMpKXRocm93IEVycm9yKEUoYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBzdHJpbmcuXCIpO31cbmZ1bmN0aW9uIHJnKGEsYil7cWcoYSwxLGIpO2lmKCFkZy50ZXN0KGIpKXRocm93IEVycm9yKEUoYSwxLCExKStcIidcIitiK1wiJyBpcyBub3QgYSB2YWxpZCBhdXRoZW50aWNhdGlvbiBwcm92aWRlci5cIik7fWZ1bmN0aW9uIHNnKGEsYixjLGQpe2lmKCFkfHxwKGMpKWlmKCFnYShjKXx8bnVsbD09PWMpdGhyb3cgRXJyb3IoRShhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgb2JqZWN0LlwiKTt9ZnVuY3Rpb24gdGcoYSxiLGMpe2lmKCFnYShiKXx8IXkoYixjKSl0aHJvdyBFcnJvcihFKGEsMSwhMSkrJ211c3QgY29udGFpbiB0aGUga2V5IFwiJytjKydcIicpO2lmKCFxKHooYixjKSkpdGhyb3cgRXJyb3IoRShhLDEsITEpKydtdXN0IGNvbnRhaW4gdGhlIGtleSBcIicrYysnXCIgd2l0aCB0eXBlIFwic3RyaW5nXCInKTt9O2Z1bmN0aW9uIHVnKCl7dGhpcy5zZXQ9e319aD11Zy5wcm90b3R5cGU7aC5hZGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFthXT1udWxsIT09Yj9iOiEwfTtoLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiB5KHRoaXMuc2V0LGEpfTtoLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb250YWlucyhhKT90aGlzLnNldFthXTp2b2lkIDB9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLnNldFthXX07aC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0PXt9fTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdmEodGhpcy5zZXQpfTtoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIG9hKHRoaXMuc2V0KX07ZnVuY3Rpb24gdmcoYSxiKXt2KGEuc2V0LGZ1bmN0aW9uKGEsZCl7YihkLGEpfSl9aC5rZXlzPWZ1bmN0aW9uKCl7dmFyIGE9W107dih0aGlzLnNldCxmdW5jdGlvbihiLGMpe2EucHVzaChjKX0pO3JldHVybiBhfTtmdW5jdGlvbiBWYygpe3RoaXMubT10aGlzLkI9bnVsbH1WYy5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLkIpcmV0dXJuIHRoaXMuQi5TKGEpO2lmKGEuZSgpfHxudWxsPT10aGlzLm0pcmV0dXJuIG51bGw7dmFyIGI9SyhhKTthPU4oYSk7cmV0dXJuIHRoaXMubS5jb250YWlucyhiKT90aGlzLm0uZ2V0KGIpLmZpbmQoYSk6bnVsbH07VmMucHJvdG90eXBlLnJjPWZ1bmN0aW9uKGEsYil7aWYoYS5lKCkpdGhpcy5CPWIsdGhpcy5tPW51bGw7ZWxzZSBpZihudWxsIT09dGhpcy5CKXRoaXMuQj10aGlzLkIuSChhLGIpO2Vsc2V7bnVsbD09dGhpcy5tJiYodGhpcy5tPW5ldyB1Zyk7dmFyIGM9SyhhKTt0aGlzLm0uY29udGFpbnMoYyl8fHRoaXMubS5hZGQoYyxuZXcgVmMpO2M9dGhpcy5tLmdldChjKTthPU4oYSk7Yy5yYyhhLGIpfX07XG5mdW5jdGlvbiB3ZyhhLGIpe2lmKGIuZSgpKXJldHVybiBhLkI9bnVsbCxhLm09bnVsbCwhMDtpZihudWxsIT09YS5CKXtpZihhLkIuTCgpKXJldHVybiExO3ZhciBjPWEuQjthLkI9bnVsbDtjLlIoUixmdW5jdGlvbihiLGMpe2EucmMobmV3IFAoYiksYyl9KTtyZXR1cm4gd2coYSxiKX1yZXR1cm4gbnVsbCE9PWEubT8oYz1LKGIpLGI9TihiKSxhLm0uY29udGFpbnMoYykmJndnKGEubS5nZXQoYyksYikmJmEubS5yZW1vdmUoYyksYS5tLmUoKT8oYS5tPW51bGwsITApOiExKTohMH1mdW5jdGlvbiBXYyhhLGIsYyl7bnVsbCE9PWEuQj9jKGIsYS5CKTphLlIoZnVuY3Rpb24oYSxlKXt2YXIgZj1uZXcgUChiLnRvU3RyaW5nKCkrXCIvXCIrYSk7V2MoZSxmLGMpfSl9VmMucHJvdG90eXBlLlI9ZnVuY3Rpb24oYSl7bnVsbCE9PXRoaXMubSYmdmcodGhpcy5tLGZ1bmN0aW9uKGIsYyl7YShiLGMpfSl9O3ZhciB4Zz1cImF1dGguZmlyZWJhc2UuY29tXCI7ZnVuY3Rpb24geWcoYSxiLGMpe3RoaXMucWQ9YXx8e307dGhpcy5oZT1ifHx7fTt0aGlzLmZiPWN8fHt9O3RoaXMucWQucmVtZW1iZXJ8fCh0aGlzLnFkLnJlbWVtYmVyPVwiZGVmYXVsdFwiKX12YXIgemc9W1wicmVtZW1iZXJcIixcInJlZGlyZWN0VG9cIl07ZnVuY3Rpb24gQWcoYSl7dmFyIGI9e30sYz17fTtGYihhfHx7fSxmdW5jdGlvbihhLGUpezA8PUxhKHpnLGEpP2JbYV09ZTpjW2FdPWV9KTtyZXR1cm4gbmV3IHlnKGIse30sYyl9O2Z1bmN0aW9uIEJnKGEsYil7dGhpcy5VZT1bXCJzZXNzaW9uXCIsYS5SZCxhLmxjXS5qb2luKFwiOlwiKTt0aGlzLmVlPWJ9QmcucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe2lmKCFiKWlmKHRoaXMuZWUubGVuZ3RoKWI9dGhpcy5lZVswXTtlbHNlIHRocm93IEVycm9yKFwiZmIubG9naW4uU2Vzc2lvbk1hbmFnZXIgOiBObyBzdG9yYWdlIG9wdGlvbnMgYXZhaWxhYmxlIVwiKTtiLnNldCh0aGlzLlVlLGEpfTtCZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9T2EodGhpcy5lZSx1KHRoaXMuQmcsdGhpcykpLGE9TmEoYSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWF9KTtWYShhLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIERkKGMudG9rZW4pLURkKGEudG9rZW4pfSk7cmV0dXJuIDA8YS5sZW5ndGg/YS5zaGlmdCgpOm51bGx9O0JnLnByb3RvdHlwZS5CZz1mdW5jdGlvbihhKXt0cnl7dmFyIGI9YS5nZXQodGhpcy5VZSk7aWYoYiYmYi50b2tlbilyZXR1cm4gYn1jYXRjaChjKXt9cmV0dXJuIG51bGx9O1xuQmcucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztNYSh0aGlzLmVlLGZ1bmN0aW9uKGIpe2IucmVtb3ZlKGEuVWUpfSl9O2Z1bmN0aW9uIENnKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJlwic3RyaW5nXCI9PT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCJ9ZnVuY3Rpb24gRGcoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmISEod2luZG93LmNvcmRvdmF8fHdpbmRvdy5waG9uZWdhcHx8d2luZG93LlBob25lR2FwKSYmL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoQ2coKSl9ZnVuY3Rpb24gRWcoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGxvY2F0aW9uJiYvXmZpbGU6XFwvLy50ZXN0KGxvY2F0aW9uLmhyZWYpfVxuZnVuY3Rpb24gRmcoYSl7dmFyIGI9Q2coKTtpZihcIlwiPT09YilyZXR1cm4hMTtpZihcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2aWdhdG9yLmFwcE5hbWUpe2lmKChiPWIubWF0Y2goL01TSUUgKFswLTldezEsfVtcXC4wLTldezAsfSkvKSkmJjE8Yi5sZW5ndGgpcmV0dXJuIHBhcnNlRmxvYXQoYlsxXSk+PWF9ZWxzZSBpZigtMTxiLmluZGV4T2YoXCJUcmlkZW50XCIpJiYoYj1iLm1hdGNoKC9ydjooWzAtOV17MiwyfVtcXC4wLTldezAsfSkvKSkmJjE8Yi5sZW5ndGgpcmV0dXJuIHBhcnNlRmxvYXQoYlsxXSk+PWE7cmV0dXJuITF9O2Z1bmN0aW9uIEdnKCl7dmFyIGE9d2luZG93Lm9wZW5lci5mcmFtZXMsYjtmb3IoYj1hLmxlbmd0aC0xOzA8PWI7Yi0tKXRyeXtpZihhW2JdLmxvY2F0aW9uLnByb3RvY29sPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiZhW2JdLmxvY2F0aW9uLmhvc3Q9PT13aW5kb3cubG9jYXRpb24uaG9zdCYmXCJfX3dpbmNoYW5fcmVsYXlfZnJhbWVcIj09PWFbYl0ubmFtZSlyZXR1cm4gYVtiXX1jYXRjaChjKXt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSGcoYSxiLGMpe2EuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrYixjKTphLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfWZ1bmN0aW9uIElnKGEsYixjKXthLmRldGFjaEV2ZW50P2EuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyk6YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLCExKX1cbmZ1bmN0aW9uIEpnKGEpey9eaHR0cHM/OlxcL1xcLy8udGVzdChhKXx8KGE9d2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciBiPS9eKGh0dHBzPzpcXC9cXC9bXFwtX2EtekEtWlxcLjAtOTpdKykvLmV4ZWMoYSk7cmV0dXJuIGI/YlsxXTphfWZ1bmN0aW9uIEtnKGEpe3ZhciBiPVwiXCI7dHJ5e2E9YS5yZXBsYWNlKC8uKlxcPy8sXCJcIik7dmFyIGM9SmIoYSk7YyYmeShjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSYmKGI9eihjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSl9Y2F0Y2goZCl7fXJldHVybiBifWZ1bmN0aW9uIExnKCl7dHJ5e3ZhciBhPWRvY3VtZW50LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgvJl9fZmlyZWJhc2VfcmVxdWVzdF9rZXk9KFthLXpBLXowLTldKikvLFwiXCIpLGE9YS5yZXBsYWNlKC9cXD8kLyxcIlwiKSxhPWEucmVwbGFjZSgvXiMrJC8sXCJcIik7ZG9jdW1lbnQubG9jYXRpb24uaGFzaD1hfWNhdGNoKGIpe319XG5mdW5jdGlvbiBNZygpe3ZhciBhPXNkKHhnKTtyZXR1cm4gYS5zY2hlbWUrXCI6Ly9cIithLmhvc3QrXCIvdjJcIn1mdW5jdGlvbiBOZyhhKXtyZXR1cm4gTWcoKStcIi9cIithK1wiL2F1dGgvY2hhbm5lbFwifTtmdW5jdGlvbiBPZyhhKXt2YXIgYj10aGlzO3RoaXMuaGI9YTt0aGlzLmZlPVwiKlwiO0ZnKDgpP3RoaXMuVWM9dGhpcy5DZD1HZygpOih0aGlzLlVjPXdpbmRvdy5vcGVuZXIsdGhpcy5DZD13aW5kb3cpO2lmKCFiLlVjKXRocm93XCJVbmFibGUgdG8gZmluZCByZWxheSBmcmFtZVwiO0hnKHRoaXMuQ2QsXCJtZXNzYWdlXCIsdSh0aGlzLm5jLHRoaXMpKTtIZyh0aGlzLkNkLFwibWVzc2FnZVwiLHUodGhpcy5GZix0aGlzKSk7dHJ5e1BnKHRoaXMse2E6XCJyZWFkeVwifSl9Y2F0Y2goYyl7SGcodGhpcy5VYyxcImxvYWRcIixmdW5jdGlvbigpe1BnKGIse2E6XCJyZWFkeVwifSl9KX1IZyh3aW5kb3csXCJ1bmxvYWRcIix1KHRoaXMuTmcsdGhpcykpfWZ1bmN0aW9uIFBnKGEsYil7Yj1HKGIpO0ZnKDgpP2EuVWMuZG9Qb3N0KGIsYS5mZSk6YS5VYy5wb3N0TWVzc2FnZShiLGEuZmUpfVxuT2cucHJvdG90eXBlLm5jPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYzt0cnl7Yz1SYihhLmRhdGEpfWNhdGNoKGQpe31jJiZcInJlcXVlc3RcIj09PWMuYSYmKElnKHdpbmRvdyxcIm1lc3NhZ2VcIix0aGlzLm5jKSx0aGlzLmZlPWEub3JpZ2luLHRoaXMuaGImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmhiKGIuZmUsYy5kLGZ1bmN0aW9uKGEsYyl7Yi5tZz0hYztiLmhiPXZvaWQgMDtQZyhiLHthOlwicmVzcG9uc2VcIixkOmEsZm9yY2VLZWVwV2luZG93T3BlbjpjfSl9KX0sMCkpfTtPZy5wcm90b3R5cGUuTmc9ZnVuY3Rpb24oKXt0cnl7SWcodGhpcy5DZCxcIm1lc3NhZ2VcIix0aGlzLkZmKX1jYXRjaChhKXt9dGhpcy5oYiYmKFBnKHRoaXMse2E6XCJlcnJvclwiLGQ6XCJ1bmtub3duIGNsb3NlZCB3aW5kb3dcIn0pLHRoaXMuaGI9dm9pZCAwKTt0cnl7d2luZG93LmNsb3NlKCl9Y2F0Y2goYil7fX07T2cucHJvdG90eXBlLkZmPWZ1bmN0aW9uKGEpe2lmKHRoaXMubWcmJlwiZGllXCI9PT1hLmRhdGEpdHJ5e3dpbmRvdy5jbG9zZSgpfWNhdGNoKGIpe319O2Z1bmN0aW9uIFFnKGEpe3RoaXMudGM9RmEoKStGYSgpK0ZhKCk7dGhpcy5LZj1hfVFnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7Y2Quc2V0KFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiLHRoaXMudGMpO2NkLnNldChcInJlZGlyZWN0X3JlcXVlc3RfaWRcIix0aGlzLnRjKTtiLnJlcXVlc3RJZD10aGlzLnRjO2IucmVkaXJlY3RUbz1iLnJlZGlyZWN0VG98fHdpbmRvdy5sb2NhdGlvbi5ocmVmO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK0liKGIpO3dpbmRvdy5sb2NhdGlvbj1hfTtRZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiFFZygpJiYhRGcoKX07UWcucHJvdG90eXBlLkZjPWZ1bmN0aW9uKCl7cmV0dXJuXCJyZWRpcmVjdFwifTt2YXIgUmc9e05FVFdPUktfRVJST1I6XCJVbmFibGUgdG8gY29udGFjdCB0aGUgRmlyZWJhc2Ugc2VydmVyLlwiLFNFUlZFUl9FUlJPUjpcIkFuIHVua25vd24gc2VydmVyIGVycm9yIG9jY3VycmVkLlwiLFRSQU5TUE9SVF9VTkFWQUlMQUJMRTpcIlRoZXJlIGFyZSBubyBsb2dpbiB0cmFuc3BvcnRzIGF2YWlsYWJsZSBmb3IgdGhlIHJlcXVlc3RlZCBtZXRob2QuXCIsUkVRVUVTVF9JTlRFUlJVUFRFRDpcIlRoZSBicm93c2VyIHJlZGlyZWN0ZWQgdGhlIHBhZ2UgYmVmb3JlIHRoZSBsb2dpbiByZXF1ZXN0IGNvdWxkIGNvbXBsZXRlLlwiLFVTRVJfQ0FOQ0VMTEVEOlwiVGhlIHVzZXIgY2FuY2VsbGVkIGF1dGhlbnRpY2F0aW9uLlwifTtmdW5jdGlvbiBTZyhhKXt2YXIgYj1FcnJvcih6KFJnLGEpLGEpO2IuY29kZT1hO3JldHVybiBifTtmdW5jdGlvbiBUZyhhKXt2YXIgYjsoYj0hYS53aW5kb3dfZmVhdHVyZXMpfHwoYj1DZygpLGI9LTEhPT1iLmluZGV4T2YoXCJGZW5uZWMvXCIpfHwtMSE9PWIuaW5kZXhPZihcIkZpcmVmb3gvXCIpJiYtMSE9PWIuaW5kZXhPZihcIkFuZHJvaWRcIikpO2ImJihhLndpbmRvd19mZWF0dXJlcz12b2lkIDApO2Eud2luZG93X25hbWV8fChhLndpbmRvd19uYW1lPVwiX2JsYW5rXCIpO3RoaXMub3B0aW9ucz1hfVxuVGcucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7ZyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZyksZz12b2lkIDApO3QmJih0PWNsZWFySW50ZXJ2YWwodCkpO0lnKHdpbmRvdyxcIm1lc3NhZ2VcIixlKTtJZyh3aW5kb3csXCJ1bmxvYWRcIixkKTtpZihsJiYhYSl0cnl7bC5jbG9zZSgpfWNhdGNoKGIpe2sucG9zdE1lc3NhZ2UoXCJkaWVcIixtKX1sPWs9dm9pZCAwfWZ1bmN0aW9uIGUoYSl7aWYoYS5vcmlnaW49PT1tKXRyeXt2YXIgYj1SYihhLmRhdGEpO1wicmVhZHlcIj09PWIuYT9rLnBvc3RNZXNzYWdlKEEsbSk6XCJlcnJvclwiPT09Yi5hPyhkKCExKSxjJiYoYyhiLmQpLGM9bnVsbCkpOlwicmVzcG9uc2VcIj09PWIuYSYmKGQoYi5mb3JjZUtlZXBXaW5kb3dPcGVuKSxjJiYoYyhudWxsLGIuZCksYz1udWxsKSl9Y2F0Y2goZSl7fX12YXIgZj1GZyg4KSxnLGs7aWYoIXRoaXMub3B0aW9ucy5yZWxheV91cmwpcmV0dXJuIGMoRXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50czogb3JpZ2luIG9mIHVybCBhbmQgcmVsYXlfdXJsIG11c3QgbWF0Y2hcIikpO1xudmFyIG09SmcoYSk7aWYobSE9PUpnKHRoaXMub3B0aW9ucy5yZWxheV91cmwpKWMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKEVycm9yKFwiaW52YWxpZCBhcmd1bWVudHM6IG9yaWdpbiBvZiB1cmwgYW5kIHJlbGF5X3VybCBtdXN0IG1hdGNoXCIpKX0sMCk7ZWxzZXtmJiYoZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLGcuc2V0QXR0cmlidXRlKFwic3JjXCIsdGhpcy5vcHRpb25zLnJlbGF5X3VybCksZy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGcuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiX193aW5jaGFuX3JlbGF5X2ZyYW1lXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZyksaz1nLmNvbnRlbnRXaW5kb3cpO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK0liKGIpO3ZhciBsPXdpbmRvdy5vcGVuKGEsdGhpcy5vcHRpb25zLndpbmRvd19uYW1lLHRoaXMub3B0aW9ucy53aW5kb3dfZmVhdHVyZXMpO2t8fChrPWwpO3ZhciB0PXNldEludGVydmFsKGZ1bmN0aW9uKCl7bCYmbC5jbG9zZWQmJlxuKGQoITEpLGMmJihjKFNnKFwiVVNFUl9DQU5DRUxMRURcIikpLGM9bnVsbCkpfSw1MDApLEE9Ryh7YTpcInJlcXVlc3RcIixkOmJ9KTtIZyh3aW5kb3csXCJ1bmxvYWRcIixkKTtIZyh3aW5kb3csXCJtZXNzYWdlXCIsZSl9fTtcblRnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7dmFyIGE7aWYoYT1cInBvc3RNZXNzYWdlXCJpbiB3aW5kb3cmJiFFZygpKShhPURnKCl8fFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiYoISFDZygpLm1hdGNoKC9XaW5kb3dzIFBob25lLyl8fCEhd2luZG93LldpbmRvd3MmJi9ebXMtYXBweDovLnRlc3QobG9jYXRpb24uaHJlZikpKXx8KGE9Q2coKSxhPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmISEoYS5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pKXx8YS5tYXRjaCgvQ3JpT1MvKXx8YS5tYXRjaCgvVHdpdHRlciBmb3IgaVBob25lLyl8fGEubWF0Y2goL0ZCQU5cXC9GQklPUy8pfHx3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSxhPSFhO3JldHVybiBhJiYhQ2coKS5tYXRjaCgvUGhhbnRvbUpTLyl9O1RnLnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3JldHVyblwicG9wdXBcIn07ZnVuY3Rpb24gVWcoYSl7YS5tZXRob2R8fChhLm1ldGhvZD1cIkdFVFwiKTthLmhlYWRlcnN8fChhLmhlYWRlcnM9e30pO2EuaGVhZGVycy5jb250ZW50X3R5cGV8fChhLmhlYWRlcnMuY29udGVudF90eXBlPVwiYXBwbGljYXRpb24vanNvblwiKTthLmhlYWRlcnMuY29udGVudF90eXBlPWEuaGVhZGVycy5jb250ZW50X3R5cGUudG9Mb3dlckNhc2UoKTt0aGlzLm9wdGlvbnM9YX1cblVnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7YyYmKGMoU2coXCJSRVFVRVNUX0lOVEVSUlVQVEVEXCIpKSxjPW51bGwpfXZhciBlPW5ldyBYTUxIdHRwUmVxdWVzdCxmPXRoaXMub3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKSxnO0hnKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpO2Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoYyYmND09PWUucmVhZHlTdGF0ZSl7dmFyIGE7aWYoMjAwPD1lLnN0YXR1cyYmMzAwPmUuc3RhdHVzKXt0cnl7YT1SYihlLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYil7fWMobnVsbCxhKX1lbHNlIDUwMDw9ZS5zdGF0dXMmJjYwMD5lLnN0YXR1cz9jKFNnKFwiU0VSVkVSX0VSUk9SXCIpKTpjKFNnKFwiTkVUV09SS19FUlJPUlwiKSk7Yz1udWxsO0lnKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpfX07aWYoXCJHRVRcIj09PWYpYSs9KC9cXD8vLnRlc3QoYSk/XCJcIjpcIj9cIikrSWIoYiksZz1udWxsO2Vsc2V7dmFyIGs9dGhpcy5vcHRpb25zLmhlYWRlcnMuY29udGVudF90eXBlO1xuXCJhcHBsaWNhdGlvbi9qc29uXCI9PT1rJiYoZz1HKGIpKTtcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiPT09ayYmKGc9SWIoYikpfWUub3BlbihmLGEsITApO2E9e1wiWC1SZXF1ZXN0ZWQtV2l0aFwiOlwiWE1MSHR0cFJlcXVlc3RcIixBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uO3RleHQvcGxhaW5cIn07eWEoYSx0aGlzLm9wdGlvbnMuaGVhZGVycyk7Zm9yKHZhciBtIGluIGEpZS5zZXRSZXF1ZXN0SGVhZGVyKG0sYVttXSk7ZS5zZW5kKGcpfTtVZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3ZhciBhO2lmKGE9ISF3aW5kb3cuWE1MSHR0cFJlcXVlc3QpYT1DZygpLGE9IShhLm1hdGNoKC9NU0lFLyl8fGEubWF0Y2goL1RyaWRlbnQvKSl8fEZnKDEwKTtyZXR1cm4gYX07VWcucHJvdG90eXBlLkZjPWZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCJ9O2Z1bmN0aW9uIFZnKGEpe3RoaXMudGM9RmEoKStGYSgpK0ZhKCk7dGhpcy5LZj1hfVxuVmcucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXtjJiYoYyhTZyhcIlVTRVJfQ0FOQ0VMTEVEXCIpKSxjPW51bGwpfXZhciBlPXRoaXMsZj1zZCh4ZyksZztiLnJlcXVlc3RJZD10aGlzLnRjO2IucmVkaXJlY3RUbz1mLnNjaGVtZStcIjovL1wiK2YuaG9zdCtcIi9ibGFuay9wYWdlLmh0bWxcIjthKz0vXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCI7YSs9SWIoYik7KGc9d2luZG93Lm9wZW4oYSxcIl9ibGFua1wiLFwibG9jYXRpb249bm9cIikpJiZyKGcuYWRkRXZlbnRMaXN0ZW5lcik/KGcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGEpe3ZhciBiO2lmKGI9YSYmYS51cmwpYTp7dHJ5e3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2wuaHJlZj1hLnVybDtiPWwuaG9zdD09PWYuaG9zdCYmXCIvYmxhbmsvcGFnZS5odG1sXCI9PT1sLnBhdGhuYW1lO2JyZWFrIGF9Y2F0Y2godCl7fWI9ITF9YiYmKGE9S2coYS51cmwpLGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImV4aXRcIixcbmQpLGcuY2xvc2UoKSxhPW5ldyB5ZyhudWxsLG51bGwse3JlcXVlc3RJZDplLnRjLHJlcXVlc3RLZXk6YX0pLGUuS2YucmVxdWVzdFdpdGhDcmVkZW50aWFsKFwiL2F1dGgvc2Vzc2lvblwiLGEsYyksYz1udWxsKX0pLGcuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXRcIixkKSk6YyhTZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9O1ZnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIERnKCl9O1ZnLnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3JldHVyblwicmVkaXJlY3RcIn07ZnVuY3Rpb24gV2coYSl7YS5jYWxsYmFja19wYXJhbWV0ZXJ8fChhLmNhbGxiYWNrX3BhcmFtZXRlcj1cImNhbGxiYWNrXCIpO3RoaXMub3B0aW9ucz1hO3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnA9d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucHx8e319XG5XZy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2MmJihjKFNnKFwiUkVRVUVTVF9JTlRFUlJVUFRFRFwiKSksYz1udWxsKX1mdW5jdGlvbiBlKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnBbZl09dm9pZCAwO3ZhKHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnApJiYod2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucD12b2lkIDApO3RyeXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChmKTthJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9Y2F0Y2goYil7fX0sMSk7SWcod2luZG93LFwiYmVmb3JldW5sb2FkXCIsZCl9dmFyIGY9XCJmblwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK01hdGguZmxvb3IoOTk5OTkqTWF0aC5yYW5kb20oKSk7Ylt0aGlzLm9wdGlvbnMuY2FsbGJhY2tfcGFyYW1ldGVyXT1cIl9fZmlyZWJhc2VfYXV0aF9qc29ucC5cIitmO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK0liKGIpO1xuSGcod2luZG93LFwiYmVmb3JldW5sb2FkXCIsZCk7d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucFtmXT1mdW5jdGlvbihhKXtjJiYoYyhudWxsLGEpLGM9bnVsbCk7ZSgpfTtYZyhmLGEsYyl9O1xuZnVuY3Rpb24gWGcoYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmlkPWE7ZC5hc3luYz0hMDtkLnNyYz1iO2Qub25lcnJvcj1mdW5jdGlvbigpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO251bGwhPT1iJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7YyYmYyhTZyhcIk5FVFdPUktfRVJST1JcIikpfTt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIik7KGUmJjAhPWUubGVuZ3RoP2VbMF06ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChkKX1jYXRjaChmKXtjJiZjKFNnKFwiTkVUV09SS19FUlJPUlwiKSl9fSwwKX1XZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJm51bGwhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnR9O1xuV2cucHJvdG90eXBlLkZjPWZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCJ9O2Z1bmN0aW9uIFlnKGEsYixjLGQpe2ZmLmNhbGwodGhpcyxbXCJhdXRoX3N0YXR1c1wiXSk7dGhpcy5HPWE7dGhpcy5oZj1iO3RoaXMuaWg9Yzt0aGlzLlBlPWQ7dGhpcy53Yz1uZXcgQmcoYSxbYmQsY2RdKTt0aGlzLnFiPW51bGw7dGhpcy5XZT0hMTtaZyh0aGlzKX1rYShZZyxmZik7aD1ZZy5wcm90b3R5cGU7aC5CZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFifHxudWxsfTtmdW5jdGlvbiBaZyhhKXtjZC5nZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIpJiYkZyhhKTt2YXIgYj1hLndjLmdldCgpO2ImJmIudG9rZW4/KGFoKGEsYiksYS5oZihiLnRva2VuLGZ1bmN0aW9uKGMsZCl7YmgoYSxjLGQsITEsYi50b2tlbixiKX0sZnVuY3Rpb24oYixkKXtjaChhLFwicmVzdW1lU2Vzc2lvbigpXCIsYixkKX0pKTphaChhLG51bGwpfVxuZnVuY3Rpb24gZGgoYSxiLGMsZCxlLGYpe1wiZmlyZWJhc2Vpby1kZW1vLmNvbVwiPT09YS5HLmRvbWFpbiYmUyhcIkZpcmViYXNlIGF1dGhlbnRpY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gZGVtbyBGaXJlYmFzZXMgKCouZmlyZWJhc2Vpby1kZW1vLmNvbSkuIFRvIHNlY3VyZSB5b3VyIEZpcmViYXNlLCBjcmVhdGUgYSBwcm9kdWN0aW9uIEZpcmViYXNlIGF0IGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS5cIik7YS5oZihiLGZ1bmN0aW9uKGYsayl7YmgoYSxmLGssITAsYixjLGR8fHt9LGUpfSxmdW5jdGlvbihiLGMpe2NoKGEsXCJhdXRoKClcIixiLGMsZil9KX1mdW5jdGlvbiBlaChhLGIpe2Eud2MuY2xlYXIoKTthaChhLG51bGwpO2EuaWgoZnVuY3Rpb24oYSxkKXtpZihcIm9rXCI9PT1hKVQoYixudWxsKTtlbHNle3ZhciBlPShhfHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksZj1lO2QmJihmKz1cIjogXCIrZCk7Zj1FcnJvcihmKTtmLmNvZGU9ZTtUKGIsZil9fSl9XG5mdW5jdGlvbiBiaChhLGIsYyxkLGUsZixnLGspe1wib2tcIj09PWI/KGQmJihiPWMuYXV0aCxmLmF1dGg9YixmLmV4cGlyZXM9Yy5leHBpcmVzLGYudG9rZW49RWQoZSk/ZTpcIlwiLGM9bnVsbCxiJiZ5KGIsXCJ1aWRcIik/Yz16KGIsXCJ1aWRcIik6eShmLFwidWlkXCIpJiYoYz16KGYsXCJ1aWRcIikpLGYudWlkPWMsYz1cImN1c3RvbVwiLGImJnkoYixcInByb3ZpZGVyXCIpP2M9eihiLFwicHJvdmlkZXJcIik6eShmLFwicHJvdmlkZXJcIikmJihjPXooZixcInByb3ZpZGVyXCIpKSxmLnByb3ZpZGVyPWMsYS53Yy5jbGVhcigpLEVkKGUpJiYoZz1nfHx7fSxjPWJkLFwic2Vzc2lvbk9ubHlcIj09PWcucmVtZW1iZXImJihjPWNkKSxcIm5vbmVcIiE9PWcucmVtZW1iZXImJmEud2Muc2V0KGYsYykpLGFoKGEsZikpLFQoayxudWxsLGYpKTooYS53Yy5jbGVhcigpLGFoKGEsbnVsbCksZj1hPShifHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksYyYmKGYrPVwiOiBcIitjKSxmPUVycm9yKGYpLGYuY29kZT1hLFQoayxmKSl9XG5mdW5jdGlvbiBjaChhLGIsYyxkLGUpe1MoYitcIiB3YXMgY2FuY2VsZWQ6IFwiK2QpO2Eud2MuY2xlYXIoKTthaChhLG51bGwpO2E9RXJyb3IoZCk7YS5jb2RlPWMudG9VcHBlckNhc2UoKTtUKGUsYSl9ZnVuY3Rpb24gZmgoYSxiLGMsZCxlKXtnaChhKTtjPW5ldyB5ZyhkfHx7fSx7fSxjfHx7fSk7aGgoYSxbVWcsV2ddLFwiL2F1dGgvXCIrYixjLGUpfVxuZnVuY3Rpb24gaWgoYSxiLGMsZCl7Z2goYSk7dmFyIGU9W1RnLFZnXTtjPUFnKGMpO3ZhciBmPTYyNTtcImFub255bW91c1wiPT09Ynx8XCJwYXNzd29yZFwiPT09Yj9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VChkLFNnKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKX0sMCk6KFwiZ2l0aHViXCI9PT1iJiYoZj0xMDI1KSxjLmhlLndpbmRvd19mZWF0dXJlcz1cIm1lbnViYXI9eWVzLG1vZGFsPXllcyxhbHdheXNSYWlzZWQ9eWVzbG9jYXRpb249eWVzLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMsc3RhdHVzPXllcyxoZWlnaHQ9NjI1LHdpZHRoPVwiK2YrXCIsdG9wPVwiKyhcIm9iamVjdFwiPT09dHlwZW9mIHNjcmVlbj8uNSooc2NyZWVuLmhlaWdodC02MjUpOjApK1wiLGxlZnQ9XCIrKFwib2JqZWN0XCI9PT10eXBlb2Ygc2NyZWVuPy41KihzY3JlZW4ud2lkdGgtZik6MCksYy5oZS5yZWxheV91cmw9TmcoYS5HLmxjKSxjLmhlLnJlcXVlc3RXaXRoQ3JlZGVudGlhbD11KGEudWMsYSksaGgoYSxlLFwiL2F1dGgvXCIrXG5iLGMsZCkpfWZ1bmN0aW9uICRnKGEpe3ZhciBiPWNkLmdldChcInJlZGlyZWN0X3JlcXVlc3RfaWRcIik7aWYoYil7dmFyIGM9Y2QuZ2V0KFwicmVkaXJlY3RfY2xpZW50X29wdGlvbnNcIik7Y2QucmVtb3ZlKFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiKTtjZC5yZW1vdmUoXCJyZWRpcmVjdF9jbGllbnRfb3B0aW9uc1wiKTt2YXIgZD1bVWcsV2ddLGI9e3JlcXVlc3RJZDpiLHJlcXVlc3RLZXk6S2coZG9jdW1lbnQubG9jYXRpb24uaGFzaCl9LGM9bmV3IHlnKGMse30sYik7YS5XZT0hMDtMZygpO2hoKGEsZCxcIi9hdXRoL3Nlc3Npb25cIixjLGZ1bmN0aW9uKCl7dGhpcy5XZT0hMX0uYmluZChhKSl9fWgudmU9ZnVuY3Rpb24oYSxiKXtnaCh0aGlzKTt2YXIgYz1BZyhhKTtjLmZiLl9tZXRob2Q9XCJQT1NUXCI7dGhpcy51YyhcIi91c2Vyc1wiLGMsZnVuY3Rpb24oYSxjKXthP1QoYixhKTpUKGIsYSxjKX0pfTtcbmguWGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2doKHRoaXMpO3ZhciBkPVwiL3VzZXJzL1wiK2VuY29kZVVSSUNvbXBvbmVudChhLmVtYWlsKSxlPUFnKGEpO2UuZmIuX21ldGhvZD1cIkRFTEVURVwiO3RoaXMudWMoZCxlLGZ1bmN0aW9uKGEsZCl7IWEmJmQmJmQudWlkJiZjLnFiJiZjLnFiLnVpZCYmYy5xYi51aWQ9PT1kLnVpZCYmZWgoYyk7VChiLGEpfSl9O2guc2U9ZnVuY3Rpb24oYSxiKXtnaCh0aGlzKTt2YXIgYz1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQoYS5lbWFpbCkrXCIvcGFzc3dvcmRcIixkPUFnKGEpO2QuZmIuX21ldGhvZD1cIlBVVFwiO2QuZmIucGFzc3dvcmQ9YS5uZXdQYXNzd29yZDt0aGlzLnVjKGMsZCxmdW5jdGlvbihhKXtUKGIsYSl9KX07XG5oLnJlPWZ1bmN0aW9uKGEsYil7Z2godGhpcyk7dmFyIGM9XCIvdXNlcnMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEub2xkRW1haWwpK1wiL2VtYWlsXCIsZD1BZyhhKTtkLmZiLl9tZXRob2Q9XCJQVVRcIjtkLmZiLmVtYWlsPWEubmV3RW1haWw7ZC5mYi5wYXNzd29yZD1hLnBhc3N3b3JkO3RoaXMudWMoYyxkLGZ1bmN0aW9uKGEpe1QoYixhKX0pfTtoLlplPWZ1bmN0aW9uKGEsYil7Z2godGhpcyk7dmFyIGM9XCIvdXNlcnMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuZW1haWwpK1wiL3Bhc3N3b3JkXCIsZD1BZyhhKTtkLmZiLl9tZXRob2Q9XCJQT1NUXCI7dGhpcy51YyhjLGQsZnVuY3Rpb24oYSl7VChiLGEpfSl9O2gudWM9ZnVuY3Rpb24oYSxiLGMpe2poKHRoaXMsW1VnLFdnXSxhLGIsYyl9O1xuZnVuY3Rpb24gaGgoYSxiLGMsZCxlKXtqaChhLGIsYyxkLGZ1bmN0aW9uKGIsYyl7IWImJmMmJmMudG9rZW4mJmMudWlkP2RoKGEsYy50b2tlbixjLGQucWQsZnVuY3Rpb24oYSxiKXthP1QoZSxhKTpUKGUsbnVsbCxiKX0pOlQoZSxifHxTZyhcIlVOS05PV05fRVJST1JcIikpfSl9XG5mdW5jdGlvbiBqaChhLGIsYyxkLGUpe2I9TmEoYixmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5pc0F2YWlsYWJsZSYmYS5pc0F2YWlsYWJsZSgpfSk7MD09PWIubGVuZ3RoP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtUKGUsU2coXCJUUkFOU1BPUlRfVU5BVkFJTEFCTEVcIikpfSwwKTooYj1uZXcgKGIuc2hpZnQoKSkoZC5oZSksZD1HYihkLmZiKSxkLnY9XCJqcy1cIitFYixkLnRyYW5zcG9ydD1iLkZjKCksZC5zdXBwcmVzc19zdGF0dXNfY29kZXM9ITAsYT1NZygpK1wiL1wiK2EuRy5sYytjLGIub3BlbihhLGQsZnVuY3Rpb24oYSxiKXtpZihhKVQoZSxhKTtlbHNlIGlmKGImJmIuZXJyb3Ipe3ZhciBjPUVycm9yKGIuZXJyb3IubWVzc2FnZSk7Yy5jb2RlPWIuZXJyb3IuY29kZTtjLmRldGFpbHM9Yi5lcnJvci5kZXRhaWxzO1QoZSxjKX1lbHNlIFQoZSxudWxsLGIpfSkpfVxuZnVuY3Rpb24gYWgoYSxiKXt2YXIgYz1udWxsIT09YS5xYnx8bnVsbCE9PWI7YS5xYj1iO2MmJmEuaWUoXCJhdXRoX3N0YXR1c1wiLGIpO2EuUGUobnVsbCE9PWIpfWguRWU9ZnVuY3Rpb24oYSl7TyhcImF1dGhfc3RhdHVzXCI9PT1hLCdpbml0aWFsIGV2ZW50IG11c3QgYmUgb2YgdHlwZSBcImF1dGhfc3RhdHVzXCInKTtyZXR1cm4gdGhpcy5XZT9udWxsOlt0aGlzLnFiXX07ZnVuY3Rpb24gZ2goYSl7dmFyIGI9YS5HO2lmKFwiZmlyZWJhc2Vpby5jb21cIiE9PWIuZG9tYWluJiZcImZpcmViYXNlaW8tZGVtby5jb21cIiE9PWIuZG9tYWluJiZcImF1dGguZmlyZWJhc2UuY29tXCI9PT14Zyl0aHJvdyBFcnJvcihcIlRoaXMgY3VzdG9tIEZpcmViYXNlIHNlcnZlciAoJ1wiK2EuRy5kb21haW4rXCInKSBkb2VzIG5vdCBzdXBwb3J0IGRlbGVnYXRlZCBsb2dpbi5cIik7fTt2YXIgZ2Q9XCJ3ZWJzb2NrZXRcIixoZD1cImxvbmdfcG9sbGluZ1wiO2Z1bmN0aW9uIGtoKGEpe3RoaXMubmM9YTt0aGlzLlFkPVtdO3RoaXMuV2I9MDt0aGlzLnRlPS0xO3RoaXMuSmI9bnVsbH1mdW5jdGlvbiBsaChhLGIsYyl7YS50ZT1iO2EuSmI9YzthLnRlPGEuV2ImJihhLkpiKCksYS5KYj1udWxsKX1mdW5jdGlvbiBtaChhLGIsYyl7Zm9yKGEuUWRbYl09YzthLlFkW2EuV2JdOyl7dmFyIGQ9YS5RZFthLldiXTtkZWxldGUgYS5RZFthLldiXTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoOysrZSlpZihkW2VdKXt2YXIgZj1hO2djKGZ1bmN0aW9uKCl7Zi5uYyhkW2VdKX0pfWlmKGEuV2I9PT1hLnRlKXthLkpiJiYoY2xlYXJUaW1lb3V0KGEuSmIpLGEuSmIoKSxhLkpiPW51bGwpO2JyZWFrfWEuV2IrK319O2Z1bmN0aW9uIG5oKGEsYixjLGQpe3RoaXMudWU9YTt0aGlzLmY9cGQoYSk7dGhpcy5yYj10aGlzLnNiPTA7dGhpcy5YYT11YyhiKTt0aGlzLlhmPWM7dGhpcy5LYz0hMTt0aGlzLkZiPWQ7dGhpcy5sZD1mdW5jdGlvbihhKXtyZXR1cm4gZmQoYixoZCxhKX19dmFyIG9oLHBoO1xubmgucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiKXt0aGlzLm1mPTA7dGhpcy5uYT1iO3RoaXMuRWY9bmV3IGtoKGEpO3RoaXMuRGI9ITE7dmFyIGM9dGhpczt0aGlzLnViPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmYoXCJUaW1lZCBvdXQgdHJ5aW5nIHRvIGNvbm5lY3QuXCIpO2MuYmIoKTtjLnViPW51bGx9LE1hdGguZmxvb3IoM0U0KSk7dWQoZnVuY3Rpb24oKXtpZighYy5EYil7Yy5XYT1uZXcgcWgoZnVuY3Rpb24oYSxiLGQsayxtKXtyaChjLGFyZ3VtZW50cyk7aWYoYy5XYSlpZihjLnViJiYoY2xlYXJUaW1lb3V0KGMudWIpLGMudWI9bnVsbCksYy5LYz0hMCxcInN0YXJ0XCI9PWEpYy5pZD1iLGMuTWY9ZDtlbHNlIGlmKFwiY2xvc2VcIj09PWEpYj8oYy5XYS4kZD0hMSxsaChjLkVmLGIsZnVuY3Rpb24oKXtjLmJiKCl9KSk6Yy5iYigpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgY29tbWFuZCByZWNlaXZlZDogXCIrYSk7fSxmdW5jdGlvbihhLGIpe3JoKGMsYXJndW1lbnRzKTtcbm1oKGMuRWYsYSxiKX0sZnVuY3Rpb24oKXtjLmJiKCl9LGMubGQpO3ZhciBhPXtzdGFydDpcInRcIn07YS5zZXI9TWF0aC5mbG9vcigxRTgqTWF0aC5yYW5kb20oKSk7Yy5XYS5rZSYmKGEuY2I9Yy5XYS5rZSk7YS52PVwiNVwiO2MuWGYmJihhLnM9Yy5YZik7Yy5GYiYmKGEubHM9Yy5GYik7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKGEucj1cImZcIik7YT1jLmxkKGEpO2MuZihcIkNvbm5lY3RpbmcgdmlhIGxvbmctcG9sbCB0byBcIithKTtzaChjLldhLGEsZnVuY3Rpb24oKXt9KX19KX07XG5uaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLldhLGI9dGhpcy5NZjthLkdnPXRoaXMuaWQ7YS5IZz1iO2ZvcihhLm9lPSEwO3RoKGEpOyk7YT10aGlzLmlkO2I9dGhpcy5NZjt0aGlzLmtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7dmFyIGM9e2RmcmFtZTpcInRcIn07Yy5pZD1hO2MucHc9Yjt0aGlzLmtjLnNyYz10aGlzLmxkKGMpO3RoaXMua2Muc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMua2MpfTtcbm5oLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG9ofHwhcGgmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJm51bGwhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQmJiEoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSYmIShcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MmJlwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cy5raCkmJiEwfTtoPW5oLnByb3RvdHlwZTtoLkhkPWZ1bmN0aW9uKCl7fTtoLmZkPWZ1bmN0aW9uKCl7dGhpcy5EYj0hMDt0aGlzLldhJiYodGhpcy5XYS5jbG9zZSgpLHRoaXMuV2E9bnVsbCk7dGhpcy5rYyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5rYyksdGhpcy5rYz1udWxsKTt0aGlzLnViJiYoY2xlYXJUaW1lb3V0KHRoaXMudWIpLHRoaXMudWI9bnVsbCl9O1xuaC5iYj1mdW5jdGlvbigpe3RoaXMuRGJ8fCh0aGlzLmYoXCJMb25ncG9sbCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLmZkKCksdGhpcy5uYSYmKHRoaXMubmEodGhpcy5LYyksdGhpcy5uYT1udWxsKSl9O2guY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLkRifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgYmVpbmcgY2xvc2VkLlwiKSx0aGlzLmZkKCkpfTtoLnNlbmQ9ZnVuY3Rpb24oYSl7YT1HKGEpO3RoaXMuc2IrPWEubGVuZ3RoO3JjKHRoaXMuWGEsXCJieXRlc19zZW50XCIsYS5sZW5ndGgpO2E9T2IoYSk7YT1uYihhLCEwKTthPXlkKGEsMTg0MCk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuV2E7Yy5jZC5wdXNoKHtZZzp0aGlzLm1mLGhoOmEubGVuZ3RoLG9mOmFbYl19KTtjLm9lJiZ0aChjKTt0aGlzLm1mKyt9fTtmdW5jdGlvbiByaChhLGIpe3ZhciBjPUcoYikubGVuZ3RoO2EucmIrPWM7cmMoYS5YYSxcImJ5dGVzX3JlY2VpdmVkXCIsYyl9XG5mdW5jdGlvbiBxaChhLGIsYyxkKXt0aGlzLmxkPWQ7dGhpcy5sYj1jO3RoaXMuVGU9bmV3IHVnO3RoaXMuY2Q9W107dGhpcy53ZT1NYXRoLmZsb29yKDFFOCpNYXRoLnJhbmRvbSgpKTt0aGlzLiRkPSEwO3RoaXMua2U9aWQoKTt3aW5kb3dbXCJwTFBDb21tYW5kXCIrdGhpcy5rZV09YTt3aW5kb3dbXCJwUlRMUENCXCIrdGhpcy5rZV09YjthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7YS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKGRvY3VtZW50LmJvZHkpe2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7dHJ5e2EuY29udGVudFdpbmRvdy5kb2N1bWVudHx8ZmMoXCJObyBJRSBkb21haW4gc2V0dGluZyByZXF1aXJlZFwiKX1jYXRjaChlKXthLnNyYz1cImphdmFzY3JpcHQ6dm9pZCgoZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSdcIitkb2N1bWVudC5kb21haW4rXCInO2RvY3VtZW50LmNsb3NlKCk7fSkoKSlcIn19ZWxzZSB0aHJvd1wiRG9jdW1lbnQgYm9keSBoYXMgbm90IGluaXRpYWxpemVkLiBXYWl0IHRvIGluaXRpYWxpemUgRmlyZWJhc2UgdW50aWwgYWZ0ZXIgdGhlIGRvY3VtZW50IGlzIHJlYWR5LlwiO1xuYS5jb250ZW50RG9jdW1lbnQ/YS5qYj1hLmNvbnRlbnREb2N1bWVudDphLmNvbnRlbnRXaW5kb3c/YS5qYj1hLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6YS5kb2N1bWVudCYmKGEuamI9YS5kb2N1bWVudCk7dGhpcy5HYT1hO2E9XCJcIjt0aGlzLkdhLnNyYyYmXCJqYXZhc2NyaXB0OlwiPT09dGhpcy5HYS5zcmMuc3Vic3RyKDAsMTEpJiYoYT0nPHNjcmlwdD5kb2N1bWVudC5kb21haW49XCInK2RvY3VtZW50LmRvbWFpbisnXCI7XFx4M2Mvc2NyaXB0PicpO2E9XCI8aHRtbD48Ym9keT5cIithK1wiPC9ib2R5PjwvaHRtbD5cIjt0cnl7dGhpcy5HYS5qYi5vcGVuKCksdGhpcy5HYS5qYi53cml0ZShhKSx0aGlzLkdhLmpiLmNsb3NlKCl9Y2F0Y2goZil7ZmMoXCJmcmFtZSB3cml0aW5nIGV4Y2VwdGlvblwiKSxmLnN0YWNrJiZmYyhmLnN0YWNrKSxmYyhmKX19XG5xaC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLm9lPSExO2lmKHRoaXMuR2Epe3RoaXMuR2EuamIuYm9keS5pbm5lckhUTUw9XCJcIjt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtudWxsIT09YS5HYSYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYS5HYSksYS5HYT1udWxsKX0sTWF0aC5mbG9vcigwKSl9dmFyIGI9dGhpcy5sYjtiJiYodGhpcy5sYj1udWxsLGIoKSl9O1xuZnVuY3Rpb24gdGgoYSl7aWYoYS5vZSYmYS4kZCYmYS5UZS5jb3VudCgpPCgwPGEuY2QubGVuZ3RoPzI6MSkpe2Eud2UrKzt2YXIgYj17fTtiLmlkPWEuR2c7Yi5wdz1hLkhnO2Iuc2VyPWEud2U7Zm9yKHZhciBiPWEubGQoYiksYz1cIlwiLGQ9MDswPGEuY2QubGVuZ3RoOylpZigxODcwPj1hLmNkWzBdLm9mLmxlbmd0aCszMCtjLmxlbmd0aCl7dmFyIGU9YS5jZC5zaGlmdCgpLGM9YytcIiZzZWdcIitkK1wiPVwiK2UuWWcrXCImdHNcIitkK1wiPVwiK2UuaGgrXCImZFwiK2QrXCI9XCIrZS5vZjtkKyt9ZWxzZSBicmVhazt1aChhLGIrYyxhLndlKTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiB1aChhLGIsYyl7ZnVuY3Rpb24gZCgpe2EuVGUucmVtb3ZlKGMpO3RoKGEpfWEuVGUuYWRkKGMsMSk7dmFyIGU9c2V0VGltZW91dChkLE1hdGguZmxvb3IoMjVFMykpO3NoKGEsYixmdW5jdGlvbigpe2NsZWFyVGltZW91dChlKTtkKCl9KX1cbmZ1bmN0aW9uIHNoKGEsYixjKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dHJ5e2lmKGEuJGQpe3ZhciBkPWEuR2EuamIuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmFzeW5jPSEwO2Quc3JjPWI7ZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgYT1kLnJlYWR5U3RhdGU7YSYmXCJsb2FkZWRcIiE9PWEmJlwiY29tcGxldGVcIiE9PWF8fChkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGMoKSl9O2Qub25lcnJvcj1mdW5jdGlvbigpe2ZjKFwiTG9uZy1wb2xsIHNjcmlwdCBmYWlsZWQgdG8gbG9hZDogXCIrYik7YS4kZD0hMTthLmNsb3NlKCl9O2EuR2EuamIuYm9keS5hcHBlbmRDaGlsZChkKX19Y2F0Y2goZSl7fX0sTWF0aC5mbG9vcigxKSl9O3ZhciB2aD1udWxsO1widW5kZWZpbmVkXCIhPT10eXBlb2YgTW96V2ViU29ja2V0P3ZoPU1veldlYlNvY2tldDpcInVuZGVmaW5lZFwiIT09dHlwZW9mIFdlYlNvY2tldCYmKHZoPVdlYlNvY2tldCk7ZnVuY3Rpb24gd2goYSxiLGMsZCl7dGhpcy51ZT1hO3RoaXMuZj1wZCh0aGlzLnVlKTt0aGlzLmZyYW1lcz10aGlzLk5jPW51bGw7dGhpcy5yYj10aGlzLnNiPXRoaXMuZmY9MDt0aGlzLlhhPXVjKGIpO2E9e3Y6XCI1XCJ9O1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJihhLnI9XCJmXCIpO2MmJihhLnM9Yyk7ZCYmKGEubHM9ZCk7dGhpcy5qZj1mZChiLGdkLGEpfXZhciB4aDtcbndoLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7dGhpcy5sYj1iO3RoaXMuTGc9YTt0aGlzLmYoXCJXZWJzb2NrZXQgY29ubmVjdGluZyB0byBcIit0aGlzLmpmKTt0aGlzLktjPSExO2JkLnNldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIsITApO3RyeXt0aGlzLkxhPW5ldyB2aCh0aGlzLmpmKX1jYXRjaChjKXt0aGlzLmYoXCJFcnJvciBpbnN0YW50aWF0aW5nIFdlYlNvY2tldC5cIik7dmFyIGQ9Yy5tZXNzYWdlfHxjLmRhdGE7ZCYmdGhpcy5mKGQpO3RoaXMuYmIoKTtyZXR1cm59dmFyIGU9dGhpczt0aGlzLkxhLm9ub3Blbj1mdW5jdGlvbigpe2UuZihcIldlYnNvY2tldCBjb25uZWN0ZWQuXCIpO2UuS2M9ITB9O3RoaXMuTGEub25jbG9zZT1mdW5jdGlvbigpe2UuZihcIldlYnNvY2tldCBjb25uZWN0aW9uIHdhcyBkaXNjb25uZWN0ZWQuXCIpO2UuTGE9bnVsbDtlLmJiKCl9O3RoaXMuTGEub25tZXNzYWdlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPT1lLkxhKWlmKGE9YS5kYXRhLGUucmIrPVxuYS5sZW5ndGgscmMoZS5YYSxcImJ5dGVzX3JlY2VpdmVkXCIsYS5sZW5ndGgpLHloKGUpLG51bGwhPT1lLmZyYW1lcyl6aChlLGEpO2Vsc2V7YTp7TyhudWxsPT09ZS5mcmFtZXMsXCJXZSBhbHJlYWR5IGhhdmUgYSBmcmFtZSBidWZmZXJcIik7aWYoNj49YS5sZW5ndGgpe3ZhciBiPU51bWJlcihhKTtpZighaXNOYU4oYikpe2UuZmY9YjtlLmZyYW1lcz1bXTthPW51bGw7YnJlYWsgYX19ZS5mZj0xO2UuZnJhbWVzPVtdfW51bGwhPT1hJiZ6aChlLGEpfX07dGhpcy5MYS5vbmVycm9yPWZ1bmN0aW9uKGEpe2UuZihcIldlYlNvY2tldCBlcnJvci4gIENsb3NpbmcgY29ubmVjdGlvbi5cIik7KGE9YS5tZXNzYWdlfHxhLmRhdGEpJiZlLmYoYSk7ZS5iYigpfX07d2gucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7fTtcbndoLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7dmFyIGE9ITE7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQpe3ZhciBiPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQgKFswLTldezAsfVxcLlswLTldezAsfSkvKTtiJiYxPGIubGVuZ3RoJiY0LjQ+cGFyc2VGbG9hdChiWzFdKSYmKGE9ITApfXJldHVybiFhJiZudWxsIT09dmgmJiF4aH07d2gucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeT0yO3doLmhlYWx0aHlUaW1lb3V0PTNFNDtoPXdoLnByb3RvdHlwZTtoLkhkPWZ1bmN0aW9uKCl7YmQucmVtb3ZlKFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIil9O2Z1bmN0aW9uIHpoKGEsYil7YS5mcmFtZXMucHVzaChiKTtpZihhLmZyYW1lcy5sZW5ndGg9PWEuZmYpe3ZhciBjPWEuZnJhbWVzLmpvaW4oXCJcIik7YS5mcmFtZXM9bnVsbDtjPVJiKGMpO2EuTGcoYyl9fVxuaC5zZW5kPWZ1bmN0aW9uKGEpe3loKHRoaXMpO2E9RyhhKTt0aGlzLnNiKz1hLmxlbmd0aDtyYyh0aGlzLlhhLFwiYnl0ZXNfc2VudFwiLGEubGVuZ3RoKTthPXlkKGEsMTYzODQpOzE8YS5sZW5ndGgmJkFoKHRoaXMsU3RyaW5nKGEubGVuZ3RoKSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspQWgodGhpcyxhW2JdKX07aC5mZD1mdW5jdGlvbigpe3RoaXMuRGI9ITA7dGhpcy5OYyYmKGNsZWFySW50ZXJ2YWwodGhpcy5OYyksdGhpcy5OYz1udWxsKTt0aGlzLkxhJiYodGhpcy5MYS5jbG9zZSgpLHRoaXMuTGE9bnVsbCl9O2guYmI9ZnVuY3Rpb24oKXt0aGlzLkRifHwodGhpcy5mKFwiV2ViU29ja2V0IGlzIGNsb3NpbmcgaXRzZWxmXCIpLHRoaXMuZmQoKSx0aGlzLmxiJiYodGhpcy5sYih0aGlzLktjKSx0aGlzLmxiPW51bGwpKX07aC5jbG9zZT1mdW5jdGlvbigpe3RoaXMuRGJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgYmVpbmcgY2xvc2VkXCIpLHRoaXMuZmQoKSl9O1xuZnVuY3Rpb24geWgoYSl7Y2xlYXJJbnRlcnZhbChhLk5jKTthLk5jPXNldEludGVydmFsKGZ1bmN0aW9uKCl7YS5MYSYmQWgoYSxcIjBcIik7eWgoYSl9LE1hdGguZmxvb3IoNDVFMykpfWZ1bmN0aW9uIEFoKGEsYil7dHJ5e2EuTGEuc2VuZChiKX1jYXRjaChjKXthLmYoXCJFeGNlcHRpb24gdGhyb3duIGZyb20gV2ViU29ja2V0LnNlbmQoKTpcIixjLm1lc3NhZ2V8fGMuZGF0YSxcIkNsb3NpbmcgY29ubmVjdGlvbi5cIiksc2V0VGltZW91dCh1KGEuYmIsYSksMCl9fTtmdW5jdGlvbiBCaChhKXtDaCh0aGlzLGEpfXZhciBEaD1bbmgsd2hdO2Z1bmN0aW9uIENoKGEsYil7dmFyIGM9d2gmJndoLmlzQXZhaWxhYmxlKCksZD1jJiYhKGJkLkFmfHwhMD09PWJkLmdldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIpKTtiLmpoJiYoY3x8UyhcIndzczovLyBVUkwgdXNlZCwgYnV0IGJyb3dzZXIgaXNuJ3Qga25vd24gdG8gc3VwcG9ydCB3ZWJzb2NrZXRzLiAgVHJ5aW5nIGFueXdheS5cIiksZD0hMCk7aWYoZClhLmpkPVt3aF07ZWxzZXt2YXIgZT1hLmpkPVtdO3pkKERoLGZ1bmN0aW9uKGEsYil7YiYmYi5pc0F2YWlsYWJsZSgpJiZlLnB1c2goYil9KX19ZnVuY3Rpb24gRWgoYSl7aWYoMDxhLmpkLmxlbmd0aClyZXR1cm4gYS5qZFswXTt0aHJvdyBFcnJvcihcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpO307ZnVuY3Rpb24gRmgoYSxiLGMsZCxlLGYsZyl7dGhpcy5pZD1hO3RoaXMuZj1wZChcImM6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy5uYz1jO3RoaXMuWmM9ZDt0aGlzLm5hPWU7dGhpcy5SZT1mO3RoaXMuRz1iO3RoaXMuUGQ9W107dGhpcy5rZj0wO3RoaXMuV2Y9bmV3IEJoKGIpO3RoaXMuTj0wO3RoaXMuRmI9Zzt0aGlzLmYoXCJDb25uZWN0aW9uIGNyZWF0ZWRcIik7R2godGhpcyl9XG5mdW5jdGlvbiBHaChhKXt2YXIgYj1FaChhLldmKTthLks9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5rZisrLGEuRyx2b2lkIDAsYS5GYik7YS5WZT1iLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIGM9SGgoYSxhLkspLGQ9SWgoYSxhLkspO2Eua2Q9YS5LO2EuZWQ9YS5LO2EuRj1udWxsO2EuRWI9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe2EuSyYmYS5LLm9wZW4oYyxkKX0sTWF0aC5mbG9vcigwKSk7Yj1iLmhlYWx0aHlUaW1lb3V0fHwwOzA8YiYmKGEuQmQ9c2V0VGltZW91dChmdW5jdGlvbigpe2EuQmQ9bnVsbDthLkVifHwoYS5LJiYxMDI0MDA8YS5LLnJiPyhhLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHJlY2VpdmVkIFwiK2EuSy5yYitcIiBieXRlcy4gIE1hcmtpbmcgY29ubmVjdGlvbiBoZWFsdGh5LlwiKSxhLkViPSEwLGEuSy5IZCgpKTphLksmJjEwMjQwPGEuSy5zYj9hLmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHNlbnQgXCIrXG5hLksuc2IrXCIgYnl0ZXMuICBMZWF2aW5nIGNvbm5lY3Rpb24gYWxpdmUuXCIpOihhLmYoXCJDbG9zaW5nIHVuaGVhbHRoeSBjb25uZWN0aW9uIGFmdGVyIHRpbWVvdXQuXCIpLGEuY2xvc2UoKSkpfSxNYXRoLmZsb29yKGIpKSl9ZnVuY3Rpb24gSWgoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yj09PWEuSz8oYS5LPW51bGwsY3x8MCE9PWEuTj8xPT09YS5OJiZhLmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGxvc3QuXCIpOihhLmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGZhaWxlZC5cIiksXCJzLVwiPT09YS5HLmFiLnN1YnN0cigwLDIpJiYoYmQucmVtb3ZlKFwiaG9zdDpcIithLkcuaG9zdCksYS5HLmFiPWEuRy5ob3N0KSksYS5jbG9zZSgpKTpiPT09YS5GPyhhLmYoXCJTZWNvbmRhcnkgY29ubmVjdGlvbiBsb3N0LlwiKSxjPWEuRixhLkY9bnVsbCxhLmtkIT09YyYmYS5lZCE9PWN8fGEuY2xvc2UoKSk6YS5mKFwiY2xvc2luZyBhbiBvbGQgY29ubmVjdGlvblwiKX19XG5mdW5jdGlvbiBIaChhLGIpe3JldHVybiBmdW5jdGlvbihjKXtpZigyIT1hLk4paWYoYj09PWEuZWQpe3ZhciBkPXdkKFwidFwiLGMpO2M9d2QoXCJkXCIsYyk7aWYoXCJjXCI9PWQpe2lmKGQ9d2QoXCJ0XCIsYyksXCJkXCJpbiBjKWlmKGM9Yy5kLFwiaFwiPT09ZCl7dmFyIGQ9Yy50cyxlPWMudixmPWMuaDthLlVmPWMucztlZChhLkcsZik7MD09YS5OJiYoYS5LLnN0YXJ0KCksSmgoYSxhLkssZCksXCI1XCIhPT1lJiZTKFwiUHJvdG9jb2wgdmVyc2lvbiBtaXNtYXRjaCBkZXRlY3RlZFwiKSxjPWEuV2YsKGM9MTxjLmpkLmxlbmd0aD9jLmpkWzFdOm51bGwpJiZLaChhLGMpKX1lbHNlIGlmKFwiblwiPT09ZCl7YS5mKFwicmVjdmQgZW5kIHRyYW5zbWlzc2lvbiBvbiBwcmltYXJ5XCIpO2EuZWQ9YS5GO2ZvcihjPTA7YzxhLlBkLmxlbmd0aDsrK2MpYS5MZChhLlBkW2NdKTthLlBkPVtdO0xoKGEpfWVsc2VcInNcIj09PWQ/KGEuZihcIkNvbm5lY3Rpb24gc2h1dGRvd24gY29tbWFuZCByZWNlaXZlZC4gU2h1dHRpbmcgZG93bi4uLlwiKSxcbmEuUmUmJihhLlJlKGMpLGEuUmU9bnVsbCksYS5uYT1udWxsLGEuY2xvc2UoKSk6XCJyXCI9PT1kPyhhLmYoXCJSZXNldCBwYWNrZXQgcmVjZWl2ZWQuICBOZXcgaG9zdDogXCIrYyksZWQoYS5HLGMpLDE9PT1hLk4/YS5jbG9zZSgpOihNaChhKSxHaChhKSkpOlwiZVwiPT09ZD9xZChcIlNlcnZlciBFcnJvcjogXCIrYyk6XCJvXCI9PT1kPyhhLmYoXCJnb3QgcG9uZyBvbiBwcmltYXJ5LlwiKSxOaChhKSxPaChhKSk6cWQoXCJVbmtub3duIGNvbnRyb2wgcGFja2V0IGNvbW1hbmQ6IFwiK2QpfWVsc2VcImRcIj09ZCYmYS5MZChjKX1lbHNlIGlmKGI9PT1hLkYpaWYoZD13ZChcInRcIixjKSxjPXdkKFwiZFwiLGMpLFwiY1wiPT1kKVwidFwiaW4gYyYmKGM9Yy50LFwiYVwiPT09Yz9QaChhKTpcInJcIj09PWM/KGEuZihcIkdvdCBhIHJlc2V0IG9uIHNlY29uZGFyeSwgY2xvc2luZyBpdFwiKSxhLkYuY2xvc2UoKSxhLmtkIT09YS5GJiZhLmVkIT09YS5GfHxhLmNsb3NlKCkpOlwib1wiPT09YyYmKGEuZihcImdvdCBwb25nIG9uIHNlY29uZGFyeS5cIiksXG5hLlRmLS0sUGgoYSkpKTtlbHNlIGlmKFwiZFwiPT1kKWEuUGQucHVzaChjKTtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBwcm90b2NvbCBsYXllcjogXCIrZCk7ZWxzZSBhLmYoXCJtZXNzYWdlIG9uIG9sZCBjb25uZWN0aW9uXCIpfX1GaC5wcm90b3R5cGUuSWE9ZnVuY3Rpb24oYSl7UWgodGhpcyx7dDpcImRcIixkOmF9KX07ZnVuY3Rpb24gTGgoYSl7YS5rZD09PWEuRiYmYS5lZD09PWEuRiYmKGEuZihcImNsZWFuaW5nIHVwIGFuZCBwcm9tb3RpbmcgYSBjb25uZWN0aW9uOiBcIithLkYudWUpLGEuSz1hLkYsYS5GPW51bGwpfVxuZnVuY3Rpb24gUGgoYSl7MD49YS5UZj8oYS5mKFwiU2Vjb25kYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5FYj0hMCxhLkYuSGQoKSxhLkYuc3RhcnQoKSxhLmYoXCJzZW5kaW5nIGNsaWVudCBhY2sgb24gc2Vjb25kYXJ5XCIpLGEuRi5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJhXCIsZDp7fX19KSxhLmYoXCJFbmRpbmcgdHJhbnNtaXNzaW9uIG9uIHByaW1hcnlcIiksYS5LLnNlbmQoe3Q6XCJjXCIsZDp7dDpcIm5cIixkOnt9fX0pLGEua2Q9YS5GLExoKGEpKTooYS5mKFwic2VuZGluZyBwaW5nIG9uIHNlY29uZGFyeS5cIiksYS5GLnNlbmQoe3Q6XCJjXCIsZDp7dDpcInBcIixkOnt9fX0pKX1GaC5wcm90b3R5cGUuTGQ9ZnVuY3Rpb24oYSl7TmgodGhpcyk7dGhpcy5uYyhhKX07ZnVuY3Rpb24gTmgoYSl7YS5FYnx8KGEuVmUtLSwwPj1hLlZlJiYoYS5mKFwiUHJpbWFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLGEuRWI9ITAsYS5LLkhkKCkpKX1cbmZ1bmN0aW9uIEtoKGEsYil7YS5GPW5ldyBiKFwiYzpcIithLmlkK1wiOlwiK2Eua2YrKyxhLkcsYS5VZik7YS5UZj1iLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7YS5GLm9wZW4oSGgoYSxhLkYpLEloKGEsYS5GKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuRiYmKGEuZihcIlRpbWVkIG91dCB0cnlpbmcgdG8gdXBncmFkZS5cIiksYS5GLmNsb3NlKCkpfSxNYXRoLmZsb29yKDZFNCkpfWZ1bmN0aW9uIEpoKGEsYixjKXthLmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKTthLks9YjthLk49MTthLlpjJiYoYS5aYyhjLGEuVWYpLGEuWmM9bnVsbCk7MD09PWEuVmU/KGEuZihcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkViPSEwKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7T2goYSl9LE1hdGguZmxvb3IoNUUzKSl9XG5mdW5jdGlvbiBPaChhKXthLkVifHwxIT09YS5OfHwoYS5mKFwic2VuZGluZyBwaW5nIG9uIHByaW1hcnkuXCIpLFFoKGEse3Q6XCJjXCIsZDp7dDpcInBcIixkOnt9fX0pKX1mdW5jdGlvbiBRaChhLGIpe2lmKDEhPT1hLk4pdGhyb3dcIkNvbm5lY3Rpb24gaXMgbm90IGNvbm5lY3RlZFwiO2Eua2Quc2VuZChiKX1GaC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXsyIT09dGhpcy5OJiYodGhpcy5mKFwiQ2xvc2luZyByZWFsdGltZSBjb25uZWN0aW9uLlwiKSx0aGlzLk49MixNaCh0aGlzKSx0aGlzLm5hJiYodGhpcy5uYSgpLHRoaXMubmE9bnVsbCkpfTtmdW5jdGlvbiBNaChhKXthLmYoXCJTaHV0dGluZyBkb3duIGFsbCBjb25uZWN0aW9uc1wiKTthLksmJihhLksuY2xvc2UoKSxhLks9bnVsbCk7YS5GJiYoYS5GLmNsb3NlKCksYS5GPW51bGwpO2EuQmQmJihjbGVhclRpbWVvdXQoYS5CZCksYS5CZD1udWxsKX07ZnVuY3Rpb24gUmgoYSxiLGMsZCl7dGhpcy5pZD1TaCsrO3RoaXMuZj1wZChcInA6XCIrdGhpcy5pZCtcIjpcIik7dGhpcy5CZj10aGlzLkllPSExO3RoaXMuYmE9e307dGhpcy5zYT1bXTt0aGlzLmFkPTA7dGhpcy5ZYz1bXTt0aGlzLnFhPSExO3RoaXMuZWI9MUUzO3RoaXMuSWQ9M0U1O3RoaXMuS2I9Yjt0aGlzLlhjPWM7dGhpcy5TZT1kO3RoaXMuRz1hO3RoaXMud2I9dGhpcy5DYT10aGlzLk1hPXRoaXMuRmI9dGhpcy4kZT1udWxsO3RoaXMuU2I9ITE7dGhpcy5XZD17fTt0aGlzLlhnPTA7dGhpcy5yZj0hMDt0aGlzLk9jPXRoaXMuS2U9bnVsbDtUaCh0aGlzLDApO2tmLnliKCkuSWIoXCJ2aXNpYmxlXCIsdGhpcy5PZyx0aGlzKTstMT09PWEuaG9zdC5pbmRleE9mKFwiZmJsb2NhbFwiKSYmamYueWIoKS5JYihcIm9ubGluZVwiLHRoaXMuTWcsdGhpcyl9dmFyIFNoPTAsVWg9MDtoPVJoLnByb3RvdHlwZTtcbmguSWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSsrdGhpcy5YZzthPXtyOmQsYTphLGI6Yn07dGhpcy5mKEcoYSkpO08odGhpcy5xYSxcInNlbmRSZXF1ZXN0IGNhbGwgd2hlbiB3ZSdyZSBub3QgY29ubmVjdGVkIG5vdCBhbGxvd2VkLlwiKTt0aGlzLk1hLklhKGEpO2MmJih0aGlzLldkW2RdPWMpfTtoLkNmPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEud2EoKSxmPWEucGF0aC50b1N0cmluZygpO3RoaXMuZihcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK2YrXCIgXCIrZSk7dGhpcy5iYVtmXT10aGlzLmJhW2ZdfHx7fTtPKEllKGEubil8fCFIZShhLm4pLFwibGlzdGVuKCkgY2FsbGVkIGZvciBub24tZGVmYXVsdCBidXQgY29tcGxldGUgcXVlcnlcIik7TyghdGhpcy5iYVtmXVtlXSxcImxpc3RlbigpIGNhbGxlZCB0d2ljZSBmb3Igc2FtZSBwYXRoL3F1ZXJ5SWQuXCIpO2E9e0k6ZCxBZDpiLFVnOmEsdGFnOmN9O3RoaXMuYmFbZl1bZV09YTt0aGlzLnFhJiZWaCh0aGlzLGEpfTtcbmZ1bmN0aW9uIFZoKGEsYil7dmFyIGM9Yi5VZyxkPWMucGF0aC50b1N0cmluZygpLGU9Yy53YSgpO2EuZihcIkxpc3RlbiBvbiBcIitkK1wiIGZvciBcIitlKTt2YXIgZj17cDpkfTtiLnRhZyYmKGYucT1HZShjLm4pLGYudD1iLnRhZyk7Zi5oPWIuQWQoKTthLklhKFwicVwiLGYsZnVuY3Rpb24oZil7dmFyIGs9Zi5kLG09Zi5zO2lmKGsmJlwib2JqZWN0XCI9PT10eXBlb2YgayYmeShrLFwid1wiKSl7dmFyIGw9eihrLFwid1wiKTtkYShsKSYmMDw9TGEobCxcIm5vX2luZGV4XCIpJiZTKFwiVXNpbmcgYW4gdW5zcGVjaWZpZWQgaW5kZXguIENvbnNpZGVyIGFkZGluZyBcIisoJ1wiLmluZGV4T25cIjogXCInK2Mubi5nLnRvU3RyaW5nKCkrJ1wiJykrXCIgYXQgXCIrYy5wYXRoLnRvU3RyaW5nKCkrXCIgdG8geW91ciBzZWN1cml0eSBydWxlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXCIpfShhLmJhW2RdJiZhLmJhW2RdW2VdKT09PWImJihhLmYoXCJsaXN0ZW4gcmVzcG9uc2VcIixmKSxcIm9rXCIhPT1tJiZXaChhLGQsZSksYi5JJiZcbmIuSShtLGspKX0pfWguTz1mdW5jdGlvbihhLGIsYyl7dGhpcy5DYT17cmc6YSxzZjohMSxEYzpiLG9kOmN9O3RoaXMuZihcIkF1dGhlbnRpY2F0aW5nIHVzaW5nIGNyZWRlbnRpYWw6IFwiK2EpO1hoKHRoaXMpOyhiPTQwPT1hLmxlbmd0aCl8fChhPUNkKGEpLkVjLGI9XCJvYmplY3RcIj09PXR5cGVvZiBhJiYhMD09PXooYSxcImFkbWluXCIpKTtiJiYodGhpcy5mKFwiQWRtaW4gYXV0aCBjcmVkZW50aWFsIGRldGVjdGVkLiAgUmVkdWNpbmcgbWF4IHJlY29ubmVjdCB0aW1lLlwiKSx0aGlzLklkPTNFNCl9O2guamU9ZnVuY3Rpb24oYSl7dGhpcy5DYT1udWxsO3RoaXMucWEmJnRoaXMuSWEoXCJ1bmF1dGhcIix7fSxmdW5jdGlvbihiKXthKGIucyxiLmQpfSl9O1xuZnVuY3Rpb24gWGgoYSl7dmFyIGI9YS5DYTthLnFhJiZiJiZhLklhKFwiYXV0aFwiLHtjcmVkOmIucmd9LGZ1bmN0aW9uKGMpe3ZhciBkPWMucztjPWMuZHx8XCJlcnJvclwiO1wib2tcIiE9PWQmJmEuQ2E9PT1iJiYoYS5DYT1udWxsKTtiLnNmP1wib2tcIiE9PWQmJmIub2QmJmIub2QoZCxjKTooYi5zZj0hMCxiLkRjJiZiLkRjKGQsYykpfSl9aC4kZj1mdW5jdGlvbihhLGIpe3ZhciBjPWEucGF0aC50b1N0cmluZygpLGQ9YS53YSgpO3RoaXMuZihcIlVubGlzdGVuIGNhbGxlZCBmb3IgXCIrYytcIiBcIitkKTtPKEllKGEubil8fCFIZShhLm4pLFwidW5saXN0ZW4oKSBjYWxsZWQgZm9yIG5vbi1kZWZhdWx0IGJ1dCBjb21wbGV0ZSBxdWVyeVwiKTtpZihXaCh0aGlzLGMsZCkmJnRoaXMucWEpe3ZhciBlPUdlKGEubik7dGhpcy5mKFwiVW5saXN0ZW4gb24gXCIrYytcIiBmb3IgXCIrZCk7Yz17cDpjfTtiJiYoYy5xPWUsYy50PWIpO3RoaXMuSWEoXCJuXCIsYyl9fTtcbmguUWU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucWE/WWgodGhpcyxcIm9cIixhLGIsYyk6dGhpcy5ZYy5wdXNoKHtiZDphLGFjdGlvbjpcIm9cIixkYXRhOmIsSTpjfSl9O2guR2Y9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucWE/WWgodGhpcyxcIm9tXCIsYSxiLGMpOnRoaXMuWWMucHVzaCh7YmQ6YSxhY3Rpb246XCJvbVwiLGRhdGE6YixJOmN9KX07aC5NZD1mdW5jdGlvbihhLGIpe3RoaXMucWE/WWgodGhpcyxcIm9jXCIsYSxudWxsLGIpOnRoaXMuWWMucHVzaCh7YmQ6YSxhY3Rpb246XCJvY1wiLGRhdGE6bnVsbCxJOmJ9KX07ZnVuY3Rpb24gWWgoYSxiLGMsZCxlKXtjPXtwOmMsZDpkfTthLmYoXCJvbkRpc2Nvbm5lY3QgXCIrYixjKTthLklhKGIsYyxmdW5jdGlvbihhKXtlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShhLnMsYS5kKX0sTWF0aC5mbG9vcigwKSl9KX1oLnB1dD1mdW5jdGlvbihhLGIsYyxkKXtaaCh0aGlzLFwicFwiLGEsYixjLGQpfTtcbmguRGY9ZnVuY3Rpb24oYSxiLGMsZCl7WmgodGhpcyxcIm1cIixhLGIsYyxkKX07ZnVuY3Rpb24gWmgoYSxiLGMsZCxlLGYpe2Q9e3A6YyxkOmR9O3AoZikmJihkLmg9Zik7YS5zYS5wdXNoKHthY3Rpb246YixQZjpkLEk6ZX0pO2EuYWQrKztiPWEuc2EubGVuZ3RoLTE7YS5xYT8kaChhLGIpOmEuZihcIkJ1ZmZlcmluZyBwdXQ6IFwiK2MpfWZ1bmN0aW9uICRoKGEsYil7dmFyIGM9YS5zYVtiXS5hY3Rpb24sZD1hLnNhW2JdLlBmLGU9YS5zYVtiXS5JO2Euc2FbYl0uVmc9YS5xYTthLklhKGMsZCxmdW5jdGlvbihkKXthLmYoYytcIiByZXNwb25zZVwiLGQpO2RlbGV0ZSBhLnNhW2JdO2EuYWQtLTswPT09YS5hZCYmKGEuc2E9W10pO2UmJmUoZC5zLGQuZCl9KX1cbmguWWU9ZnVuY3Rpb24oYSl7dGhpcy5xYSYmKGE9e2M6YX0sdGhpcy5mKFwicmVwb3J0U3RhdHNcIixhKSx0aGlzLklhKFwic1wiLGEsZnVuY3Rpb24oYSl7XCJva1wiIT09YS5zJiZ0aGlzLmYoXCJyZXBvcnRTdGF0c1wiLFwiRXJyb3Igc2VuZGluZyBzdGF0czogXCIrYS5kKX0pKX07XG5oLkxkPWZ1bmN0aW9uKGEpe2lmKFwiclwiaW4gYSl7dGhpcy5mKFwiZnJvbSBzZXJ2ZXI6IFwiK0coYSkpO3ZhciBiPWEucixjPXRoaXMuV2RbYl07YyYmKGRlbGV0ZSB0aGlzLldkW2JdLGMoYS5iKSl9ZWxzZXtpZihcImVycm9yXCJpbiBhKXRocm93XCJBIHNlcnZlci1zaWRlIGVycm9yIGhhcyBvY2N1cnJlZDogXCIrYS5lcnJvcjtcImFcImluIGEmJihiPWEuYSxjPWEuYix0aGlzLmYoXCJoYW5kbGVTZXJ2ZXJNZXNzYWdlXCIsYixjKSxcImRcIj09PWI/dGhpcy5LYihjLnAsYy5kLCExLGMudCk6XCJtXCI9PT1iP3RoaXMuS2IoYy5wLGMuZCwhMCxjLnQpOlwiY1wiPT09Yj9haSh0aGlzLGMucCxjLnEpOlwiYWNcIj09PWI/KGE9Yy5zLGI9Yy5kLGM9dGhpcy5DYSx0aGlzLkNhPW51bGwsYyYmYy5vZCYmYy5vZChhLGIpKTpcInNkXCI9PT1iP3RoaXMuJGU/dGhpcy4kZShjKTpcIm1zZ1wiaW4gYyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLmxvZyhcIkZJUkVCQVNFOiBcIitjLm1zZy5yZXBsYWNlKFwiXFxuXCIsXG5cIlxcbkZJUkVCQVNFOiBcIikpOnFkKFwiVW5yZWNvZ25pemVkIGFjdGlvbiByZWNlaXZlZCBmcm9tIHNlcnZlcjogXCIrRyhiKStcIlxcbkFyZSB5b3UgdXNpbmcgdGhlIGxhdGVzdCBjbGllbnQ/XCIpKX19O2guWmM9ZnVuY3Rpb24oYSxiKXt0aGlzLmYoXCJjb25uZWN0aW9uIHJlYWR5XCIpO3RoaXMucWE9ITA7dGhpcy5PYz0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLlNlKHtzZXJ2ZXJUaW1lT2Zmc2V0OmEtKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt0aGlzLkZiPWI7aWYodGhpcy5yZil7dmFyIGM9e307Y1tcInNkay5qcy5cIitFYi5yZXBsYWNlKC9cXC4vZyxcIi1cIildPTE7RGcoKT9jW1wiZnJhbWV3b3JrLmNvcmRvdmFcIl09MTpcIm9iamVjdFwiPT09dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3QmJihjW1wiZnJhbWV3b3JrLnJlYWN0bmF0aXZlXCJdPTEpO3RoaXMuWWUoYyl9YmkodGhpcyk7dGhpcy5yZj0hMTt0aGlzLlhjKCEwKX07XG5mdW5jdGlvbiBUaChhLGIpe08oIWEuTWEsXCJTY2hlZHVsaW5nIGEgY29ubmVjdCB3aGVuIHdlJ3JlIGFscmVhZHkgY29ubmVjdGVkL2luZz9cIik7YS53YiYmY2xlYXJUaW1lb3V0KGEud2IpO2Eud2I9c2V0VGltZW91dChmdW5jdGlvbigpe2Eud2I9bnVsbDtjaShhKX0sTWF0aC5mbG9vcihiKSl9aC5PZz1mdW5jdGlvbihhKXthJiYhdGhpcy5TYiYmdGhpcy5lYj09PXRoaXMuSWQmJih0aGlzLmYoXCJXaW5kb3cgYmVjYW1lIHZpc2libGUuICBSZWR1Y2luZyBkZWxheS5cIiksdGhpcy5lYj0xRTMsdGhpcy5NYXx8VGgodGhpcywwKSk7dGhpcy5TYj1hfTtoLk1nPWZ1bmN0aW9uKGEpe2E/KHRoaXMuZihcIkJyb3dzZXIgd2VudCBvbmxpbmUuXCIpLHRoaXMuZWI9MUUzLHRoaXMuTWF8fFRoKHRoaXMsMCkpOih0aGlzLmYoXCJCcm93c2VyIHdlbnQgb2ZmbGluZS4gIEtpbGxpbmcgY29ubmVjdGlvbi5cIiksdGhpcy5NYSYmdGhpcy5NYS5jbG9zZSgpKX07XG5oLklmPWZ1bmN0aW9uKCl7dGhpcy5mKFwiZGF0YSBjbGllbnQgZGlzY29ubmVjdGVkXCIpO3RoaXMucWE9ITE7dGhpcy5NYT1udWxsO2Zvcih2YXIgYT0wO2E8dGhpcy5zYS5sZW5ndGg7YSsrKXt2YXIgYj10aGlzLnNhW2FdO2ImJlwiaFwiaW4gYi5QZiYmYi5WZyYmKGIuSSYmYi5JKFwiZGlzY29ubmVjdFwiKSxkZWxldGUgdGhpcy5zYVthXSx0aGlzLmFkLS0pfTA9PT10aGlzLmFkJiYodGhpcy5zYT1bXSk7dGhpcy5XZD17fTtkaSh0aGlzKSYmKHRoaXMuU2I/dGhpcy5PYyYmKDNFNDwobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLk9jJiYodGhpcy5lYj0xRTMpLHRoaXMuT2M9bnVsbCk6KHRoaXMuZihcIldpbmRvdyBpc24ndCB2aXNpYmxlLiAgRGVsYXlpbmcgcmVjb25uZWN0LlwiKSx0aGlzLmViPXRoaXMuSWQsdGhpcy5LZT0obmV3IERhdGUpLmdldFRpbWUoKSksYT1NYXRoLm1heCgwLHRoaXMuZWItKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuS2UpKSxhKj1NYXRoLnJhbmRvbSgpLHRoaXMuZihcIlRyeWluZyB0byByZWNvbm5lY3QgaW4gXCIrXG5hK1wibXNcIiksVGgodGhpcyxhKSx0aGlzLmViPU1hdGgubWluKHRoaXMuSWQsMS4zKnRoaXMuZWIpKTt0aGlzLlhjKCExKX07ZnVuY3Rpb24gY2koYSl7aWYoZGkoYSkpe2EuZihcIk1ha2luZyBhIGNvbm5lY3Rpb24gYXR0ZW1wdFwiKTthLktlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2EuT2M9bnVsbDt2YXIgYj11KGEuTGQsYSksYz11KGEuWmMsYSksZD11KGEuSWYsYSksZT1hLmlkK1wiOlwiK1VoKys7YS5NYT1uZXcgRmgoZSxhLkcsYixjLGQsZnVuY3Rpb24oYil7UyhiK1wiIChcIithLkcudG9TdHJpbmcoKStcIilcIik7YS5CZj0hMH0sYS5GYil9fWguQ2I9ZnVuY3Rpb24oKXt0aGlzLkllPSEwO3RoaXMuTWE/dGhpcy5NYS5jbG9zZSgpOih0aGlzLndiJiYoY2xlYXJUaW1lb3V0KHRoaXMud2IpLHRoaXMud2I9bnVsbCksdGhpcy5xYSYmdGhpcy5JZigpKX07aC52Yz1mdW5jdGlvbigpe3RoaXMuSWU9ITE7dGhpcy5lYj0xRTM7dGhpcy5NYXx8VGgodGhpcywwKX07XG5mdW5jdGlvbiBhaShhLGIsYyl7Yz1jP09hKGMsZnVuY3Rpb24oYSl7cmV0dXJuIHhkKGEpfSkuam9pbihcIiRcIik6XCJkZWZhdWx0XCI7KGE9V2goYSxiLGMpKSYmYS5JJiZhLkkoXCJwZXJtaXNzaW9uX2RlbmllZFwiKX1mdW5jdGlvbiBXaChhLGIsYyl7Yj0obmV3IFAoYikpLnRvU3RyaW5nKCk7dmFyIGQ7cChhLmJhW2JdKT8oZD1hLmJhW2JdW2NdLGRlbGV0ZSBhLmJhW2JdW2NdLDA9PT1vYShhLmJhW2JdKSYmZGVsZXRlIGEuYmFbYl0pOmQ9dm9pZCAwO3JldHVybiBkfWZ1bmN0aW9uIGJpKGEpe1hoKGEpO3YoYS5iYSxmdW5jdGlvbihiKXt2KGIsZnVuY3Rpb24oYil7VmgoYSxiKX0pfSk7Zm9yKHZhciBiPTA7YjxhLnNhLmxlbmd0aDtiKyspYS5zYVtiXSYmJGgoYSxiKTtmb3IoO2EuWWMubGVuZ3RoOyliPWEuWWMuc2hpZnQoKSxZaChhLGIuYWN0aW9uLGIuYmQsYi5kYXRhLGIuSSl9ZnVuY3Rpb24gZGkoYSl7dmFyIGI7Yj1qZi55YigpLm9jO3JldHVybiFhLkJmJiYhYS5JZSYmYn07dmFyIFU9e3pnOmZ1bmN0aW9uKCl7b2g9eGg9ITB9fTtVLmZvcmNlTG9uZ1BvbGxpbmc9VS56ZztVLkFnPWZ1bmN0aW9uKCl7cGg9ITB9O1UuZm9yY2VXZWJTb2NrZXRzPVUuQWc7VS5FZz1mdW5jdGlvbigpe3JldHVybiB3aC5pc0F2YWlsYWJsZSgpfTtVLmlzV2ViU29ja2V0c0F2YWlsYWJsZT1VLkVnO1UuYWg9ZnVuY3Rpb24oYSxiKXthLmsuVmEuJGU9Yn07VS5zZXRTZWN1cml0eURlYnVnQ2FsbGJhY2s9VS5haDtVLmJmPWZ1bmN0aW9uKGEsYil7YS5rLmJmKGIpfTtVLnN0YXRzPVUuYmY7VS5jZj1mdW5jdGlvbihhLGIpe2Euay5jZihiKX07VS5zdGF0c0luY3JlbWVudENvdW50ZXI9VS5jZjtVLnVkPWZ1bmN0aW9uKGEpe3JldHVybiBhLmsudWR9O1UuZGF0YVVwZGF0ZUNvdW50PVUudWQ7VS5EZz1mdW5jdGlvbihhLGIpe2Euay5IZT1ifTtVLmludGVyY2VwdFNlcnZlckRhdGE9VS5EZztVLktnPWZ1bmN0aW9uKGEpe25ldyBPZyhhKX07VS5vblBvcHVwT3Blbj1VLktnO1xuVS5aZz1mdW5jdGlvbihhKXt4Zz1hfTtVLnNldEF1dGhlbnRpY2F0aW9uU2VydmVyPVUuWmc7ZnVuY3Rpb24gZWkoYSxiKXt0aGlzLmNvbW1pdHRlZD1hO3RoaXMuc25hcHNob3Q9Yn07ZnVuY3Rpb24gVihhLGIpe3RoaXMuZGQ9YTt0aGlzLnRhPWJ9Vi5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWxcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7RihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDEsYSwhMCk7dmFyIGI9bmV3IEI7dGhpcy5kZC5NZCh0aGlzLnRhLEMoYixhKSk7cmV0dXJuIGIuRH07Vi5wcm90b3R5cGUuY2FuY2VsPVYucHJvdG90eXBlLmNhbmNlbDtWLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLHRoaXMudGEpO0YoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIiwxLGEsITApO3ZhciBiPW5ldyBCO2ZpKHRoaXMuZGQsdGhpcy50YSxudWxsLEMoYixhKSk7cmV0dXJuIGIuRH07XG5WLnByb3RvdHlwZS5yZW1vdmU9Vi5wcm90b3R5cGUucmVtb3ZlO1YucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7b2coXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIix0aGlzLnRhKTtnZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLGEsdGhpcy50YSwhMSk7RihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLDIsYiwhMCk7dmFyIGM9bmV3IEI7ZmkodGhpcy5kZCx0aGlzLnRhLGEsQyhjLGIpKTtyZXR1cm4gYy5EfTtWLnByb3RvdHlwZS5zZXQ9Vi5wcm90b3R5cGUuc2V0O1xuVi5wcm90b3R5cGUuT2I9ZnVuY3Rpb24oYSxiLGMpe0QoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7b2coXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIix0aGlzLnRhKTtnZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLGEsdGhpcy50YSwhMSk7a2coXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwyLGIpO0YoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwzLGMsITApO3ZhciBkPW5ldyBCO2dpKHRoaXMuZGQsdGhpcy50YSxhLGIsQyhkLGMpKTtyZXR1cm4gZC5EfTtWLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9Vi5wcm90b3R5cGUuT2I7XG5WLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO29nKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsdGhpcy50YSk7aWYoZGEoYSkpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDsrK2QpY1tcIlwiK2RdPWFbZF07YT1jO1MoXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfWpnKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsYSx0aGlzLnRhKTtGKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsMixiLCEwKTtcbmM9bmV3IEI7aGkodGhpcy5kZCx0aGlzLnRhLGEsQyhjLGIpKTtyZXR1cm4gYy5EfTtWLnByb3RvdHlwZS51cGRhdGU9Vi5wcm90b3R5cGUudXBkYXRlO2Z1bmN0aW9uIFcoYSxiLGMpe3RoaXMuQT1hO3RoaXMuWT1iO3RoaXMuZz1jfVcucHJvdG90eXBlLko9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkooKX07Vy5wcm90b3R5cGUudmFsPVcucHJvdG90eXBlLko7Vy5wcm90b3R5cGUucWY9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4cG9ydFZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkooITApfTtXLnByb3RvdHlwZS5leHBvcnRWYWw9Vy5wcm90b3R5cGUucWY7Vy5wcm90b3R5cGUueGc9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4aXN0c1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4hdGhpcy5BLmUoKX07Vy5wcm90b3R5cGUuZXhpc3RzPVcucHJvdG90eXBlLnhnO1xuVy5wcm90b3R5cGUubz1mdW5jdGlvbihhKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmNoaWxkXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO2ZhKGEpJiYoYT1TdHJpbmcoYSkpO25nKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmNoaWxkXCIsYSk7dmFyIGI9bmV3IFAoYSksYz10aGlzLlkubyhiKTtyZXR1cm4gbmV3IFcodGhpcy5BLlMoYiksYyxSKX07Vy5wcm90b3R5cGUuY2hpbGQ9Vy5wcm90b3R5cGUubztXLnByb3RvdHlwZS5GYT1mdW5jdGlvbihhKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO25nKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsYSk7dmFyIGI9bmV3IFAoYSk7cmV0dXJuIXRoaXMuQS5TKGIpLmUoKX07Vy5wcm90b3R5cGUuaGFzQ2hpbGQ9Vy5wcm90b3R5cGUuRmE7XG5XLnByb3RvdHlwZS5DPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5nZXRQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkMoKS5KKCl9O1cucHJvdG90eXBlLmdldFByaW9yaXR5PVcucHJvdG90eXBlLkM7Vy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihhKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7RihcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSxhLCExKTtpZih0aGlzLkEuTCgpKXJldHVybiExO3ZhciBiPXRoaXM7cmV0dXJuISF0aGlzLkEuUih0aGlzLmcsZnVuY3Rpb24oYyxkKXtyZXR1cm4gYShuZXcgVyhkLGIuWS5vKGMpLFIpKX0pfTtXLnByb3RvdHlwZS5mb3JFYWNoPVcucHJvdG90eXBlLmZvckVhY2g7XG5XLnByb3RvdHlwZS56ZD1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5MKCk/ITE6IXRoaXMuQS5lKCl9O1cucHJvdG90eXBlLmhhc0NoaWxkcmVuPVcucHJvdG90eXBlLnpkO1cucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oKXtTKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm5hbWUoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlLkRhdGFTbmFwc2hvdC5rZXkoKSBpbnN0ZWFkLlwiKTtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm5hbWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMua2V5KCl9O1cucHJvdG90eXBlLm5hbWU9Vy5wcm90b3R5cGUubmFtZTtXLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5ZLmtleSgpfTtcblcucHJvdG90eXBlLmtleT1XLnByb3RvdHlwZS5rZXk7Vy5wcm90b3R5cGUuSGI9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm51bUNoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuSGIoKX07Vy5wcm90b3R5cGUubnVtQ2hpbGRyZW49Vy5wcm90b3R5cGUuSGI7Vy5wcm90b3R5cGUuTWI9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5ZfTtXLnByb3RvdHlwZS5yZWY9Vy5wcm90b3R5cGUuTWI7ZnVuY3Rpb24gaWkoYSxiLGMpe3RoaXMuVmI9YTt0aGlzLnRiPWI7dGhpcy52Yj1jfHxudWxsfWg9aWkucHJvdG90eXBlO2guUWY9ZnVuY3Rpb24oYSl7cmV0dXJuXCJ2YWx1ZVwiPT09YX07aC5jcmVhdGVFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPWIubi5nO3JldHVybiBuZXcgamMoXCJ2YWx1ZVwiLHRoaXMsbmV3IFcoYS5OYSxiLk1iKCksYykpfTtoLlpiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudmI7aWYoXCJjYW5jZWxcIj09PWEuRGUoKSl7Tyh0aGlzLnRiLFwiUmFpc2luZyBhIGNhbmNlbCBldmVudCBvbiBhIGxpc3RlbmVyIHdpdGggbm8gY2FuY2VsIGNhbGxiYWNrXCIpO3ZhciBjPXRoaXMudGI7cmV0dXJuIGZ1bmN0aW9uKCl7Yy5jYWxsKGIsYS5lcnJvcil9fXZhciBkPXRoaXMuVmI7cmV0dXJuIGZ1bmN0aW9uKCl7ZC5jYWxsKGIsYS5iZSl9fTtoLmxmPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudGI/bmV3IGtjKHRoaXMsYSxiKTpudWxsfTtcbmgubWF0Y2hlcz1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGlpP2EuVmImJnRoaXMuVmI/YS5WYj09PXRoaXMuVmImJmEudmI9PT10aGlzLnZiOiEwOiExfTtoLnlmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLlZifTtmdW5jdGlvbiBqaShhLGIsYyl7dGhpcy5qYT1hO3RoaXMudGI9Yjt0aGlzLnZiPWN9aD1qaS5wcm90b3R5cGU7aC5RZj1mdW5jdGlvbihhKXthPVwiY2hpbGRyZW5fYWRkZWRcIj09PWE/XCJjaGlsZF9hZGRlZFwiOmE7cmV0dXJuKFwiY2hpbGRyZW5fcmVtb3ZlZFwiPT09YT9cImNoaWxkX3JlbW92ZWRcIjphKWluIHRoaXMuamF9O2gubGY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50Yj9uZXcga2ModGhpcyxhLGIpOm51bGx9O1xuaC5jcmVhdGVFdmVudD1mdW5jdGlvbihhLGIpe08obnVsbCE9YS5aYSxcIkNoaWxkIGV2ZW50cyBzaG91bGQgaGF2ZSBhIGNoaWxkTmFtZS5cIik7dmFyIGM9Yi5NYigpLm8oYS5aYSk7cmV0dXJuIG5ldyBqYyhhLnR5cGUsdGhpcyxuZXcgVyhhLk5hLGMsYi5uLmcpLGEuVGQpfTtoLlpiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudmI7aWYoXCJjYW5jZWxcIj09PWEuRGUoKSl7Tyh0aGlzLnRiLFwiUmFpc2luZyBhIGNhbmNlbCBldmVudCBvbiBhIGxpc3RlbmVyIHdpdGggbm8gY2FuY2VsIGNhbGxiYWNrXCIpO3ZhciBjPXRoaXMudGI7cmV0dXJuIGZ1bmN0aW9uKCl7Yy5jYWxsKGIsYS5lcnJvcil9fXZhciBkPXRoaXMuamFbYS53ZF07cmV0dXJuIGZ1bmN0aW9uKCl7ZC5jYWxsKGIsYS5iZSxhLlRkKX19O1xuaC5tYXRjaGVzPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBqaSl7aWYoIXRoaXMuamF8fCFhLmphKXJldHVybiEwO2lmKHRoaXMudmI9PT1hLnZiKXt2YXIgYj1vYShhLmphKTtpZihiPT09b2EodGhpcy5qYSkpe2lmKDE9PT1iKXt2YXIgYj1wYShhLmphKSxjPXBhKHRoaXMuamEpO3JldHVybiBjPT09YiYmKCFhLmphW2JdfHwhdGhpcy5qYVtjXXx8YS5qYVtiXT09PXRoaXMuamFbY10pfXJldHVybiBuYSh0aGlzLmphLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuamFbY109PT1ifSl9fX1yZXR1cm4hMX07aC55Zj1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5qYX07ZnVuY3Rpb24ga2koKXt0aGlzLnphPXt9fWg9a2kucHJvdG90eXBlO2guZT1mdW5jdGlvbigpe3JldHVybiB2YSh0aGlzLnphKX07aC5nYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5zb3VyY2UuTGI7aWYobnVsbCE9PWQpcmV0dXJuIGQ9eih0aGlzLnphLGQpLE8obnVsbCE9ZCxcIlN5bmNUcmVlIGdhdmUgdXMgYW4gb3AgZm9yIGFuIGludmFsaWQgcXVlcnkuXCIpLGQuZ2IoYSxiLGMpO3ZhciBlPVtdO3YodGhpcy56YSxmdW5jdGlvbihkKXtlPWUuY29uY2F0KGQuZ2IoYSxiLGMpKX0pO3JldHVybiBlfTtoLlRiPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS53YSgpLGc9eih0aGlzLnphLGYpO2lmKCFnKXt2YXIgZz1jLkFhKGU/ZDpudWxsKSxrPSExO2c/az0hMDooZz1kIGluc3RhbmNlb2YgZmU/Yy5DYyhkKTpILGs9ITEpO2c9bmV3IFllKGEsbmV3IGplKG5ldyBYYihnLGssITEpLG5ldyBYYihkLGUsITEpKSk7dGhpcy56YVtmXT1nfWcuVGIoYik7cmV0dXJuIGFmKGcsYil9O1xuaC5uYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS53YSgpLGU9W10sZj1bXSxnPW51bGwhPWxpKHRoaXMpO2lmKFwiZGVmYXVsdFwiPT09ZCl7dmFyIGs9dGhpczt2KHRoaXMuemEsZnVuY3Rpb24oYSxkKXtmPWYuY29uY2F0KGEubmIoYixjKSk7YS5lKCkmJihkZWxldGUgay56YVtkXSxIZShhLlkubil8fGUucHVzaChhLlkpKX0pfWVsc2V7dmFyIG09eih0aGlzLnphLGQpO20mJihmPWYuY29uY2F0KG0ubmIoYixjKSksbS5lKCkmJihkZWxldGUgdGhpcy56YVtkXSxIZShtLlkubil8fGUucHVzaChtLlkpKSl9ZyYmbnVsbD09bGkodGhpcykmJmUucHVzaChuZXcgWChhLmssYS5wYXRoKSk7cmV0dXJue1dnOmUsdmc6Zn19O2Z1bmN0aW9uIG1pKGEpe3JldHVybiBOYShxYShhLnphKSxmdW5jdGlvbihhKXtyZXR1cm4hSGUoYS5ZLm4pfSl9aC5rYj1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3YodGhpcy56YSxmdW5jdGlvbihjKXtiPWJ8fGMua2IoYSl9KTtyZXR1cm4gYn07XG5mdW5jdGlvbiBuaShhLGIpe2lmKEhlKGIubikpcmV0dXJuIGxpKGEpO3ZhciBjPWIud2EoKTtyZXR1cm4geihhLnphLGMpfWZ1bmN0aW9uIGxpKGEpe3JldHVybiB1YShhLnphLGZ1bmN0aW9uKGEpe3JldHVybiBIZShhLlkubil9KXx8bnVsbH07ZnVuY3Rpb24gb2koYSl7dGhpcy52YT1xZTt0aGlzLm1iPW5ldyBQZjt0aGlzLmRmPXt9O3RoaXMucWM9e307dGhpcy5RYz1hfWZ1bmN0aW9uIHBpKGEsYixjLGQsZSl7dmFyIGY9YS5tYixnPWU7TyhkPmYuUGMsXCJTdGFja2luZyBhbiBvbGRlciB3cml0ZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTtwKGcpfHwoZz0hMCk7Zi5wYS5wdXNoKHtwYXRoOmIsSmE6YyxtZDpkLHZpc2libGU6Z30pO2cmJihmLlY9SmYoZi5WLGIsYykpO2YuUGM9ZDtyZXR1cm4gZT9xaShhLG5ldyBBYyhFZixiLGMpKTpbXX1mdW5jdGlvbiByaShhLGIsYyxkKXt2YXIgZT1hLm1iO08oZD5lLlBjLFwiU3RhY2tpbmcgYW4gb2xkZXIgbWVyZ2Ugb24gdG9wIG9mIG5ld2VyIG9uZXNcIik7ZS5wYS5wdXNoKHtwYXRoOmIsY2hpbGRyZW46YyxtZDpkLHZpc2libGU6ITB9KTtlLlY9S2YoZS5WLGIsYyk7ZS5QYz1kO2M9c2YoYyk7cmV0dXJuIHFpKGEsbmV3IGJmKEVmLGIsYykpfVxuZnVuY3Rpb24gc2koYSxiLGMpe2M9Y3x8ITE7dmFyIGQ9UWYoYS5tYixiKTtpZihhLm1iLlVkKGIpKXt2YXIgZT1xZTtudWxsIT1kLkphP2U9ZS5zZXQoTSwhMCk6RmIoZC5jaGlsZHJlbixmdW5jdGlvbihhLGIpe2U9ZS5zZXQobmV3IFAoYSksYil9KTtyZXR1cm4gcWkoYSxuZXcgRGYoZC5wYXRoLGUsYykpfXJldHVybltdfWZ1bmN0aW9uIHRpKGEsYixjKXtjPXNmKGMpO3JldHVybiBxaShhLG5ldyBiZihHZixiLGMpKX1mdW5jdGlvbiB1aShhLGIsYyxkKXtkPXZpKGEsZCk7aWYobnVsbCE9ZCl7dmFyIGU9d2koZCk7ZD1lLnBhdGg7ZT1lLkxiO2I9bGYoZCxiKTtjPW5ldyBBYyhuZXcgRmYoITEsITAsZSwhMCksYixjKTtyZXR1cm4geGkoYSxkLGMpfXJldHVybltdfVxuZnVuY3Rpb24geWkoYSxiLGMsZCl7aWYoZD12aShhLGQpKXt2YXIgZT13aShkKTtkPWUucGF0aDtlPWUuTGI7Yj1sZihkLGIpO2M9c2YoYyk7Yz1uZXcgYmYobmV3IEZmKCExLCEwLGUsITApLGIsYyk7cmV0dXJuIHhpKGEsZCxjKX1yZXR1cm5bXX1cbm9pLnByb3RvdHlwZS5UYj1mdW5jdGlvbihhLGIpe3ZhciBjPWEucGF0aCxkPW51bGwsZT0hMTt6Zih0aGlzLnZhLGMsZnVuY3Rpb24oYSxiKXt2YXIgZj1sZihhLGMpO2Q9ZHx8Yi5rYihmKTtlPWV8fG51bGwhPWxpKGIpfSk7dmFyIGY9dGhpcy52YS5nZXQoYyk7Zj8oZT1lfHxudWxsIT1saShmKSxkPWR8fGYua2IoTSkpOihmPW5ldyBraSx0aGlzLnZhPXRoaXMudmEuc2V0KGMsZikpO3ZhciBnO251bGwhPWQ/Zz0hMDooZz0hMSxkPUgsQ2YodGhpcy52YS5zdWJ0cmVlKGMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5rYihNKTtjJiYoZD1kLlcoYSxjKSl9KSk7dmFyIGs9bnVsbCE9bmkoZixhKTtpZighayYmIUhlKGEubikpe3ZhciBtPXppKGEpO08oIShtIGluIHRoaXMucWMpLFwiVmlldyBkb2VzIG5vdCBleGlzdCwgYnV0IHdlIGhhdmUgYSB0YWdcIik7dmFyIGw9QWkrKzt0aGlzLnFjW21dPWw7dGhpcy5kZltcIl9cIitsXT1tfWc9Zi5UYihhLGIsbmV3IFVmKGMsdGhpcy5tYiksZCxnKTtcbmt8fGV8fChmPW5pKGYsYSksZz1nLmNvbmNhdChCaSh0aGlzLGEsZikpKTtyZXR1cm4gZ307XG5vaS5wcm90b3R5cGUubmI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEucGF0aCxlPXRoaXMudmEuZ2V0KGQpLGY9W107aWYoZSYmKFwiZGVmYXVsdFwiPT09YS53YSgpfHxudWxsIT1uaShlLGEpKSl7Zj1lLm5iKGEsYixjKTtlLmUoKSYmKHRoaXMudmE9dGhpcy52YS5yZW1vdmUoZCkpO2U9Zi5XZztmPWYudmc7Yj0tMSE9PVNhKGUsZnVuY3Rpb24oYSl7cmV0dXJuIEhlKGEubil9KTt2YXIgZz14Zih0aGlzLnZhLGQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9bGkoYil9KTtpZihiJiYhZyYmKGQ9dGhpcy52YS5zdWJ0cmVlKGQpLCFkLmUoKSkpZm9yKHZhciBkPUNpKGQpLGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIG09ZFtrXSxsPW0uWSxtPURpKHRoaXMsbSk7dGhpcy5RYy5hZihFaShsKSxGaSh0aGlzLGwpLG0uQWQsbS5JKX1pZighZyYmMDxlLmxlbmd0aCYmIWMpaWYoYil0aGlzLlFjLmRlKEVpKGEpLG51bGwpO2Vsc2V7dmFyIHQ9dGhpcztNYShlLGZ1bmN0aW9uKGEpe2Eud2EoKTtcbnZhciBiPXQucWNbemkoYSldO3QuUWMuZGUoRWkoYSksYil9KX1HaSh0aGlzLGUpfXJldHVybiBmfTtvaS5wcm90b3R5cGUuQWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm1iLGQ9eGYodGhpcy52YSxhLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9bGYoYixhKTtpZihkPWMua2IoZCkpcmV0dXJuIGR9KTtyZXR1cm4gYy5BYShhLGQsYiwhMCl9O2Z1bmN0aW9uIENpKGEpe3JldHVybiB2ZihhLGZ1bmN0aW9uKGEsYyxkKXtpZihjJiZudWxsIT1saShjKSlyZXR1cm5bbGkoYyldO3ZhciBlPVtdO2MmJihlPW1pKGMpKTt2KGQsZnVuY3Rpb24oYSl7ZT1lLmNvbmNhdChhKX0pO3JldHVybiBlfSl9ZnVuY3Rpb24gR2koYSxiKXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtpZighSGUoZC5uKSl7dmFyIGQ9emkoZCksZT1hLnFjW2RdO2RlbGV0ZSBhLnFjW2RdO2RlbGV0ZSBhLmRmW1wiX1wiK2VdfX19XG5mdW5jdGlvbiBFaShhKXtyZXR1cm4gSGUoYS5uKSYmIUllKGEubik/YS5NYigpOmF9ZnVuY3Rpb24gQmkoYSxiLGMpe3ZhciBkPWIucGF0aCxlPUZpKGEsYik7Yz1EaShhLGMpO2I9YS5RYy5hZihFaShiKSxlLGMuQWQsYy5JKTtkPWEudmEuc3VidHJlZShkKTtpZihlKU8obnVsbD09bGkoZC52YWx1ZSksXCJJZiB3ZSdyZSBhZGRpbmcgYSBxdWVyeSwgaXQgc2hvdWxkbid0IGJlIHNoYWRvd2VkXCIpO2Vsc2UgZm9yKGU9dmYoZCxmdW5jdGlvbihhLGIsYyl7aWYoIWEuZSgpJiZiJiZudWxsIT1saShiKSlyZXR1cm5bWmUobGkoYikpXTt2YXIgZD1bXTtiJiYoZD1kLmNvbmNhdChPYShtaShiKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5ZfSkpKTt2KGMsZnVuY3Rpb24oYSl7ZD1kLmNvbmNhdChhKX0pO3JldHVybiBkfSksZD0wO2Q8ZS5sZW5ndGg7KytkKWM9ZVtkXSxhLlFjLmRlKEVpKGMpLEZpKGEsYykpO3JldHVybiBifVxuZnVuY3Rpb24gRGkoYSxiKXt2YXIgYz1iLlksZD1GaShhLGMpO3JldHVybntBZDpmdW5jdGlvbigpe3JldHVybihiLncoKXx8SCkuaGFzaCgpfSxJOmZ1bmN0aW9uKGIpe2lmKFwib2tcIj09PWIpe2lmKGQpe3ZhciBmPWMucGF0aDtpZihiPXZpKGEsZCkpe3ZhciBnPXdpKGIpO2I9Zy5wYXRoO2c9Zy5MYjtmPWxmKGIsZik7Zj1uZXcgQ2MobmV3IEZmKCExLCEwLGcsITApLGYpO2I9eGkoYSxiLGYpfWVsc2UgYj1bXX1lbHNlIGI9cWkoYSxuZXcgQ2MoR2YsYy5wYXRoKSk7cmV0dXJuIGJ9Zj1cIlVua25vd24gRXJyb3JcIjtcInRvb19iaWdcIj09PWI/Zj1cIlRoZSBkYXRhIHJlcXVlc3RlZCBleGNlZWRzIHRoZSBtYXhpbXVtIHNpemUgdGhhdCBjYW4gYmUgYWNjZXNzZWQgd2l0aCBhIHNpbmdsZSByZXF1ZXN0LlwiOlwicGVybWlzc2lvbl9kZW5pZWRcIj09Yj9mPVwiQ2xpZW50IGRvZXNuJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGUgZGVzaXJlZCBkYXRhLlwiOlwidW5hdmFpbGFibGVcIj09YiYmXG4oZj1cIlRoZSBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlXCIpO2Y9RXJyb3IoYitcIiBhdCBcIitjLnBhdGgudG9TdHJpbmcoKStcIjogXCIrZik7Zi5jb2RlPWIudG9VcHBlckNhc2UoKTtyZXR1cm4gYS5uYihjLG51bGwsZil9fX1mdW5jdGlvbiB6aShhKXtyZXR1cm4gYS5wYXRoLnRvU3RyaW5nKCkrXCIkXCIrYS53YSgpfWZ1bmN0aW9uIHdpKGEpe3ZhciBiPWEuaW5kZXhPZihcIiRcIik7TygtMSE9PWImJmI8YS5sZW5ndGgtMSxcIkJhZCBxdWVyeUtleS5cIik7cmV0dXJue0xiOmEuc3Vic3RyKGIrMSkscGF0aDpuZXcgUChhLnN1YnN0cigwLGIpKX19ZnVuY3Rpb24gdmkoYSxiKXt2YXIgYz1hLmRmLGQ9XCJfXCIrYjtyZXR1cm4gZCBpbiBjP2NbZF06dm9pZCAwfWZ1bmN0aW9uIEZpKGEsYil7dmFyIGM9emkoYik7cmV0dXJuIHooYS5xYyxjKX12YXIgQWk9MTtcbmZ1bmN0aW9uIHhpKGEsYixjKXt2YXIgZD1hLnZhLmdldChiKTtPKGQsXCJNaXNzaW5nIHN5bmMgcG9pbnQgZm9yIHF1ZXJ5IHRhZyB0aGF0IHdlJ3JlIHRyYWNraW5nXCIpO3JldHVybiBkLmdiKGMsbmV3IFVmKGIsYS5tYiksbnVsbCl9ZnVuY3Rpb24gcWkoYSxiKXtyZXR1cm4gSGkoYSxiLGEudmEsbnVsbCxuZXcgVWYoTSxhLm1iKSl9ZnVuY3Rpb24gSGkoYSxiLGMsZCxlKXtpZihiLnBhdGguZSgpKXJldHVybiBJaShhLGIsYyxkLGUpO3ZhciBmPWMuZ2V0KE0pO251bGw9PWQmJm51bGwhPWYmJihkPWYua2IoTSkpO3ZhciBnPVtdLGs9SyhiLnBhdGgpLG09Yi4kYyhrKTtpZigoYz1jLmNoaWxkcmVuLmdldChrKSkmJm0pdmFyIGw9ZD9kLlQoayk6bnVsbCxrPWUubyhrKSxnPWcuY29uY2F0KEhpKGEsbSxjLGwsaykpO2YmJihnPWcuY29uY2F0KGYuZ2IoYixlLGQpKSk7cmV0dXJuIGd9XG5mdW5jdGlvbiBJaShhLGIsYyxkLGUpe3ZhciBmPWMuZ2V0KE0pO251bGw9PWQmJm51bGwhPWYmJihkPWYua2IoTSkpO3ZhciBnPVtdO2MuY2hpbGRyZW4ua2EoZnVuY3Rpb24oYyxmKXt2YXIgbD1kP2QuVChjKTpudWxsLHQ9ZS5vKGMpLEE9Yi4kYyhjKTtBJiYoZz1nLmNvbmNhdChJaShhLEEsZixsLHQpKSl9KTtmJiYoZz1nLmNvbmNhdChmLmdiKGIsZSxkKSkpO3JldHVybiBnfTtmdW5jdGlvbiBKaShhLGIpe3RoaXMuRz1hO3RoaXMuWGE9dWMoYSk7dGhpcy5oZD1udWxsO3RoaXMuZmE9bmV3IFpiO3RoaXMuS2Q9MTt0aGlzLlZhPW51bGw7Ynx8MDw9KFwib2JqZWN0XCI9PT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIikuc2VhcmNoKC9nb29nbGVib3R8Z29vZ2xlIHdlYm1hc3RlciB0b29sc3xiaW5nYm90fHlhaG9vISBzbHVycHxiYWlkdXNwaWRlcnx5YW5kZXhib3R8ZHVja2R1Y2tib3QvaSk/KHRoaXMuZGE9bmV3IGNmKHRoaXMuRyx1KHRoaXMuS2IsdGhpcykpLHNldFRpbWVvdXQodSh0aGlzLlhjLHRoaXMsITApLDApKTp0aGlzLmRhPXRoaXMuVmE9bmV3IFJoKHRoaXMuRyx1KHRoaXMuS2IsdGhpcyksdSh0aGlzLlhjLHRoaXMpLHUodGhpcy5TZSx0aGlzKSk7dGhpcy5laD12YyhhLHUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHBjKHRoaXMuWGEsdGhpcy5kYSl9LHRoaXMpKTt0aGlzLnljPW5ldyBXZjtcbnRoaXMuR2U9bmV3IFNiO3ZhciBjPXRoaXM7dGhpcy5GZD1uZXcgb2koe2FmOmZ1bmN0aW9uKGEsYixmLGcpe2I9W107Zj1jLkdlLmooYS5wYXRoKTtmLmUoKXx8KGI9cWkoYy5GZCxuZXcgQWMoR2YsYS5wYXRoLGYpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZyhcIm9rXCIpfSwwKSk7cmV0dXJuIGJ9LGRlOmFhfSk7S2kodGhpcyxcImNvbm5lY3RlZFwiLCExKTt0aGlzLm5hPW5ldyBWYzt0aGlzLk89bmV3IFlnKGEsdSh0aGlzLmRhLk8sdGhpcy5kYSksdSh0aGlzLmRhLmplLHRoaXMuZGEpLHUodGhpcy5QZSx0aGlzKSk7dGhpcy51ZD0wO3RoaXMuSGU9bnVsbDt0aGlzLk09bmV3IG9pKHthZjpmdW5jdGlvbihhLGIsZixnKXtjLmRhLkNmKGEsZixiLGZ1bmN0aW9uKGIsZSl7dmFyIGY9ZyhiLGUpO2RjKGMuZmEsYS5wYXRoLGYpfSk7cmV0dXJuW119LGRlOmZ1bmN0aW9uKGEsYil7Yy5kYS4kZihhLGIpfX0pfWg9SmkucHJvdG90eXBlO1xuaC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybih0aGlzLkcub2I/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLkcuaG9zdH07aC5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRy5sY307ZnVuY3Rpb24gTGkoYSl7YT1hLkdlLmoobmV3IFAoXCIuaW5mby9zZXJ2ZXJUaW1lT2Zmc2V0XCIpKS5KKCl8fDA7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCkrYX1mdW5jdGlvbiBNaShhKXthPWE9e3RpbWVzdGFtcDpMaShhKX07YS50aW1lc3RhbXA9YS50aW1lc3RhbXB8fChuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiBhfVxuaC5LYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLnVkKys7dmFyIGU9bmV3IFAoYSk7Yj10aGlzLkhlP3RoaXMuSGUoYSxiKTpiO2E9W107ZD9jPyhiPW1hKGIsZnVuY3Rpb24oYSl7cmV0dXJuIFEoYSl9KSxhPXlpKHRoaXMuTSxlLGIsZCkpOihiPVEoYiksYT11aSh0aGlzLk0sZSxiLGQpKTpjPyhkPW1hKGIsZnVuY3Rpb24oYSl7cmV0dXJuIFEoYSl9KSxhPXRpKHRoaXMuTSxlLGQpKTooZD1RKGIpLGE9cWkodGhpcy5NLG5ldyBBYyhHZixlLGQpKSk7ZD1lOzA8YS5sZW5ndGgmJihkPU5pKHRoaXMsZSkpO2RjKHRoaXMuZmEsZCxhKX07aC5YYz1mdW5jdGlvbihhKXtLaSh0aGlzLFwiY29ubmVjdGVkXCIsYSk7ITE9PT1hJiZPaSh0aGlzKX07aC5TZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3pkKGEsZnVuY3Rpb24oYSxkKXtLaShiLGQsYSl9KX07aC5QZT1mdW5jdGlvbihhKXtLaSh0aGlzLFwiYXV0aGVudGljYXRlZFwiLGEpfTtcbmZ1bmN0aW9uIEtpKGEsYixjKXtiPW5ldyBQKFwiLy5pbmZvL1wiK2IpO2M9UShjKTt2YXIgZD1hLkdlO2QuWmQ9ZC5aZC5IKGIsYyk7Yz1xaShhLkZkLG5ldyBBYyhHZixiLGMpKTtkYyhhLmZhLGIsYyl9aC5PYj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmYoXCJzZXRcIix7cGF0aDphLnRvU3RyaW5nKCksdmFsdWU6YixuaDpjfSk7dmFyIGU9TWkodGhpcyk7Yj1RKGIsYyk7dmFyIGU9WGMoYixlKSxmPXRoaXMuS2QrKyxlPXBpKHRoaXMuTSxhLGUsZiwhMCk7JGIodGhpcy5mYSxlKTt2YXIgZz10aGlzO3RoaXMuZGEucHV0KGEudG9TdHJpbmcoKSxiLkooITApLGZ1bmN0aW9uKGIsYyl7dmFyIGU9XCJva1wiPT09YjtlfHxTKFwic2V0IGF0IFwiK2ErXCIgZmFpbGVkOiBcIitiKTtlPXNpKGcuTSxmLCFlKTtkYyhnLmZhLGEsZSk7UGkoZCxiLGMpfSk7ZT1RaSh0aGlzLGEpO05pKHRoaXMsZSk7ZGModGhpcy5mYSxlLFtdKX07XG5oLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5mKFwidXBkYXRlXCIse3BhdGg6YS50b1N0cmluZygpLHZhbHVlOmJ9KTt2YXIgZD0hMCxlPU1pKHRoaXMpLGY9e307dihiLGZ1bmN0aW9uKGEsYil7ZD0hMTt2YXIgYz1RKGEpO2ZbYl09WGMoYyxlKX0pO2lmKGQpZmMoXCJ1cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLFBpKGMsXCJva1wiKTtlbHNle3ZhciBnPXRoaXMuS2QrKyxrPXJpKHRoaXMuTSxhLGYsZyk7JGIodGhpcy5mYSxrKTt2YXIgbT10aGlzO3RoaXMuZGEuRGYoYS50b1N0cmluZygpLGIsZnVuY3Rpb24oYixkKXt2YXIgZT1cIm9rXCI9PT1iO2V8fFMoXCJ1cGRhdGUgYXQgXCIrYStcIiBmYWlsZWQ6IFwiK2IpO3ZhciBlPXNpKG0uTSxnLCFlKSxmPWE7MDxlLmxlbmd0aCYmKGY9TmkobSxhKSk7ZGMobS5mYSxmLGUpO1BpKGMsYixkKX0pO2I9UWkodGhpcyxhKTtOaSh0aGlzLGIpO2RjKHRoaXMuZmEsYSxbXSl9fTtcbmZ1bmN0aW9uIE9pKGEpe2EuZihcIm9uRGlzY29ubmVjdEV2ZW50c1wiKTt2YXIgYj1NaShhKSxjPVtdO1djKFVjKGEubmEsYiksTSxmdW5jdGlvbihiLGUpe2M9Yy5jb25jYXQocWkoYS5NLG5ldyBBYyhHZixiLGUpKSk7dmFyIGY9UWkoYSxiKTtOaShhLGYpfSk7YS5uYT1uZXcgVmM7ZGMoYS5mYSxNLGMpfWguTWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3RoaXMuZGEuTWQoYS50b1N0cmluZygpLGZ1bmN0aW9uKGQsZSl7XCJva1wiPT09ZCYmd2coYy5uYSxhKTtQaShiLGQsZSl9KX07ZnVuY3Rpb24gZmkoYSxiLGMsZCl7dmFyIGU9UShjKTthLmRhLlFlKGIudG9TdHJpbmcoKSxlLkooITApLGZ1bmN0aW9uKGMsZyl7XCJva1wiPT09YyYmYS5uYS5yYyhiLGUpO1BpKGQsYyxnKX0pfWZ1bmN0aW9uIGdpKGEsYixjLGQsZSl7dmFyIGY9UShjLGQpO2EuZGEuUWUoYi50b1N0cmluZygpLGYuSighMCksZnVuY3Rpb24oYyxkKXtcIm9rXCI9PT1jJiZhLm5hLnJjKGIsZik7UGkoZSxjLGQpfSl9XG5mdW5jdGlvbiBoaShhLGIsYyxkKXt2YXIgZT0hMCxmO2ZvcihmIGluIGMpZT0hMTtlPyhmYyhcIm9uRGlzY29ubmVjdCgpLnVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksUGkoZCxcIm9rXCIpKTphLmRhLkdmKGIudG9TdHJpbmcoKSxjLGZ1bmN0aW9uKGUsZil7aWYoXCJva1wiPT09ZSlmb3IodmFyIG0gaW4gYyl7dmFyIGw9UShjW21dKTthLm5hLnJjKGIubyhtKSxsKX1QaShkLGUsZil9KX1mdW5jdGlvbiBSaShhLGIsYyl7Yz1cIi5pbmZvXCI9PT1LKGIucGF0aCk/YS5GZC5UYihiLGMpOmEuTS5UYihiLGMpO2JjKGEuZmEsYi5wYXRoLGMpfWguQ2I9ZnVuY3Rpb24oKXt0aGlzLlZhJiZ0aGlzLlZhLkNiKCl9O2gudmM9ZnVuY3Rpb24oKXt0aGlzLlZhJiZ0aGlzLlZhLnZjKCl9O1xuaC5iZj1mdW5jdGlvbihhKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUpe2E/KHRoaXMuaGR8fCh0aGlzLmhkPW5ldyBvYyh0aGlzLlhhKSksYT10aGlzLmhkLmdldCgpKTphPXRoaXMuWGEuZ2V0KCk7dmFyIGI9UGEocmEoYSksZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5tYXgoYi5sZW5ndGgsYSl9LDApLGM7Zm9yKGMgaW4gYSl7Zm9yKHZhciBkPWFbY10sZT1jLmxlbmd0aDtlPGIrMjtlKyspYys9XCIgXCI7Y29uc29sZS5sb2coYytkKX19fTtoLmNmPWZ1bmN0aW9uKGEpe3JjKHRoaXMuWGEsYSk7dGhpcy5laC5WZlthXT0hMH07aC5mPWZ1bmN0aW9uKGEpe3ZhciBiPVwiXCI7dGhpcy5WYSYmKGI9dGhpcy5WYS5pZCtcIjpcIik7ZmMoYixhcmd1bWVudHMpfTtcbmZ1bmN0aW9uIFBpKGEsYixjKXthJiZnYyhmdW5jdGlvbigpe2lmKFwib2tcIj09YilhKG51bGwpO2Vsc2V7dmFyIGQ9KGJ8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxlPWQ7YyYmKGUrPVwiOiBcIitjKTtlPUVycm9yKGUpO2UuY29kZT1kO2EoZSl9fSl9O2Z1bmN0aW9uIFNpKGEsYixjLGQsZSl7ZnVuY3Rpb24gZigpe31hLmYoXCJ0cmFuc2FjdGlvbiBvbiBcIitiKTt2YXIgZz1uZXcgWChhLGIpO2cuSWIoXCJ2YWx1ZVwiLGYpO2M9e3BhdGg6Yix1cGRhdGU6YyxJOmQsc3RhdHVzOm51bGwsTGY6aWQoKSxnZjplLFNmOjAsbGU6ZnVuY3Rpb24oKXtnLm1jKFwidmFsdWVcIixmKX0sbmU6bnVsbCxEYTpudWxsLHJkOm51bGwsc2Q6bnVsbCx0ZDpudWxsfTtkPWEuTS5BYShiLHZvaWQgMCl8fEg7Yy5yZD1kO2Q9Yy51cGRhdGUoZC5KKCkpO2lmKHAoZCkpe2hnKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLGQsYy5wYXRoKTtjLnN0YXR1cz0xO2U9WGYoYS55YyxiKTt2YXIgaz1lLkVhKCl8fFtdO2sucHVzaChjKTtZZihlLGspO1wib2JqZWN0XCI9PT10eXBlb2YgZCYmbnVsbCE9PWQmJnkoZCxcIi5wcmlvcml0eVwiKT8oaz16KGQsXCIucHJpb3JpdHlcIiksTyhmZyhrKSxcIkludmFsaWQgcHJpb3JpdHkgcmV0dXJuZWQgYnkgdHJhbnNhY3Rpb24uIFByaW9yaXR5IG11c3QgYmUgYSB2YWxpZCBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbC5cIikpOlxuaz0oYS5NLkFhKGIpfHxIKS5DKCkuSigpO2U9TWkoYSk7ZD1RKGQsayk7ZT1YYyhkLGUpO2Muc2Q9ZDtjLnRkPWU7Yy5EYT1hLktkKys7Yz1waShhLk0sYixlLGMuRGEsYy5nZik7ZGMoYS5mYSxiLGMpO1RpKGEpfWVsc2UgYy5sZSgpLGMuc2Q9bnVsbCxjLnRkPW51bGwsYy5JJiYoYT1uZXcgVyhjLnJkLG5ldyBYKGEsYy5wYXRoKSxSKSxjLkkobnVsbCwhMSxhKSl9ZnVuY3Rpb24gVGkoYSxiKXt2YXIgYz1ifHxhLnljO2J8fFVpKGEsYyk7aWYobnVsbCE9PWMuRWEoKSl7dmFyIGQ9VmkoYSxjKTtPKDA8ZC5sZW5ndGgsXCJTZW5kaW5nIHplcm8gbGVuZ3RoIHRyYW5zYWN0aW9uIHF1ZXVlXCIpO1FhKGQsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLnN0YXR1c30pJiZXaShhLGMucGF0aCgpLGQpfWVsc2UgYy56ZCgpJiZjLlIoZnVuY3Rpb24oYil7VGkoYSxiKX0pfVxuZnVuY3Rpb24gV2koYSxiLGMpe2Zvcih2YXIgZD1PYShjLGZ1bmN0aW9uKGEpe3JldHVybiBhLkRhfSksZT1hLk0uQWEoYixkKXx8SCxkPWUsZT1lLmhhc2goKSxmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07TygxPT09Zy5zdGF0dXMsXCJ0cnlUb1NlbmRUcmFuc2FjdGlvblF1ZXVlXzogaXRlbXMgaW4gcXVldWUgc2hvdWxkIGFsbCBiZSBydW4uXCIpO2cuc3RhdHVzPTI7Zy5TZisrO3ZhciBrPWxmKGIsZy5wYXRoKSxkPWQuSChrLGcuc2QpfWQ9ZC5KKCEwKTthLmRhLnB1dChiLnRvU3RyaW5nKCksZCxmdW5jdGlvbihkKXthLmYoXCJ0cmFuc2FjdGlvbiBwdXQgcmVzcG9uc2VcIix7cGF0aDpiLnRvU3RyaW5nKCksc3RhdHVzOmR9KTt2YXIgZT1bXTtpZihcIm9rXCI9PT1kKXtkPVtdO2ZvcihmPTA7ZjxjLmxlbmd0aDtmKyspe2NbZl0uc3RhdHVzPTM7ZT1lLmNvbmNhdChzaShhLk0sY1tmXS5EYSkpO2lmKGNbZl0uSSl7dmFyIGc9Y1tmXS50ZCxrPW5ldyBYKGEsY1tmXS5wYXRoKTtkLnB1c2godShjW2ZdLkksXG5udWxsLG51bGwsITAsbmV3IFcoZyxrLFIpKSl9Y1tmXS5sZSgpfVVpKGEsWGYoYS55YyxiKSk7VGkoYSk7ZGMoYS5mYSxiLGUpO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspZ2MoZFtmXSl9ZWxzZXtpZihcImRhdGFzdGFsZVwiPT09ZClmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0uc3RhdHVzPTQ9PT1jW2ZdLnN0YXR1cz81OjE7ZWxzZSBmb3IoUyhcInRyYW5zYWN0aW9uIGF0IFwiK2IudG9TdHJpbmcoKStcIiBmYWlsZWQ6IFwiK2QpLGY9MDtmPGMubGVuZ3RoO2YrKyljW2ZdLnN0YXR1cz01LGNbZl0ubmU9ZDtOaShhLGIpfX0sZSl9ZnVuY3Rpb24gTmkoYSxiKXt2YXIgYz1YaShhLGIpLGQ9Yy5wYXRoKCksYz1WaShhLGMpO1lpKGEsYyxkKTtyZXR1cm4gZH1cbmZ1bmN0aW9uIFlpKGEsYixjKXtpZigwIT09Yi5sZW5ndGgpe2Zvcih2YXIgZD1bXSxlPVtdLGY9TmEoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEuc3RhdHVzfSksZj1PYShmLGZ1bmN0aW9uKGEpe3JldHVybiBhLkRhfSksZz0wO2c8Yi5sZW5ndGg7ZysrKXt2YXIgaz1iW2ddLG09bGYoYyxrLnBhdGgpLGw9ITEsdDtPKG51bGwhPT1tLFwicmVydW5UcmFuc2FjdGlvbnNVbmRlck5vZGVfOiByZWxhdGl2ZVBhdGggc2hvdWxkIG5vdCBiZSBudWxsLlwiKTtpZig1PT09ay5zdGF0dXMpbD0hMCx0PWsubmUsZT1lLmNvbmNhdChzaShhLk0say5EYSwhMCkpO2Vsc2UgaWYoMT09PWsuc3RhdHVzKWlmKDI1PD1rLlNmKWw9ITAsdD1cIm1heHJldHJ5XCIsZT1lLmNvbmNhdChzaShhLk0say5EYSwhMCkpO2Vsc2V7dmFyIEE9YS5NLkFhKGsucGF0aCxmKXx8SDtrLnJkPUE7dmFyIEk9YltnXS51cGRhdGUoQS5KKCkpO3AoSSk/KGhnKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLFxuSSxrLnBhdGgpLG09UShJKSxcIm9iamVjdFwiPT09dHlwZW9mIEkmJm51bGwhPUkmJnkoSSxcIi5wcmlvcml0eVwiKXx8KG09bS5pYShBLkMoKSkpLEE9ay5EYSxJPU1pKGEpLEk9WGMobSxJKSxrLnNkPW0say50ZD1JLGsuRGE9YS5LZCsrLFRhKGYsQSksZT1lLmNvbmNhdChwaShhLk0say5wYXRoLEksay5EYSxrLmdmKSksZT1lLmNvbmNhdChzaShhLk0sQSwhMCkpKToobD0hMCx0PVwibm9kYXRhXCIsZT1lLmNvbmNhdChzaShhLk0say5EYSwhMCkpKX1kYyhhLmZhLGMsZSk7ZT1bXTtsJiYoYltnXS5zdGF0dXM9MyxzZXRUaW1lb3V0KGJbZ10ubGUsTWF0aC5mbG9vcigwKSksYltnXS5JJiYoXCJub2RhdGFcIj09PXQ/KGs9bmV3IFgoYSxiW2ddLnBhdGgpLGQucHVzaCh1KGJbZ10uSSxudWxsLG51bGwsITEsbmV3IFcoYltnXS5yZCxrLFIpKSkpOmQucHVzaCh1KGJbZ10uSSxudWxsLEVycm9yKHQpLCExLG51bGwpKSkpfVVpKGEsYS55Yyk7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKylnYyhkW2ddKTtcblRpKGEpfX1mdW5jdGlvbiBYaShhLGIpe2Zvcih2YXIgYyxkPWEueWM7bnVsbCE9PShjPUsoYikpJiZudWxsPT09ZC5FYSgpOylkPVhmKGQsYyksYj1OKGIpO3JldHVybiBkfWZ1bmN0aW9uIFZpKGEsYil7dmFyIGM9W107WmkoYSxiLGMpO2Muc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLkxmLWIuTGZ9KTtyZXR1cm4gY31mdW5jdGlvbiBaaShhLGIsYyl7dmFyIGQ9Yi5FYSgpO2lmKG51bGwhPT1kKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWMucHVzaChkW2VdKTtiLlIoZnVuY3Rpb24oYil7WmkoYSxiLGMpfSl9ZnVuY3Rpb24gVWkoYSxiKXt2YXIgYz1iLkVhKCk7aWYoYyl7Zm9yKHZhciBkPTAsZT0wO2U8Yy5sZW5ndGg7ZSsrKTMhPT1jW2VdLnN0YXR1cyYmKGNbZF09Y1tlXSxkKyspO2MubGVuZ3RoPWQ7WWYoYiwwPGMubGVuZ3RoP2M6bnVsbCl9Yi5SKGZ1bmN0aW9uKGIpe1VpKGEsYil9KX1cbmZ1bmN0aW9uIFFpKGEsYil7dmFyIGM9WGkoYSxiKS5wYXRoKCksZD1YZihhLnljLGIpO2FnKGQsZnVuY3Rpb24oYil7JGkoYSxiKX0pOyRpKGEsZCk7JGYoZCxmdW5jdGlvbihiKXskaShhLGIpfSk7cmV0dXJuIGN9XG5mdW5jdGlvbiAkaShhLGIpe3ZhciBjPWIuRWEoKTtpZihudWxsIT09Yyl7Zm9yKHZhciBkPVtdLGU9W10sZj0tMSxnPTA7ZzxjLmxlbmd0aDtnKyspNCE9PWNbZ10uc3RhdHVzJiYoMj09PWNbZ10uc3RhdHVzPyhPKGY9PT1nLTEsXCJBbGwgU0VOVCBpdGVtcyBzaG91bGQgYmUgYXQgYmVnaW5uaW5nIG9mIHF1ZXVlLlwiKSxmPWcsY1tnXS5zdGF0dXM9NCxjW2ddLm5lPVwic2V0XCIpOihPKDE9PT1jW2ddLnN0YXR1cyxcIlVuZXhwZWN0ZWQgdHJhbnNhY3Rpb24gc3RhdHVzIGluIGFib3J0XCIpLGNbZ10ubGUoKSxlPWUuY29uY2F0KHNpKGEuTSxjW2ddLkRhLCEwKSksY1tnXS5JJiZkLnB1c2godShjW2ddLkksbnVsbCxFcnJvcihcInNldFwiKSwhMSxudWxsKSkpKTstMT09PWY/WWYoYixudWxsKTpjLmxlbmd0aD1mKzE7ZGMoYS5mYSxiLnBhdGgoKSxlKTtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKWdjKGRbZ10pfX07ZnVuY3Rpb24gYWooKXt0aGlzLnNjPXt9O3RoaXMuYWc9ITF9YWoucHJvdG90eXBlLkNiPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuc2MpdGhpcy5zY1thXS5DYigpfTthai5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5zYyl0aGlzLnNjW2FdLnZjKCl9O2FqLnByb3RvdHlwZS56ZT1mdW5jdGlvbigpe3RoaXMuYWc9ITB9O2JhKGFqKTthai5wcm90b3R5cGUuaW50ZXJydXB0PWFqLnByb3RvdHlwZS5DYjthai5wcm90b3R5cGUucmVzdW1lPWFqLnByb3RvdHlwZS52YztmdW5jdGlvbiBZKGEsYixjLGQpe3RoaXMuaz1hO3RoaXMucGF0aD1iO3RoaXMubj1jO3RoaXMucGM9ZH1cbmZ1bmN0aW9uIGJqKGEpe3ZhciBiPW51bGwsYz1udWxsO2Eub2EmJihiPU9kKGEpKTthLnJhJiYoYz1SZChhKSk7aWYoYS5nPT09cmUpe2lmKGEub2Epe2lmKFwiW01JTl9OQU1FXVwiIT1OZChhKSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiKTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9aWYoYS5yYSl7aWYoXCJbTUFYX05BTUVdXCIhPVBkKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPT1cbnR5cGVvZiBjKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSxvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIik7fX1lbHNlIGlmKGEuZz09PVIpe2lmKG51bGwhPWImJiFmZyhiKXx8bnVsbCE9YyYmIWZnKGMpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkgcHJpb3JpdHksIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHZhbGlkIHByaW9yaXR5IHZhbHVlIChudWxsLCBhIG51bWJlciwgb3IgYSBzdHJpbmcpLlwiKTt9ZWxzZSBpZihPKGEuZyBpbnN0YW5jZW9mIHZlfHxhLmc9PT1CZSxcInVua25vd24gaW5kZXggdHlwZS5cIiksbnVsbCE9YiYmXCJvYmplY3RcIj09PXR5cGVvZiBifHxudWxsIT1jJiZcIm9iamVjdFwiPT09dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogRmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpIGNhbm5vdCBiZSBhbiBvYmplY3QuXCIpO1xufWZ1bmN0aW9uIGNqKGEpe2lmKGEub2EmJmEucmEmJmEubGEmJighYS5sYXx8XCJcIj09PWEuUmIpKXRocm93IEVycm9yKFwiUXVlcnk6IENhbid0IGNvbWJpbmUgc3RhcnRBdCgpLCBlbmRBdCgpLCBhbmQgbGltaXQoKS4gVXNlIGxpbWl0VG9GaXJzdCgpIG9yIGxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIik7fWZ1bmN0aW9uIGRqKGEsYil7aWYoITA9PT1hLnBjKXRocm93IEVycm9yKGIrXCI6IFlvdSBjYW4ndCBjb21iaW5lIG11bHRpcGxlIG9yZGVyQnkgY2FsbHMuXCIpO31oPVkucHJvdG90eXBlO2guTWI9ZnVuY3Rpb24oKXtEKFwiUXVlcnkucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBuZXcgWCh0aGlzLmssdGhpcy5wYXRoKX07XG5oLkliPWZ1bmN0aW9uKGEsYixjLGQpe0QoXCJRdWVyeS5vblwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtsZyhcIlF1ZXJ5Lm9uXCIsYSwhMSk7RihcIlF1ZXJ5Lm9uXCIsMixiLCExKTt2YXIgZT1laihcIlF1ZXJ5Lm9uXCIsYyxkKTtpZihcInZhbHVlXCI9PT1hKVJpKHRoaXMuayx0aGlzLG5ldyBpaShiLGUuY2FuY2VsfHxudWxsLGUuUWF8fG51bGwpKTtlbHNle3ZhciBmPXt9O2ZbYV09YjtSaSh0aGlzLmssdGhpcyxuZXcgamkoZixlLmNhbmNlbCxlLlFhKSl9cmV0dXJuIGJ9O1xuaC5tYz1mdW5jdGlvbihhLGIsYyl7RChcIlF1ZXJ5Lm9mZlwiLDAsMyxhcmd1bWVudHMubGVuZ3RoKTtsZyhcIlF1ZXJ5Lm9mZlwiLGEsITApO0YoXCJRdWVyeS5vZmZcIiwyLGIsITApO1FiKFwiUXVlcnkub2ZmXCIsMyxjKTt2YXIgZD1udWxsLGU9bnVsbDtcInZhbHVlXCI9PT1hP2Q9bmV3IGlpKGJ8fG51bGwsbnVsbCxjfHxudWxsKTphJiYoYiYmKGU9e30sZVthXT1iKSxkPW5ldyBqaShlLG51bGwsY3x8bnVsbCkpO2U9dGhpcy5rO2Q9XCIuaW5mb1wiPT09Syh0aGlzLnBhdGgpP2UuRmQubmIodGhpcyxkKTplLk0ubmIodGhpcyxkKTtiYyhlLmZhLHRoaXMucGF0aCxkKX07XG5oLlBnPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhrKXtmJiYoZj0hMSxlLm1jKGEsYyksYiYmYi5jYWxsKGQuUWEsayksZy5yZXNvbHZlKGspKX1EKFwiUXVlcnkub25jZVwiLDEsNCxhcmd1bWVudHMubGVuZ3RoKTtsZyhcIlF1ZXJ5Lm9uY2VcIixhLCExKTtGKFwiUXVlcnkub25jZVwiLDIsYiwhMCk7dmFyIGQ9ZWooXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSksZT10aGlzLGY9ITAsZz1uZXcgQjtOYihnLkQpO3RoaXMuSWIoYSxjLGZ1bmN0aW9uKGIpe2UubWMoYSxjKTtkLmNhbmNlbCYmZC5jYW5jZWwuY2FsbChkLlFhLGIpO2cucmVqZWN0KGIpfSk7cmV0dXJuIGcuRH07XG5oLkxlPWZ1bmN0aW9uKGEpe1MoXCJRdWVyeS5saW1pdCgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgUXVlcnkubGltaXRUb0ZpcnN0KCkgb3IgUXVlcnkubGltaXRUb0xhc3QoKSBpbnN0ZWFkLlwiKTtEKFwiUXVlcnkubGltaXRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWZhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLmxhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXQ6IExpbWl0IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGxpbWl0LCBsaW1pdFRvRmlyc3QsIG9ybGltaXRUb0xhc3QuXCIpO3ZhciBiPXRoaXMubi5MZShhKTtjaihiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCxiLHRoaXMucGMpfTtcbmguTWU9ZnVuY3Rpb24oYSl7RChcIlF1ZXJ5LmxpbWl0VG9GaXJzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZmEoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLmxhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdCwgbGltaXRUb0ZpcnN0LCBvciBsaW1pdFRvTGFzdCkuXCIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLHRoaXMubi5NZShhKSx0aGlzLnBjKX07XG5oLk5lPWZ1bmN0aW9uKGEpe0QoXCJRdWVyeS5saW1pdFRvTGFzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZmEoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLm4ubGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdFRvTGFzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0aGlzLm4uTmUoYSksdGhpcy5wYyl9O1xuaC5RZz1mdW5jdGlvbihhKXtEKFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKFwiJGtleVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRrZXlcIiBpcyBpbnZhbGlkLiAgVXNlIFF1ZXJ5Lm9yZGVyQnlLZXkoKSBpbnN0ZWFkLicpO2lmKFwiJHByaW9yaXR5XCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHByaW9yaXR5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5UHJpb3JpdHkoKSBpbnN0ZWFkLicpO2lmKFwiJHZhbHVlXCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHZhbHVlXCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLicpO25nKFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsYSk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiKTt2YXIgYj1uZXcgUChhKTtpZihiLmUoKSl0aHJvdyBFcnJvcihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZDogY2Fubm90IHBhc3MgaW4gZW1wdHkgcGF0aC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLlwiKTtcbmI9bmV3IHZlKGIpO2I9RmUodGhpcy5uLGIpO2JqKGIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGIsITApfTtoLlJnPWZ1bmN0aW9uKCl7RChcIlF1ZXJ5Lm9yZGVyQnlLZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlLZXlcIik7dmFyIGE9RmUodGhpcy5uLHJlKTtiaihhKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCxhLCEwKX07aC5TZz1mdW5jdGlvbigpe0QoXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlQcmlvcml0eVwiKTt2YXIgYT1GZSh0aGlzLm4sUik7YmooYSk7cmV0dXJuIG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsYSwhMCl9O1xuaC5UZz1mdW5jdGlvbigpe0QoXCJRdWVyeS5vcmRlckJ5VmFsdWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlWYWx1ZVwiKTt2YXIgYT1GZSh0aGlzLm4sQmUpO2JqKGEpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGEsITApfTtoLmNlPWZ1bmN0aW9uKGEsYil7RChcIlF1ZXJ5LnN0YXJ0QXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7Z2coXCJRdWVyeS5zdGFydEF0XCIsYSx0aGlzLnBhdGgsITApO21nKFwiUXVlcnkuc3RhcnRBdFwiLGIpO3ZhciBjPXRoaXMubi5jZShhLGIpO2NqKGMpO2JqKGMpO2lmKHRoaXMubi5vYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LnN0YXJ0QXQ6IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQgb3IgZXF1YWxUbykuXCIpO3AoYSl8fChiPWE9bnVsbCk7cmV0dXJuIG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsYyx0aGlzLnBjKX07XG5oLnZkPWZ1bmN0aW9uKGEsYil7RChcIlF1ZXJ5LmVuZEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO2dnKFwiUXVlcnkuZW5kQXRcIixhLHRoaXMucGF0aCwhMCk7bWcoXCJRdWVyeS5lbmRBdFwiLGIpO3ZhciBjPXRoaXMubi52ZChhLGIpO2NqKGMpO2JqKGMpO2lmKHRoaXMubi5yYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVuZEF0OiBFbmRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGMsdGhpcy5wYyl9O1xuaC50Zz1mdW5jdGlvbihhLGIpe0QoXCJRdWVyeS5lcXVhbFRvXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO2dnKFwiUXVlcnkuZXF1YWxUb1wiLGEsdGhpcy5wYXRoLCExKTttZyhcIlF1ZXJ5LmVxdWFsVG9cIixiKTtpZih0aGlzLm4ub2EpdGhyb3cgRXJyb3IoXCJRdWVyeS5lcXVhbFRvOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7aWYodGhpcy5uLnJhKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gdGhpcy5jZShhLGIpLnZkKGEsYil9O1xuaC50b1N0cmluZz1mdW5jdGlvbigpe0QoXCJRdWVyeS50b1N0cmluZ1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcy5wYXRoLGI9XCJcIixjPWEuYWE7YzxhLnUubGVuZ3RoO2MrKylcIlwiIT09YS51W2NdJiYoYis9XCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhhLnVbY10pKSk7cmV0dXJuIHRoaXMuay50b1N0cmluZygpKyhifHxcIi9cIil9O2gud2E9ZnVuY3Rpb24oKXt2YXIgYT14ZChHZSh0aGlzLm4pKTtyZXR1cm5cInt9XCI9PT1hP1wiZGVmYXVsdFwiOmF9O1xuZnVuY3Rpb24gZWooYSxiLGMpe3ZhciBkPXtjYW5jZWw6bnVsbCxRYTpudWxsfTtpZihiJiZjKWQuY2FuY2VsPWIsRihhLDMsZC5jYW5jZWwsITApLGQuUWE9YyxRYihhLDQsZC5RYSk7ZWxzZSBpZihiKWlmKFwib2JqZWN0XCI9PT10eXBlb2YgYiYmbnVsbCE9PWIpZC5RYT1iO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIpZC5jYW5jZWw9YjtlbHNlIHRocm93IEVycm9yKEUoYSwzLCEwKStcIiBtdXN0IGVpdGhlciBiZSBhIGNhbmNlbCBjYWxsYmFjayBvciBhIGNvbnRleHQgb2JqZWN0LlwiKTtyZXR1cm4gZH1ZLnByb3RvdHlwZS5yZWY9WS5wcm90b3R5cGUuTWI7WS5wcm90b3R5cGUub249WS5wcm90b3R5cGUuSWI7WS5wcm90b3R5cGUub2ZmPVkucHJvdG90eXBlLm1jO1kucHJvdG90eXBlLm9uY2U9WS5wcm90b3R5cGUuUGc7WS5wcm90b3R5cGUubGltaXQ9WS5wcm90b3R5cGUuTGU7WS5wcm90b3R5cGUubGltaXRUb0ZpcnN0PVkucHJvdG90eXBlLk1lO1xuWS5wcm90b3R5cGUubGltaXRUb0xhc3Q9WS5wcm90b3R5cGUuTmU7WS5wcm90b3R5cGUub3JkZXJCeUNoaWxkPVkucHJvdG90eXBlLlFnO1kucHJvdG90eXBlLm9yZGVyQnlLZXk9WS5wcm90b3R5cGUuUmc7WS5wcm90b3R5cGUub3JkZXJCeVByaW9yaXR5PVkucHJvdG90eXBlLlNnO1kucHJvdG90eXBlLm9yZGVyQnlWYWx1ZT1ZLnByb3RvdHlwZS5UZztZLnByb3RvdHlwZS5zdGFydEF0PVkucHJvdG90eXBlLmNlO1kucHJvdG90eXBlLmVuZEF0PVkucHJvdG90eXBlLnZkO1kucHJvdG90eXBlLmVxdWFsVG89WS5wcm90b3R5cGUudGc7WS5wcm90b3R5cGUudG9TdHJpbmc9WS5wcm90b3R5cGUudG9TdHJpbmc7dmFyIFo9e307Wi56Yz1SaDtaLkRhdGFDb25uZWN0aW9uPVouemM7UmgucHJvdG90eXBlLmRoPWZ1bmN0aW9uKGEsYil7dGhpcy5JYShcInFcIix7cDphfSxiKX07Wi56Yy5wcm90b3R5cGUuc2ltcGxlTGlzdGVuPVouemMucHJvdG90eXBlLmRoO1JoLnByb3RvdHlwZS5zZz1mdW5jdGlvbihhLGIpe3RoaXMuSWEoXCJlY2hvXCIse2Q6YX0sYil9O1ouemMucHJvdG90eXBlLmVjaG89Wi56Yy5wcm90b3R5cGUuc2c7UmgucHJvdG90eXBlLmludGVycnVwdD1SaC5wcm90b3R5cGUuQ2I7Wi5kZz1GaDtaLlJlYWxUaW1lQ29ubmVjdGlvbj1aLmRnO0ZoLnByb3RvdHlwZS5zZW5kUmVxdWVzdD1GaC5wcm90b3R5cGUuSWE7RmgucHJvdG90eXBlLmNsb3NlPUZoLnByb3RvdHlwZS5jbG9zZTtcblouQ2c9ZnVuY3Rpb24oYSl7dmFyIGI9UmgucHJvdG90eXBlLnB1dDtSaC5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGMsZCxlLGYpe3AoZikmJihmPWEoKSk7Yi5jYWxsKHRoaXMsYyxkLGUsZil9O3JldHVybiBmdW5jdGlvbigpe1JoLnByb3RvdHlwZS5wdXQ9Yn19O1ouaGlqYWNrSGFzaD1aLkNnO1ouY2c9ZGQ7Wi5Db25uZWN0aW9uVGFyZ2V0PVouY2c7Wi53YT1mdW5jdGlvbihhKXtyZXR1cm4gYS53YSgpfTtaLnF1ZXJ5SWRlbnRpZmllcj1aLndhO1ouRmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuay5WYS5iYX07Wi5saXN0ZW5zPVouRmc7Wi56ZT1mdW5jdGlvbihhKXthLnplKCl9O1ouZm9yY2VSZXN0Q2xpZW50PVouemU7ZnVuY3Rpb24gWChhLGIpe3ZhciBjLGQsZTtpZihhIGluc3RhbmNlb2YgSmkpYz1hLGQ9YjtlbHNle0QoXCJuZXcgRmlyZWJhc2VcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7ZD1zZChhcmd1bWVudHNbMF0pO2M9ZC5maDtcImZpcmViYXNlXCI9PT1kLmRvbWFpbiYmcmQoZC5ob3N0K1wiIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tIGluc3RlYWRcIik7YyYmXCJ1bmRlZmluZWRcIiE9Y3x8cmQoXCJDYW5ub3QgcGFyc2UgRmlyZWJhc2UgdXJsLiBQbGVhc2UgdXNlIGh0dHBzOi8vPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tXCIpO2Qub2J8fFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmLTEhPT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZihcImh0dHBzOlwiKSYmUyhcIkluc2VjdXJlIEZpcmViYXNlIGFjY2VzcyBmcm9tIGEgc2VjdXJlIHBhZ2UuIFBsZWFzZSB1c2UgaHR0cHMgaW4gY2FsbHMgdG8gbmV3IEZpcmViYXNlKCkuXCIpO1xuYz1uZXcgZGQoZC5ob3N0LGQub2IsYyxcIndzXCI9PT1kLnNjaGVtZXx8XCJ3c3NcIj09PWQuc2NoZW1lKTtkPW5ldyBQKGQuYmQpO2U9ZC50b1N0cmluZygpO3ZhciBmOyEoZj0hcShjLmhvc3QpfHwwPT09Yy5ob3N0Lmxlbmd0aHx8IWVnKGMubGMpKSYmKGY9MCE9PWUubGVuZ3RoKSYmKGUmJihlPWUucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKSxmPSEocShlKSYmMCE9PWUubGVuZ3RoJiYhY2cudGVzdChlKSkpO2lmKGYpdGhyb3cgRXJyb3IoRShcIm5ldyBGaXJlYmFzZVwiLDEsITEpKydtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgVVJMIGFuZCB0aGUgcGF0aCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiLicpO2lmKGIpaWYoYiBpbnN0YW5jZW9mIGFqKWU9YjtlbHNlIGlmKHEoYikpZT1hai55YigpLGMuUmQ9YjtlbHNlIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgYSB2YWxpZCBGaXJlYmFzZS5Db250ZXh0IGZvciBzZWNvbmQgYXJndW1lbnQgdG8gbmV3IEZpcmViYXNlKClcIik7XG5lbHNlIGU9YWoueWIoKTtmPWMudG9TdHJpbmcoKTt2YXIgZz16KGUuc2MsZik7Z3x8KGc9bmV3IEppKGMsZS5hZyksZS5zY1tmXT1nKTtjPWd9WS5jYWxsKHRoaXMsYyxkLERlLCExKTt0aGlzLnRoZW49dm9pZCAwO3RoaXNbXCJjYXRjaFwiXT12b2lkIDB9a2EoWCxZKTt2YXIgZmo9WCxnaj1bXCJGaXJlYmFzZVwiXSxoaj1uO2dqWzBdaW4gaGp8fCFoai5leGVjU2NyaXB0fHxoai5leGVjU2NyaXB0KFwidmFyIFwiK2dqWzBdKTtmb3IodmFyIGlqO2dqLmxlbmd0aCYmKGlqPWdqLnNoaWZ0KCkpOykhZ2oubGVuZ3RoJiZwKGZqKT9oaltpal09Zmo6aGo9aGpbaWpdP2hqW2lqXTpoaltpal09e307WC5nb09mZmxpbmU9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuZ29PZmZsaW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2FqLnliKCkuQ2IoKX07WC5nb09ubGluZT1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5nb09ubGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTthai55YigpLnZjKCl9O1xuWC5lbmFibGVMb2dnaW5nPW9kO1guU2VydmVyVmFsdWU9e1RJTUVTVEFNUDp7XCIuc3ZcIjpcInRpbWVzdGFtcFwifX07WC5TREtfVkVSU0lPTj1FYjtYLklOVEVSTkFMPVU7WC5Db250ZXh0PWFqO1guVEVTVF9BQ0NFU1M9WjtYLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKCl7UyhcIkZpcmViYXNlLm5hbWUoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlLmtleSgpIGluc3RlYWQuXCIpO0QoXCJGaXJlYmFzZS5uYW1lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLmtleSgpfTtYLnByb3RvdHlwZS5uYW1lPVgucHJvdG90eXBlLm5hbWU7WC5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5wYXRoLmUoKT9udWxsOm1lKHRoaXMucGF0aCl9O1gucHJvdG90eXBlLmtleT1YLnByb3RvdHlwZS5rZXk7XG5YLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5jaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihmYShhKSlhPVN0cmluZyhhKTtlbHNlIGlmKCEoYSBpbnN0YW5jZW9mIFApKWlmKG51bGw9PT1LKHRoaXMucGF0aCkpe3ZhciBiPWE7YiYmKGI9Yi5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpO25nKFwiRmlyZWJhc2UuY2hpbGRcIixiKX1lbHNlIG5nKFwiRmlyZWJhc2UuY2hpbGRcIixhKTtyZXR1cm4gbmV3IFgodGhpcy5rLHRoaXMucGF0aC5vKGEpKX07WC5wcm90b3R5cGUuY2hpbGQ9WC5wcm90b3R5cGUubztYLnByb3RvdHlwZS5wYXJlbnQ9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UucGFyZW50XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBhPXRoaXMucGF0aC5wYXJlbnQoKTtyZXR1cm4gbnVsbD09PWE/bnVsbDpuZXcgWCh0aGlzLmssYSl9O1gucHJvdG90eXBlLnBhcmVudD1YLnByb3RvdHlwZS5wYXJlbnQ7XG5YLnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcztudWxsIT09YS5wYXJlbnQoKTspYT1hLnBhcmVudCgpO3JldHVybiBhfTtYLnByb3RvdHlwZS5yb290PVgucHJvdG90eXBlLnJvb3Q7WC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnNldFwiLHRoaXMucGF0aCk7Z2coXCJGaXJlYmFzZS5zZXRcIixhLHRoaXMucGF0aCwhMSk7RihcIkZpcmViYXNlLnNldFwiLDIsYiwhMCk7dmFyIGM9bmV3IEI7dGhpcy5rLk9iKHRoaXMucGF0aCxhLG51bGwsQyhjLGIpKTtyZXR1cm4gYy5EfTtYLnByb3RvdHlwZS5zZXQ9WC5wcm90b3R5cGUuc2V0O1xuWC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnVwZGF0ZVwiLHRoaXMucGF0aCk7aWYoZGEoYSkpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDsrK2QpY1tcIlwiK2RdPWFbZF07YT1jO1MoXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfWpnKFwiRmlyZWJhc2UudXBkYXRlXCIsYSx0aGlzLnBhdGgpO0YoXCJGaXJlYmFzZS51cGRhdGVcIiwyLGIsITApO2M9bmV3IEI7dGhpcy5rLnVwZGF0ZSh0aGlzLnBhdGgsYSxDKGMsYikpO3JldHVybiBjLkR9O1xuWC5wcm90b3R5cGUudXBkYXRlPVgucHJvdG90eXBlLnVwZGF0ZTtYLnByb3RvdHlwZS5PYj1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucGF0aCk7Z2coXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIixhLHRoaXMucGF0aCwhMSk7a2coXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLGIpO0YoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwzLGMsITApO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5rZXkoKXx8XCIua2V5c1wiPT09dGhpcy5rZXkoKSl0aHJvd1wiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5IGZhaWxlZDogXCIrdGhpcy5rZXkoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7dmFyIGQ9bmV3IEI7dGhpcy5rLk9iKHRoaXMucGF0aCxhLGIsQyhkLGMpKTtyZXR1cm4gZC5EfTtYLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9WC5wcm90b3R5cGUuT2I7XG5YLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnJlbW92ZVwiLHRoaXMucGF0aCk7RihcIkZpcmViYXNlLnJlbW92ZVwiLDEsYSwhMCk7cmV0dXJuIHRoaXMuc2V0KG51bGwsYSl9O1gucHJvdG90eXBlLnJlbW92ZT1YLnByb3RvdHlwZS5yZW1vdmU7XG5YLnByb3RvdHlwZS50cmFuc2FjdGlvbj1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpO29nKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIix0aGlzLnBhdGgpO0YoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDEsYSwhMSk7RihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMixiLCEwKTtpZihwKGMpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoRShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMywhMCkrXCJtdXN0IGJlIGEgYm9vbGVhbi5cIik7aWYoXCIubGVuZ3RoXCI9PT10aGlzLmtleSgpfHxcIi5rZXlzXCI9PT10aGlzLmtleSgpKXRocm93XCJGaXJlYmFzZS50cmFuc2FjdGlvbiBmYWlsZWQ6IFwiK3RoaXMua2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO1widW5kZWZpbmVkXCI9PT10eXBlb2YgYyYmKGM9ITApO3ZhciBkPW5ldyBCO3IoYikmJk5iKGQuRCk7U2kodGhpcy5rLHRoaXMucGF0aCxhLGZ1bmN0aW9uKGEsYyxnKXthP1xuZC5yZWplY3QoYSk6ZC5yZXNvbHZlKG5ldyBlaShjLGcpKTtyKGIpJiZiKGEsYyxnKX0sYyk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUudHJhbnNhY3Rpb249WC5wcm90b3R5cGUudHJhbnNhY3Rpb247WC5wcm90b3R5cGUuJGc9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7b2coXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLHRoaXMucGF0aCk7a2coXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsYSk7RihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuT2IodGhpcy5wYXRoLm8oXCIucHJpb3JpdHlcIiksYSxudWxsLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUuc2V0UHJpb3JpdHk9WC5wcm90b3R5cGUuJGc7XG5YLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnB1c2hcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7b2coXCJGaXJlYmFzZS5wdXNoXCIsdGhpcy5wYXRoKTtnZyhcIkZpcmViYXNlLnB1c2hcIixhLHRoaXMucGF0aCwhMCk7RihcIkZpcmViYXNlLnB1c2hcIiwyLGIsITApO3ZhciBjPUxpKHRoaXMuayksZD1oZihjKSxjPXRoaXMubyhkKTtpZihudWxsIT1hKXt2YXIgZT10aGlzLGY9Yy5zZXQoYSxiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUubyhkKX0pO2MudGhlbj11KGYudGhlbixmKTtjW1wiY2F0Y2hcIl09dShmLnRoZW4sZix2b2lkIDApO3IoYikmJk5iKGYpfXJldHVybiBjfTtYLnByb3RvdHlwZS5wdXNoPVgucHJvdG90eXBlLnB1c2g7WC5wcm90b3R5cGUubGI9ZnVuY3Rpb24oKXtvZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdFwiLHRoaXMucGF0aCk7cmV0dXJuIG5ldyBWKHRoaXMuayx0aGlzLnBhdGgpfTtYLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3Q9WC5wcm90b3R5cGUubGI7XG5YLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGEsYixjKXtTKFwiRmlyZWJhc2VSZWYuYXV0aCgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgRmlyZWJhc2VSZWYuYXV0aFdpdGhDdXN0b21Ub2tlbigpIGluc3RlYWQuXCIpO0QoXCJGaXJlYmFzZS5hdXRoXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpO3BnKFwiRmlyZWJhc2UuYXV0aFwiLGEpO0YoXCJGaXJlYmFzZS5hdXRoXCIsMixiLCEwKTtGKFwiRmlyZWJhc2UuYXV0aFwiLDMsYiwhMCk7dmFyIGQ9bmV3IEI7ZGgodGhpcy5rLk8sYSx7fSx7cmVtZW1iZXI6XCJub25lXCJ9LEMoZCxiKSxjKTtyZXR1cm4gZC5EfTtYLnByb3RvdHlwZS5hdXRoPVgucHJvdG90eXBlLk87WC5wcm90b3R5cGUuamU9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLnVuYXV0aFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtGKFwiRmlyZWJhc2UudW5hdXRoXCIsMSxhLCEwKTt2YXIgYj1uZXcgQjtlaCh0aGlzLmsuTyxDKGIsYSkpO3JldHVybiBiLkR9O1gucHJvdG90eXBlLnVuYXV0aD1YLnByb3RvdHlwZS5qZTtcblgucHJvdG90eXBlLkJlPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLmdldEF1dGhcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuay5PLkJlKCl9O1gucHJvdG90eXBlLmdldEF1dGg9WC5wcm90b3R5cGUuQmU7WC5wcm90b3R5cGUuSmc9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uub25BdXRoXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0YoXCJGaXJlYmFzZS5vbkF1dGhcIiwxLGEsITEpO1FiKFwiRmlyZWJhc2Uub25BdXRoXCIsMixiKTt0aGlzLmsuTy5JYihcImF1dGhfc3RhdHVzXCIsYSxiKX07WC5wcm90b3R5cGUub25BdXRoPVgucHJvdG90eXBlLkpnO1gucHJvdG90eXBlLklnPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLm9mZkF1dGhcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7RihcIkZpcmViYXNlLm9mZkF1dGhcIiwxLGEsITEpO1FiKFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDIsYik7dGhpcy5rLk8ubWMoXCJhdXRoX3N0YXR1c1wiLGEsYil9O1gucHJvdG90eXBlLm9mZkF1dGg9WC5wcm90b3R5cGUuSWc7XG5YLnByb3RvdHlwZS5oZz1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7Mj09PWFyZ3VtZW50cy5sZW5ndGgmJkhiKGIpJiYoYz1iLGI9dm9pZCAwKTtwZyhcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIixhKTtGKFwiRmlyZWJhc2UuYXV0aFdpdGhDdXN0b21Ub2tlblwiLDIsYiwhMCk7c2coXCJGaXJlYmFzZS5hdXRoV2l0aEN1c3RvbVRva2VuXCIsMyxjLCEwKTt2YXIgZD1uZXcgQjtkaCh0aGlzLmsuTyxhLHt9LGN8fHt9LEMoZCxiKSk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhDdXN0b21Ub2tlbj1YLnByb3RvdHlwZS5oZztcblgucHJvdG90eXBlLmlnPWZ1bmN0aW9uKGEsYixjKXtEKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpOzI9PT1hcmd1bWVudHMubGVuZ3RoJiZIYihiKSYmKGM9YixiPXZvaWQgMCk7cmcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUG9wdXBcIixhKTtGKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMixiLCEwKTtzZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhQb3B1cFwiLDMsYywhMCk7dmFyIGQ9bmV3IEI7aWgodGhpcy5rLk8sYSxjLEMoZCxiKSk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFBvcHVwPVgucHJvdG90eXBlLmlnO1xuWC5wcm90b3R5cGUuamc9ZnVuY3Rpb24oYSxiLGMpe0QoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7Mj09PWFyZ3VtZW50cy5sZW5ndGgmJkhiKGIpJiYoYz1iLGI9dm9pZCAwKTtyZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdFwiLGEpO0YoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwyLGIsITEpO3NnKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFJlZGlyZWN0XCIsMyxjLCEwKTt2YXIgZD1uZXcgQixlPXRoaXMuay5PLGY9YyxnPUMoZCxiKTtnaChlKTt2YXIgaz1bUWddLGY9QWcoZik7XCJhbm9ueW1vdXNcIj09PWF8fFwiZmlyZWJhc2VcIj09PWE/VChnLFNnKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKTooY2Quc2V0KFwicmVkaXJlY3RfY2xpZW50X29wdGlvbnNcIixmLnFkKSxoaChlLGssXCIvYXV0aC9cIithLGYsZykpO3JldHVybiBkLkR9O1gucHJvdG90eXBlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdD1YLnByb3RvdHlwZS5qZztcblgucHJvdG90eXBlLmtnPWZ1bmN0aW9uKGEsYixjLGQpe0QoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLDQsYXJndW1lbnRzLmxlbmd0aCk7Mz09PWFyZ3VtZW50cy5sZW5ndGgmJkhiKGMpJiYoZD1jLGM9dm9pZCAwKTtyZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLGEpO0YoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwzLGMsITApO3NnKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsNCxkLCEwKTt2YXIgZT1uZXcgQjtxKGIpPyhxZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDIsYiksZmgodGhpcy5rLk8sYStcIi90b2tlblwiLHthY2Nlc3NfdG9rZW46Yn0sZCxDKGUsYykpKTooc2coXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLGIsITEpLGZoKHRoaXMuay5PLGErXCIvdG9rZW5cIixiLGQsQyhlLGMpKSk7cmV0dXJuIGUuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFRva2VuPVgucHJvdG90eXBlLmtnO1xuWC5wcm90b3R5cGUuZ2c9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpOzE9PT1hcmd1bWVudHMubGVuZ3RoJiZIYihhKSYmKGI9YSxhPXZvaWQgMCk7RihcIkZpcmViYXNlLmF1dGhBbm9ueW1vdXNseVwiLDEsYSwhMCk7c2coXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwyLGIsITApO3ZhciBjPW5ldyBCO2ZoKHRoaXMuay5PLFwiYW5vbnltb3VzXCIse30sYixDKGMsYSkpO3JldHVybiBjLkR9O1gucHJvdG90eXBlLmF1dGhBbm9ueW1vdXNseT1YLnByb3RvdHlwZS5nZztcblgucHJvdG90eXBlLmxnPWZ1bmN0aW9uKGEsYixjKXtEKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKTsyPT09YXJndW1lbnRzLmxlbmd0aCYmSGIoYikmJihjPWIsYj12b2lkIDApO3NnKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDEsYSwhMSk7dGcoXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsYSxcImVtYWlsXCIpO3RnKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLGEsXCJwYXNzd29yZFwiKTtGKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDIsYiwhMCk7c2coXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsMyxjLCEwKTt2YXIgZD1uZXcgQjtmaCh0aGlzLmsuTyxcInBhc3N3b3JkXCIsYSxjLEMoZCxiKSk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhQYXNzd29yZD1YLnByb3RvdHlwZS5sZztcblgucHJvdG90eXBlLnZlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7c2coXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMSxhLCExKTt0ZyhcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIixhLFwiZW1haWxcIik7dGcoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsYSxcInBhc3N3b3JkXCIpO0YoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy52ZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUuY3JlYXRlVXNlcj1YLnByb3RvdHlwZS52ZTtcblgucHJvdG90eXBlLlhlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnJlbW92ZVVzZXJcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7c2coXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMSxhLCExKTt0ZyhcIkZpcmViYXNlLnJlbW92ZVVzZXJcIixhLFwiZW1haWxcIik7dGcoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsYSxcInBhc3N3b3JkXCIpO0YoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy5YZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUucmVtb3ZlVXNlcj1YLnByb3RvdHlwZS5YZTtcblgucHJvdG90eXBlLnNlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO3NnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIiwxLGEsITEpO3RnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIixhLFwiZW1haWxcIik7dGcoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLGEsXCJvbGRQYXNzd29yZFwiKTt0ZyhcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsYSxcIm5ld1Bhc3N3b3JkXCIpO0YoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLDIsYiwhMCk7dmFyIGM9bmV3IEI7dGhpcy5rLk8uc2UoYSxDKGMsYikpO3JldHVybiBjLkR9O1gucHJvdG90eXBlLmNoYW5nZVBhc3N3b3JkPVgucHJvdG90eXBlLnNlO1xuWC5wcm90b3R5cGUucmU9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7c2coXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLDEsYSwhMSk7dGcoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLGEsXCJvbGRFbWFpbFwiKTt0ZyhcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsYSxcIm5ld0VtYWlsXCIpO3RnKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIixhLFwicGFzc3dvcmRcIik7RihcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy5yZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUuY2hhbmdlRW1haWw9WC5wcm90b3R5cGUucmU7XG5YLnByb3RvdHlwZS5aZT1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO3NnKFwiRmlyZWJhc2UucmVzZXRQYXNzd29yZFwiLDEsYSwhMSk7dGcoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsYSxcImVtYWlsXCIpO0YoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy5aZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUucmVzZXRQYXNzd29yZD1YLnByb3RvdHlwZS5aZTt9KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZpcmViYXNlO1xuIiwidmFyIEZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKTtcblxuZmlyZWJhc2VSZWYgPSBuZXcgRmlyZWJhc2UoXCJodHRwczovL2plZXZlcy1zZXJ2ZXIuZmlyZWJhc2Vpby5jb20vb3JkZXJzXCIpO1xuXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1tcXFtcXF1dL2csIFwiXFxcXCQmXCIpO1xuICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKFwiWz8mXVwiICsgbmFtZSArIFwiKD0oW14mI10qKXwmfCN8JClcIiksXG4gICAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICBpZighcmVzdWx0cyB8fCAhcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZV92aXNpYmlsaXR5KGlkKSB7XG4gIHZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBpZiAoZS5zdHlsZS5kaXNwbGF5ID09ICdub25lJylcbiAgICBlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBlbHNlXG4gICAgZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzT3JkZXIoKXtcbiAgLy8gVE9ETzogd2hhdCBpZiB0aGVyZSdzIGFuICc/XG4gIHZhciB1cmwgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICB2YXIgbmFtZSA9IGdldFBhcmFtZXRlckJ5TmFtZSgnbmFtZScsIHVybCk7XG4gIHZhciBwaG9uZU51bWJlciA9IGdldFBhcmFtZXRlckJ5TmFtZSgncGhvbmUnLCB1cmwpO1xuICB2YXIgbG9jYXRpb24gPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ2xvY2F0aW9uJywgdXJsKTtcbiAgdmFyIGZvb2QgPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ2Zvb2QnLCB1cmwpO1xuXG4gIGNvbnNvbGUubG9nKG5hbWUpO1xuICBjb25zb2xlLmxvZyhsb2NhdGlvbik7XG4gIGNvbnNvbGUubG9nKGZvb2QpO1xuXG5cbiAgdmFyIG9yZGVyID0ge1xuICAgICAgbmFtZSA6IG5hbWUsXG4gICAgICBwaG9uZV9udW1iZXIgOiBwaG9uZU51bWJlcixcbiAgICAgIGxvY2F0aW9uIDogbG9jYXRpb24sXG4gICAgICBmb29kX3R5cGUgOiBmb29kXG4gIH07XG4gIGZpcmViYXNlUmVmLnB1c2gob3JkZXIpO1xuICBmaXJlYmFzZVJlZi5vZmYoKTtcblxuICAvL3ZhciBvcmRlckRhdGEgPSBbbmFtZSwgcGhvbmVOdW1iZXIsIGxvY2F0aW9uLCBmb29kXVxuICAvL3ZhciBwYXlsb2FkID0gb3JkZXJEYXRhLmpvaW4oKVxuICAvLyBuZXcgUVJDb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXJjb2RlXCIpLCBwYXlsb2FkKTtcbiAgLy8gZG9jdW1lbnQubG9jYXRpb24uaHJlZj0ncHJlcGFyZS5odG1sJztcbiAgdG9nZ2xlX3Zpc2liaWxpdHkoXCJwYXltZW50LWZvcm1cIik7XG4gIHRvZ2dsZV92aXNpYmlsaXR5KFwidGhhbmsteW91XCIpO1xuXG59XG5cbnZhciBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYWNlT3JkZXJcIikub25jbGljayA9IHByb2Nlc3NPcmRlcjtcbiJdfQ==
